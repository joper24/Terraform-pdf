<html lang="en">
 <head>
  <meta charset="utf-8"/>
  <meta content="yes" name="mobile-web-app-capable"/>
  <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
  <meta content="Terraform by HashiCorp" name="description"/>
  <link href="https://www.terraform.io/docs/language/index.html" rel="canonical"/>
  <link href="/assets/images/favicons/apple-touch-icon-13180a24.png" rel="apple-touch-icon" sizes="180x180"/>
  <link href="/assets/images/favicons/favicon-32x32-62171ffd.png" rel="icon" sizes="32x32" type="image/png"/>
  <link href="/assets/images/favicons/favicon-16x16-2821bcc8.png" rel="icon" sizes="16x16" type="image/png"/>
  <link href="/android-manifest.json" rel="manifest"/>
  <link color="#5C4EE5" href="/assets/images/favicons/safari-pinned-tab-bab846e1.svg" rel="mask-icon"/>
  <meta content="/microsoft-tile.xml" name="msapplication-config"/>
  <meta content="#ffffff" name="theme-color"/>
  <meta content="summary" name="twitter:card"/>
  <meta content="https://www.terraform.io/assets/images/og-image-8b3e4f7d.png" property="og:image"/>
  <meta content="100" property="og:image:width"/>
  <meta content="100" property="og:image:height"/>
  <meta content="@HashiCorp" name="twitter:site"/>
  <meta content="@HashiCorp" name="twitter:creator"/>
  <meta content="website" property="og:type"/>
  <meta content="https://www.terraform.io/docs/language/index.html" property="og:url"/>
  <meta content="Overview - Configuration Language - Terraform by HashiCorp" property="og:title"/>
  <meta content="Terraform by HashiCorp" property="og:site_name"/>
  <meta content="Terraform by HashiCorp" property="og:description"/>
  <title>
   Overview - Configuration Language - Terraform by HashiCorp
  </title>
  <!-- Stylesheets -->
  <link href="https://use.typekit.net/wxf7mfi.css" rel="stylesheet"/>
  <link href="css-style.css" rel="stylesheet"/>
  <!-- Site scripts -->
  <!--[if lt IE 9]><script src="/assets/javascripts/ie-compat-c141a02d.js" defer="defer"></script><![endif]-->
  <script async="" src="https://cdn.bizible.com/xdc.js?_biz_u=207ef29f64184b63f724671248569bf9&amp;_biz_h=-417244810&amp;cdn_o=a&amp;jsVer=4.20.11.13" type="text/javascript">
  </script>
  <script async="" src="//munchkin.marketo.net/159/munchkin.js" type="text/javascript">
  </script>
  <script async="" src="https://www.google-analytics.com/gtm/js?id=GTM-5R4TT2F&amp;cid=1701206452.1617407925" type="text/javascript">
  </script>
  <script async="" src="https://munchkin.marketo.net/munchkin.js" type="text/javascript">
  </script>
  <script async="" src="https://www.googletagmanager.com/gtm.js?id=GTM-N2S5JT5&amp;l=dataLayer" type="text/javascript">
  </script>
  <script async="" src="https://www.google-analytics.com/analytics.js" type="text/javascript">
  </script>
  <script async="" src="https://cdn.segment.com/analytics.js/v1/EnEETDWhfxp1rp09jVvJr66LdvwI6KVP/analytics.min.js" type="text/javascript">
  </script>
  <script defer="defer" src="/assets/javascripts/application-b91fee02.js">
  </script>
  <script defer="defer" src="/assets/javascripts/alert-banner-b7809937.js">
  </script>
  <script defer="defer" src="/assets/javascripts/terraform-overview/home-hero-cfd4d2f4.js">
  </script>
  <!-- Analytics scrpts -->
  <!-- <script defer="">
   !function(){var e=window.analytics=window.analytics||[];if(!e.initialize)if(e.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{e.invoked=!0,e.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","debug","page","once","off","on"],e.factory=function(t){return function(){var a=Array.prototype.slice.call(arguments);return a.unshift(t),e.push(a),e}};for(var t=0;t<e.methods.length;t++){var a=e.methods[t];e[a]=e.factory(a)}e.load=function(e){var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src=("https:"===document.location.protocol?"https://":"http://")+"cdn.segment.com/analytics.js/v1/"+e+"/analytics.min.js";var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(t,a)},e.SNIPPET_VERSION="4.0.0",e.load("EnEETDWhfxp1rp09jVvJr66LdvwI6KVP")}}();var om597a24292a958,om597a24292a958_poll=function(){var e=0;return function(t,a){clearInterval(e),e=setInterval(t,a)}}();!function(e,t,a){if(e.getElementById(a))om597a24292a958_poll(function(){if(window.om_loaded&&!om597a24292a958)return(om597a24292a958=new OptinMonsterApp).init({s:"35109.597a24292a958",staging:0,dev:0,beta:0})},25);else{var n=!1,o=e.createElement("script");o.id=a,o.src="//a.optnmstr.com/app/js/api.min.js",o.async=!0,o.onload=o.onreadystatechange=function(){if(!(n||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState))try{n=om_loaded=!0,(om597a24292a958=new OptinMonsterApp).init({s:"35109.597a24292a958",staging:0,dev:0,beta:0}),o.onload=o.onreadystatechange=null}catch(e){}},(document.getElementsByTagName("head")[0]||document.documentElement).appendChild(o)}}(document,0,"omapi-script");
  </script> -->
  <script async="" id="omapi-script" src="//a.optnmstr.com/app/js/api.min.js">
  </script>
  <style type="text/css">
   @-webkit-keyframes omBounce{0%,20%,50%,80%,to{-webkit-transform:translateY(0);transform:translateY(0)}40%{-webkit-transform:translateY(-30px);transform:translateY(-30px)}60%{-webkit-transform:translateY(-15px);transform:translateY(-15px)}}@keyframes omBounce{0%,20%,50%,80%,to{-webkit-transform:translateY(0);transform:translateY(0)}40%{-webkit-transform:translateY(-30px);transform:translateY(-30px)}60%{-webkit-transform:translateY(-15px);transform:translateY(-15px)}}.om-animation-bounce{-webkit-animation-duration:1s;animation-duration:1s;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-name:omBounce;animation-name:omBounce}@-webkit-keyframes omBounceIn{0%{opacity:0;-webkit-transform:scale(.3);transform:scale(.3)}50%{opacity:1;-webkit-transform:scale(1.05);transform:scale(1.05)}70%{-webkit-transform:scale(.9);transform:scale(.9)}to{opacity:1;-webkit-transform:scale(1);transform:scale(1)}}@keyframes omBounceIn{0%{opacity:0;-webkit-transform:scale(.3);transform:scale(.3)}50%{opacity:1;-webkit-transform:scale(1.05);transform:scale(1.05)}70%{-webkit-transform:scale(.9);transform:scale(.9)}to{opacity:1;-webkit-transform:scale(1);transform:scale(1)}}.om-animation-bounce-in{-webkit-animation-duration:1s;animation-duration:1s;-webkit-animation-name:omBounceIn;animation-name:omBounceIn}@-webkit-keyframes omBounceInDown{0%{opacity:0;-webkit-transform:translateY(-2000px);transform:translateY(-2000px)}60%{opacity:1;-webkit-transform:translateY(30px);transform:translateY(30px)}80%{-webkit-transform:translateY(-10px);transform:translateY(-10px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes omBounceInDown{0%{opacity:0;-webkit-transform:translateY(-2000px);transform:translateY(-2000px)}60%{opacity:1;-webkit-transform:translateY(30px);transform:translateY(30px)}80%{-webkit-transform:translateY(-10px);transform:translateY(-10px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}.om-animation-bounce-in-down{-webkit-animation-duration:1s;animation-duration:1s;-webkit-animation-name:omBounceInDown;animation-name:omBounceInDown}@-webkit-keyframes omBounceInLeft{0%{opacity:0;-webkit-transform:translateX(-2000px);transform:translateX(-2000px)}60%{opacity:1;-webkit-transform:translateX(30px);transform:translateX(30px)}80%{-webkit-transform:translateX(-10px);transform:translateX(-10px)}to{-webkit-transform:translateX(0);transform:translateX(0)}}@keyframes omBounceInLeft{0%{opacity:0;-webkit-transform:translateX(-2000px);transform:translateX(-2000px)}60%{opacity:1;-webkit-transform:translateX(30px);transform:translateX(30px)}80%{-webkit-transform:translateX(-10px);transform:translateX(-10px)}to{-webkit-transform:translateX(0);transform:translateX(0)}}.om-animation-bounce-in-left{-webkit-animation-duration:1s;animation-duration:1s;-webkit-animation-name:omBounceInLeft;animation-name:omBounceInLeft}@-webkit-keyframes omBounceInRight{0%{opacity:0;-webkit-transform:translateX(2000px);transform:translateX(2000px)}60%{opacity:1;-webkit-transform:translateX(-30px);transform:translateX(-30px)}80%{-webkit-transform:translateX(10px);transform:translateX(10px)}to{-webkit-transform:translateX(0);transform:translateX(0)}}@keyframes omBounceInRight{0%{opacity:0;-webkit-transform:translateX(2000px);transform:translateX(2000px)}60%{opacity:1;-webkit-transform:translateX(-30px);transform:translateX(-30px)}80%{-webkit-transform:translateX(10px);transform:translateX(10px)}to{-webkit-transform:translateX(0);transform:translateX(0)}}.om-animation-bounce-in-right{-webkit-animation-duration:1s;animation-duration:1s;-webkit-animation-name:omBounceInRight;animation-name:omBounceInRight}@-webkit-keyframes omBounceInUp{0%{opacity:0;-webkit-transform:translateY(2000px);transform:translateY(2000px)}60%{opacity:1;-webkit-transform:translateY(-30px);transform:translateY(-30px)}80%{-webkit-transform:translateY(10px);transform:translateY(10px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes omBounceInUp{0%{opacity:0;-webkit-transform:translateY(2000px);transform:translateY(2000px)}60%{opacity:1;-webkit-transform:translateY(-30px);transform:translateY(-30px)}80%{-webkit-transform:translateY(10px);transform:translateY(10px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}.om-animation-bounce-in-up{-webkit-animation-duration:1s;animation-duration:1s;-webkit-animation-name:omBounceInUp;animation-name:omBounceInUp}@-webkit-keyframes omFlash{0%,50%,to{opacity:1}25%,75%{opacity:0}}@keyframes omFlash{0%,50%,to{opacity:1}25%,75%{opacity:0}}.om-animation-flash{-webkit-animation-duration:1s;animation-duration:1s;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-name:omFlash;animation-name:omFlash}@-webkit-keyframes omFlip{0%{-webkit-transform:perspective(800px) translateZ(0) rotateY(0) scale(1);transform:perspective(800px) translateZ(0) rotateY(0) scale(1);-webkit-animation-timing-function:ease-out;animation-timing-function:ease-out}40%{-webkit-transform:perspective(800px) translateZ(150px) rotateY(170deg) scale(1);transform:perspective(800px) translateZ(150px) rotateY(170deg) scale(1);-webkit-animation-timing-function:ease-out;animation-timing-function:ease-out}50%{-webkit-transform:perspective(800px) translateZ(150px) rotateY(190deg) scale(1);transform:perspective(800px) translateZ(150px) rotateY(190deg) scale(1);-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in}80%{-webkit-transform:perspective(800px) translateZ(0) rotateY(1turn) scale(.95);transform:perspective(800px) translateZ(0) rotateY(1turn) scale(.95);-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in}to{-webkit-transform:perspective(800px) translateZ(0) rotateY(1turn) scale(1);transform:perspective(800px) translateZ(0) rotateY(1turn) scale(1);-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in}}@keyframes omFlip{0%{-webkit-transform:perspective(800px) translateZ(0) rotateY(0) scale(1);transform:perspective(800px) translateZ(0) rotateY(0) scale(1);-webkit-animation-timing-function:ease-out;animation-timing-function:ease-out}40%{-webkit-transform:perspective(800px) translateZ(150px) rotateY(170deg) scale(1);transform:perspective(800px) translateZ(150px) rotateY(170deg) scale(1);-webkit-animation-timing-function:ease-out;animation-timing-function:ease-out}50%{-webkit-transform:perspective(800px) translateZ(150px) rotateY(190deg) scale(1);transform:perspective(800px) translateZ(150px) rotateY(190deg) scale(1);-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in}80%{-webkit-transform:perspective(800px) translateZ(0) rotateY(1turn) scale(.95);transform:perspective(800px) translateZ(0) rotateY(1turn) scale(.95);-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in}to{-webkit-transform:perspective(800px) translateZ(0) rotateY(1turn) scale(1);transform:perspective(800px) translateZ(0) rotateY(1turn) scale(1);-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in}}.om-animation-flip{-webkit-animation-duration:1s;animation-duration:1s;-webkit-backface-visibility:visible;backface-visibility:visible;-webkit-animation-name:omFlip;animation-name:omFlip}@-webkit-keyframes omFlipInX{0%{-webkit-transform:perspective(800px) rotateX(90deg);transform:perspective(800px) rotateX(90deg);opacity:0}40%{-webkit-transform:perspective(800px) rotateX(-10deg);transform:perspective(800px) rotateX(-10deg)}70%{-webkit-transform:perspective(800px) rotateX(10deg);transform:perspective(800px) rotateX(10deg)}to{-webkit-transform:perspective(800px) rotateX(0deg);transform:perspective(800px) rotateX(0deg);opacity:1}}@keyframes omFlipInX{0%{-webkit-transform:perspective(800px) rotateX(90deg);transform:perspective(800px) rotateX(90deg);opacity:0}40%{-webkit-transform:perspective(800px) rotateX(-10deg);transform:perspective(800px) rotateX(-10deg)}70%{-webkit-transform:perspective(800px) rotateX(10deg);transform:perspective(800px) rotateX(10deg)}to{-webkit-transform:perspective(800px) rotateX(0deg);transform:perspective(800px) rotateX(0deg);opacity:1}}.om-animation-flip-down{-webkit-animation-duration:1s;animation-duration:1s;-webkit-backface-visibility:visible;backface-visibility:visible;-webkit-animation-name:omFlipInX;animation-name:omFlipInX}@-webkit-keyframes omFlipInY{0%{-webkit-transform:perspective(800px) rotateY(90deg);transform:perspective(800px) rotateY(90deg);opacity:0}40%{-webkit-transform:perspective(800px) rotateY(-10deg);transform:perspective(800px) rotateY(-10deg)}70%{-webkit-transform:perspective(800px) rotateY(10deg);transform:perspective(800px) rotateY(10deg)}to{-webkit-transform:perspective(800px) rotateY(0deg);transform:perspective(800px) rotateY(0deg);opacity:1}}@keyframes omFlipInY{0%{-webkit-transform:perspective(800px) rotateY(90deg);transform:perspective(800px) rotateY(90deg);opacity:0}40%{-webkit-transform:perspective(800px) rotateY(-10deg);transform:perspective(800px) rotateY(-10deg)}70%{-webkit-transform:perspective(800px) rotateY(10deg);transform:perspective(800px) rotateY(10deg)}to{-webkit-transform:perspective(800px) rotateY(0deg);transform:perspective(800px) rotateY(0deg);opacity:1}}.om-animation-flip-side{-webkit-animation-duration:1s;animation-duration:1s;-webkit-backface-visibility:visible;backface-visibility:visible;-webkit-animation-name:omFlipInY;animation-name:omFlipInY}@-webkit-keyframes omLightSpeedIn{0%{-webkit-transform:translateX(100%) skewX(-30deg);transform:translateX(100%) skewX(-30deg);opacity:0}60%{-webkit-transform:translateX(-20%) skewX(30deg);transform:translateX(-20%) skewX(30deg);opacity:1}80%{-webkit-transform:translateX(0) skewX(-15deg);transform:translateX(0) skewX(-15deg);opacity:1}to{-webkit-transform:translateX(0) skewX(0deg);transform:translateX(0) skewX(0deg);opacity:1}}@keyframes omLightSpeedIn{0%{-webkit-transform:translateX(100%) skewX(-30deg);transform:translateX(100%) skewX(-30deg);opacity:0}60%{-webkit-transform:translateX(-20%) skewX(30deg);transform:translateX(-20%) skewX(30deg);opacity:1}80%{-webkit-transform:translateX(0) skewX(-15deg);transform:translateX(0) skewX(-15deg);opacity:1}to{-webkit-transform:translateX(0) skewX(0deg);transform:translateX(0) skewX(0deg);opacity:1}}.om-animation-light-speed{-webkit-animation-duration:1s;animation-duration:1s;-webkit-animation-name:omLightSpeedIn;animation-name:omLightSpeedIn;-webkit-animation-timing-function:ease-out;animation-timing-function:ease-out}@-webkit-keyframes omPulse{0%{-webkit-transform:scale(1);transform:scale(1)}50%{-webkit-transform:scale(1.1);transform:scale(1.1)}to{-webkit-transform:scale(1);transform:scale(1)}}@keyframes omPulse{0%{-webkit-transform:scale(1);transform:scale(1)}50%{-webkit-transform:scale(1.1);transform:scale(1.1)}to{-webkit-transform:scale(1);transform:scale(1)}}.om-animation-pulse{-webkit-animation-duration:1s;animation-duration:1s;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-name:omPulse;animation-name:omPulse}@-webkit-keyframes omRollIn{0%{opacity:0;-webkit-transform:translateX(-100%) rotate(-120deg);transform:translateX(-100%) rotate(-120deg)}to{opacity:1;-webkit-transform:translateX(0) rotate(0deg);transform:translateX(0) rotate(0deg)}}@keyframes omRollIn{0%{opacity:0;-webkit-transform:translateX(-100%) rotate(-120deg);transform:translateX(-100%) rotate(-120deg)}to{opacity:1;-webkit-transform:translateX(0) rotate(0deg);transform:translateX(0) rotate(0deg)}}.om-animation-roll-in{-webkit-animation-duration:1s;animation-duration:1s;-webkit-animation-name:omRollIn;animation-name:omRollIn}@-webkit-keyframes omRotateIn{0%{-webkit-transform-origin:center center;transform-origin:center center;-webkit-transform:rotate(-200deg);transform:rotate(-200deg);opacity:0}to{-webkit-transform-origin:center center;transform-origin:center center;-webkit-transform:rotate(0);transform:rotate(0);opacity:1}}@keyframes omRotateIn{0%{-webkit-transform-origin:center center;transform-origin:center center;-webkit-transform:rotate(-200deg);transform:rotate(-200deg);opacity:0}to{-webkit-transform-origin:center center;transform-origin:center center;-webkit-transform:rotate(0);transform:rotate(0);opacity:1}}.om-animation-rotate{-webkit-animation-duration:1s;animation-duration:1s;-webkit-animation-name:omRotateIn;animation-name:omRotateIn}@-webkit-keyframes omRotateInDownLeft{0%{-webkit-transform-origin:left bottom;transform-origin:left bottom;-webkit-transform:rotate(-90deg);transform:rotate(-90deg);opacity:0}to{-webkit-transform-origin:left bottom;transform-origin:left bottom;-webkit-transform:rotate(0);transform:rotate(0);opacity:1}}@keyframes omRotateInDownLeft{0%{-webkit-transform-origin:left bottom;transform-origin:left bottom;-webkit-transform:rotate(-90deg);transform:rotate(-90deg);opacity:0}to{-webkit-transform-origin:left bottom;transform-origin:left bottom;-webkit-transform:rotate(0);transform:rotate(0);opacity:1}}.om-animation-rotate-down-left{-webkit-animation-duration:1s;animation-duration:1s;-webkit-animation-name:omRotateInDownLeft;animation-name:omRotateInDownLeft}@-webkit-keyframes omRotateInDownRight{0%{-webkit-transform-origin:right bottom;transform-origin:right bottom;-webkit-transform:rotate(90deg);transform:rotate(90deg);opacity:0}to{-webkit-transform-origin:right bottom;transform-origin:right bottom;-webkit-transform:rotate(0);transform:rotate(0);opacity:1}}@keyframes omRotateInDownRight{0%{-webkit-transform-origin:right bottom;transform-origin:right bottom;-webkit-transform:rotate(90deg);transform:rotate(90deg);opacity:0}to{-webkit-transform-origin:right bottom;transform-origin:right bottom;-webkit-transform:rotate(0);transform:rotate(0);opacity:1}}.om-animation-rotate-down-right{-webkit-animation-duration:1s;animation-duration:1s;-webkit-animation-name:omRotateInDownRight;animation-name:omRotateInDownRight}@-webkit-keyframes omRotateInUpLeft{0%{-webkit-transform-origin:left bottom;transform-origin:left bottom;-webkit-transform:rotate(90deg);transform:rotate(90deg);opacity:0}to{-webkit-transform-origin:left bottom;transform-origin:left bottom;-webkit-transform:rotate(0);transform:rotate(0);opacity:1}}@keyframes omRotateInUpLeft{0%{-webkit-transform-origin:left bottom;transform-origin:left bottom;-webkit-transform:rotate(90deg);transform:rotate(90deg);opacity:0}to{-webkit-transform-origin:left bottom;transform-origin:left bottom;-webkit-transform:rotate(0);transform:rotate(0);opacity:1}}.om-animation-rotate-up-left{-webkit-animation-duration:1s;animation-duration:1s;-webkit-animation-name:omRotateInUpLeft;animation-name:omRotateInUpLeft}@-webkit-keyframes omRotateInUpRight{0%{-webkit-transform-origin:right bottom;transform-origin:right bottom;-webkit-transform:rotate(-90deg);transform:rotate(-90deg);opacity:0}to{-webkit-transform-origin:right bottom;transform-origin:right bottom;-webkit-transform:rotate(0);transform:rotate(0);opacity:1}}@keyframes omRotateInUpRight{0%{-webkit-transform-origin:right bottom;transform-origin:right bottom;-webkit-transform:rotate(-90deg);transform:rotate(-90deg);opacity:0}to{-webkit-transform-origin:right bottom;transform-origin:right bottom;-webkit-transform:rotate(0);transform:rotate(0);opacity:1}}.om-animation-rotate-up-right{-webkit-animation-duration:1s;animation-duration:1s;-webkit-animation-name:omRotateInUpRight;animation-name:omRotateInUpRight}@-webkit-keyframes omRubberBand{0%{-webkit-transform:scale(1);transform:scale(1)}30%{-webkit-transform:scaleX(1.25) scaleY(.75);transform:scaleX(1.25) scaleY(.75)}40%{-webkit-transform:scaleX(.75) scaleY(1.25);transform:scaleX(.75) scaleY(1.25)}60%{-webkit-transform:scaleX(1.15) scaleY(.85);transform:scaleX(1.15) scaleY(.85)}to{-webkit-transform:scale(1);transform:scale(1)}}@keyframes omRubberBand{0%{-webkit-transform:scale(1);transform:scale(1)}30%{-webkit-transform:scaleX(1.25) scaleY(.75);transform:scaleX(1.25) scaleY(.75)}40%{-webkit-transform:scaleX(.75) scaleY(1.25);transform:scaleX(.75) scaleY(1.25)}60%{-webkit-transform:scaleX(1.15) scaleY(.85);transform:scaleX(1.15) scaleY(.85)}to{-webkit-transform:scale(1);transform:scale(1)}}.om-animation-rubber-band{-webkit-animation-duration:1s;animation-duration:1s;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-name:omRubberBand;animation-name:omRubberBand}@-webkit-keyframes omShake{0%,to{-webkit-transform:translateX(0);transform:translateX(0)}10%,30%,50%,70%,90%{-webkit-transform:translateX(-10px);transform:translateX(-10px)}20%,40%,60%,80%{-webkit-transform:translateX(10px);transform:translateX(10px)}}@keyframes omShake{0%,to{-webkit-transform:translateX(0);transform:translateX(0)}10%,30%,50%,70%,90%{-webkit-transform:translateX(-10px);transform:translateX(-10px)}20%,40%,60%,80%{-webkit-transform:translateX(10px);transform:translateX(10px)}}.om-animation-shake{-webkit-animation-duration:1s;animation-duration:1s;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-name:omShake;animation-name:omShake}@-webkit-keyframes omSlideInDown{0%{opacity:0;-webkit-transform:translateY(-2000px);transform:translateY(-2000px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes omSlideInDown{0%{opacity:0;-webkit-transform:translateY(-2000px);transform:translateY(-2000px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}.om-animation-slide-in-down{-webkit-animation-duration:1s;animation-duration:1s;-webkit-animation-name:omSlideInDown;animation-name:omSlideInDown}@-webkit-keyframes omSlideInLeft{0%{opacity:0;-webkit-transform:translateX(-2000px);transform:translateX(-2000px)}to{-webkit-transform:translateX(0);transform:translateX(0)}}@keyframes omSlideInLeft{0%{opacity:0;-webkit-transform:translateX(-2000px);transform:translateX(-2000px)}to{-webkit-transform:translateX(0);transform:translateX(0)}}.om-animation-slide-in-left{-webkit-animation-duration:1s;animation-duration:1s;-webkit-animation-name:omSlideInLeft;animation-name:omSlideInLeft}@-webkit-keyframes omSlideInRight{0%{opacity:0;-webkit-transform:translateX(2000px);transform:translateX(2000px)}to{-webkit-transform:translateX(0);transform:translateX(0)}}@keyframes omSlideInRight{0%{opacity:0;-webkit-transform:translateX(2000px);transform:translateX(2000px)}to{-webkit-transform:translateX(0);transform:translateX(0)}}.om-animation-slide-in-right{-webkit-animation-duration:1s;animation-duration:1s;-webkit-animation-name:omSlideInRight;animation-name:omSlideInRight}@-webkit-keyframes omSwing{20%{-webkit-transform:rotate(15deg);transform:rotate(15deg)}40%{-webkit-transform:rotate(-10deg);transform:rotate(-10deg)}60%{-webkit-transform:rotate(5deg);transform:rotate(5deg)}80%{-webkit-transform:rotate(-5deg);transform:rotate(-5deg)}to{-webkit-transform:rotate(0deg);transform:rotate(0deg)}}@keyframes omSwing{20%{-webkit-transform:rotate(15deg);transform:rotate(15deg)}40%{-webkit-transform:rotate(-10deg);transform:rotate(-10deg)}60%{-webkit-transform:rotate(5deg);transform:rotate(5deg)}80%{-webkit-transform:rotate(-5deg);transform:rotate(-5deg)}to{-webkit-transform:rotate(0deg);transform:rotate(0deg)}}.om-animation-swing{-webkit-animation-duration:1s;animation-duration:1s;-webkit-transform-origin:top center;transform-origin:top center;-webkit-animation-name:omSwing;animation-name:omSwing}@-webkit-keyframes omTada{0%{-webkit-transform:scale(1);transform:scale(1)}10%,20%{-webkit-transform:scale(.9) rotate(-3deg);transform:scale(.9) rotate(-3deg)}30%,50%,70%,90%{-webkit-transform:scale(1.1) rotate(3deg);transform:scale(1.1) rotate(3deg)}40%,60%,80%{-webkit-transform:scale(1.1) rotate(-3deg);transform:scale(1.1) rotate(-3deg)}to{-webkit-transform:scale(1) rotate(0);transform:scale(1) rotate(0)}}@keyframes omTada{0%{-webkit-transform:scale(1);transform:scale(1)}10%,20%{-webkit-transform:scale(.9) rotate(-3deg);transform:scale(.9) rotate(-3deg)}30%,50%,70%,90%{-webkit-transform:scale(1.1) rotate(3deg);transform:scale(1.1) rotate(3deg)}40%,60%,80%{-webkit-transform:scale(1.1) rotate(-3deg);transform:scale(1.1) rotate(-3deg)}to{-webkit-transform:scale(1) rotate(0);transform:scale(1) rotate(0)}}.om-animation-tada{-webkit-animation-duration:1s;animation-duration:1s;-webkit-animation-name:omTada;animation-name:omTada}@-webkit-keyframes omWobble{0%{-webkit-transform:translateX(0);transform:translateX(0)}15%{-webkit-transform:translateX(-25%) rotate(-5deg);transform:translateX(-25%) rotate(-5deg)}30%{-webkit-transform:translateX(20%) rotate(3deg);transform:translateX(20%) rotate(3deg)}45%{-webkit-transform:translateX(-15%) rotate(-3deg);transform:translateX(-15%) rotate(-3deg)}60%{-webkit-transform:translateX(10%) rotate(2deg);transform:translateX(10%) rotate(2deg)}75%{-webkit-transform:translateX(-5%) rotate(-1deg);transform:translateX(-5%) rotate(-1deg)}to{-webkit-transform:translateX(0);transform:translateX(0)}}@keyframes omWobble{0%{-webkit-transform:translateX(0);transform:translateX(0)}15%{-webkit-transform:translateX(-25%) rotate(-5deg);transform:translateX(-25%) rotate(-5deg)}30%{-webkit-transform:translateX(20%) rotate(3deg);transform:translateX(20%) rotate(3deg)}45%{-webkit-transform:translateX(-15%) rotate(-3deg);transform:translateX(-15%) rotate(-3deg)}60%{-webkit-transform:translateX(10%) rotate(2deg);transform:translateX(10%) rotate(2deg)}75%{-webkit-transform:translateX(-5%) rotate(-1deg);transform:translateX(-5%) rotate(-1deg)}to{-webkit-transform:translateX(0);transform:translateX(0)}}.om-animation-wobble{-webkit-animation-duration:1s;animation-duration:1s;-webkit-animation-name:omWobble;animation-name:omWobble}.om-content-lock{color:transparent!important;text-shadow:rgba(0,0,0,.5) 0 0 10px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:none;filter:url("data:image/svg+xml;utf9,<svg%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'><filter%20id='blur'><feGaussianBlur%20stdDeviation='10'%20/></filter></svg>#blur");-webkit-filter:blur(10px);-ms-filter:blur(10px);-o-filter:blur(10px);filter:blur(10px)}html.om-mobile-position,html.om-mobile-position body{position:fixed!important}html.om-ios-form,html.om-ios-form body{-webkit-transform:translateZ(0)!important;transform:translateZ(0)!important;-webkit-overflow-scrolling:touch!important;height:100%!important;overflow:auto!important}html.om-position-popup body{overflow:hidden!important}html.om-position-floating-top{transition:padding-top .5s ease!important}html.om-position-floating-bottom{transition:padding-bottom .5s ease!important}html.om-reset-dimensions{height:100%!important;width:100%!important}.om-verification-confirmation{font-family:Lato,Arial,Helvetica,sans-serif;position:fixed;border-radius:10px;bottom:20px;left:20px;padding:10px 20px;opacity:0;transition:opacity .3s ease-in;background:#85bf31;color:#fff;font-size:18px;font-weight:700;z-index:9999}
  </style>
  <script async="" src="https://a.omappapi.com/app/js/moment.js/2.24.0/moment.min.js">
  </script>
  <script async="" src="https://a.omappapi.com/app/js/webfont/1.5.18/webfont.js">
  </script>
  <script async="" src="https://www.google-analytics.com/analytics.js">
  </script>
  <script async="" src="https://a.omappapi.com/app/js/moment-timezone/0.5.23/moment-timezone-with-data-2012-2022.min.js">
  </script>
  <link rel="canonical" href="https://www.terraform.io/docs/language/index.html">
 </head>
 <body class="layout-language page-overview-configuration-language" id="overview-configuration-language">  
  <div class="container">
 
   













    

    



<!-- ########### Files and Directories : Overview ############### -->
<!-- ########### https://www.terraform.io/docs/language/index.html ############### --
><!-- ########### Files and Directories : Overview ############### -->

<div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="terraform-language-documentation">
    <a class="anchor" href="#terraform-language-documentation" name="terraform-language-documentation">
     »
    </a>
    Terraform Language Documentation
   </h1>
  </div>
  <p>
   This is the documentation for Terraform's configuration language. It is relevant
 to users of
   <a href="/docs/cli/index.html">
    Terraform CLI
   </a>
   ,
   <a href="/docs/cloud/index.html">
    Terraform Cloud
   </a>
   , and
   <a href="/docs/enterprise/index.html">
    Terraform Enterprise
   </a>
   .
  </p>
  <blockquote>
   <p>
    <strong>
     Hands-on:
    </strong>
    Try the
    <a href="https://learn.hashicorp.com/collections/terraform/aws-get-started?utm_source=WEBSITE&amp;utm_medium=WEB_IO&amp;utm_offer=ARTICLE_PAGE&amp;utm_content=DOCS">
     Terraform: Get Started
    </a>
    collection on HashiCorp Learn.
   </p>
  </blockquote>
  <p>
   <em>
    The Terraform language is Terraform's primary user interface.
   </em>
   In every edition
 of Terraform, a configuration written in the Terraform language is always at the
 heart of the workflow.
  </p>
  <h2 id="about-the-terraform-language">
   <a class="anchor" href="#about-the-terraform-language" name="about-the-terraform-language">
    »
   </a>
   About the Terraform Language
  </h2>
  <p>
   The main purpose of the Terraform language is declaring
   <a href="/docs/language/resources/index.html">
    resources
   </a>
   , which represent infrastructure objects. All other
 language features exist only to make the definition of resources more flexible
 and convenient.
  </p>
  <p>
   A
   <em>
    Terraform configuration
   </em>
   is a complete document in the Terraform language
 that tells Terraform how to manage a given collection of infrastructure. A
 configuration can consist of multiple files and directories.
  </p>
  <p>
   The syntax of the Terraform language consists of only a few basic elements:
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">resource</span> <span class="s2">"aws_vpc"</span> <span class="s2">"main"</span> <span class="p">{</span>
   <span class="n">cidr_block</span> <span class="o">=</span> <span class="n">var</span><span class="p">.</span><span class="nf">base_cidr_block</span>
 <span class="p">}</span>
 
 <span class="o">&lt;</span><span class="no">BLOCK</span> <span class="no">TYPE</span><span class="o">&gt;</span> <span class="s2">"&lt;BLOCK LABEL&gt;"</span> <span class="s2">"&lt;BLOCK LABEL&gt;"</span> <span class="p">{</span>
   <span class="c1"># Block body</span>
   <span class="o">&lt;</span><span class="no">IDENTIFIER</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="no">EXPRESSION</span><span class="o">&gt;</span> <span class="c1"># Argument</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <ul>
   <li>
    <em>
     Blocks
    </em>
    are containers for other content and usually represent the
 configuration of some kind of object, like a resource. Blocks have a
    <em>
     block type,
    </em>
    can have zero or more
    <em>
     labels,
    </em>
    and have a
    <em>
     body
    </em>
    that contains
 any number of arguments and nested blocks. Most of Terraform's features are
 controlled by top-level blocks in a configuration file.
   </li>
   <li>
    <em>
     Arguments
    </em>
    assign a value to a name. They appear within blocks.
   </li>
   <li>
    <em>
     Expressions
    </em>
    represent a value, either literally or by referencing and
 combining other values. They appear as values for arguments, or within other
 expressions.
   </li>
  </ul>
  <p>
   The Terraform language is declarative, describing an intended goal rather than
 the steps to reach that goal. The ordering of blocks and the files they are
 organized into are generally not significant; Terraform only considers implicit
 and explicit relationships between resources when determining an order of
 operations.
  </p>
  <h3 id="example">
   <a class="anchor" href="#example" name="example">
    »
   </a>
   Example
  </h3>
  <p>
   The following example describes a simple network topology for Amazon Web
 Services, just to give a sense of the overall structure and syntax of the
 Terraform language. Similar configurations can be created for other virtual
 network services, using resource types defined by other providers, and a
 practical network configuration will often contain additional elements not
 shown here.
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">terraform</span> <span class="p">{</span>
   <span class="n">required_providers</span> <span class="p">{</span>
     <span class="n">aws</span> <span class="o">=</span> <span class="p">{</span>
       <span class="n">source</span>  <span class="o">=</span> <span class="s2">"hashicorp/aws"</span>
       <span class="n">version</span> <span class="o">=</span> <span class="s2">"~&gt; 1.0.4"</span>
     <span class="p">}</span>
   <span class="p">}</span>
 <span class="p">}</span>
 
 <span class="n">variable</span> <span class="s2">"aws_region"</span> <span class="p">{}</span>
 
 <span class="n">variable</span> <span class="s2">"base_cidr_block"</span> <span class="p">{</span>
   <span class="n">description</span> <span class="o">=</span> <span class="s2">"A /16 CIDR range definition, such as 10.1.0.0/16, that the VPC will use"</span>
   <span class="n">default</span> <span class="o">=</span> <span class="s2">"10.1.0.0/16"</span>
 <span class="p">}</span>
 
 <span class="n">variable</span> <span class="s2">"availability_zones"</span> <span class="p">{</span>
   <span class="n">description</span> <span class="o">=</span> <span class="s2">"A list of availability zones in which to create subnets"</span>
   <span class="n">type</span> <span class="o">=</span> <span class="n">list</span><span class="p">(</span><span class="n">string</span><span class="p">)</span>
 <span class="p">}</span>
 
 <span class="n">provider</span> <span class="s2">"aws"</span> <span class="p">{</span>
   <span class="n">region</span> <span class="o">=</span> <span class="n">var</span><span class="p">.</span><span class="nf">aws_region</span>
 <span class="p">}</span>
 
 <span class="n">resource</span> <span class="s2">"aws_vpc"</span> <span class="s2">"main"</span> <span class="p">{</span>
   <span class="c1"># Referencing the base_cidr_block variable allows the network address</span>
   <span class="c1"># to be changed without modifying the configuration.</span>
   <span class="n">cidr_block</span> <span class="o">=</span> <span class="n">var</span><span class="p">.</span><span class="nf">base_cidr_block</span>
 <span class="p">}</span>
 
 <span class="n">resource</span> <span class="s2">"aws_subnet"</span> <span class="s2">"az"</span> <span class="p">{</span>
   <span class="c1"># Create one subnet for each given availability zone.</span>
   <span class="n">count</span> <span class="o">=</span> <span class="n">length</span><span class="p">(</span><span class="n">var</span><span class="p">.</span><span class="nf">availability_zones</span><span class="p">)</span>
 
   <span class="c1"># For each subnet, use one of the specified availability zones.</span>
   <span class="n">availability_zone</span> <span class="o">=</span> <span class="n">var</span><span class="p">.</span><span class="nf">availability_zones</span><span class="p">[</span><span class="n">count</span><span class="p">.</span><span class="nf">index</span><span class="p">]</span>
 
   <span class="c1"># By referencing the aws_vpc.main object, Terraform knows that the subnet</span>
   <span class="c1"># must be created only after the VPC is created.</span>
   <span class="n">vpc_id</span> <span class="o">=</span> <span class="n">aws_vpc</span><span class="p">.</span><span class="nf">main</span><span class="p">.</span><span class="nf">id</span>
 
   <span class="c1"># Built-in functions and operators can be used for simple transformations of</span>
   <span class="c1"># values, such as computing a subnet address. Here we create a /20 prefix for</span>
   <span class="c1"># each subnet, using consecutive addresses for each availability zone,</span>
   <span class="c1"># such as 10.1.16.0/20 .</span>
   <span class="n">cidr_block</span> <span class="o">=</span> <span class="n">cidrsubnet</span><span class="p">(</span><span class="n">aws_vpc</span><span class="p">.</span><span class="nf">main</span><span class="p">.</span><span class="nf">cidr_block</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="n">count</span><span class="p">.</span><span class="nf">index</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
 <span class="p">}</span>
 </code></pre>
  </div>
 </div>
 
 <!-- ########### Files and Directories : Override Files ############### -->
 <!-- ########### https://www.terraform.io/docs/language/files/index.html ############### --
 ><!-- ########### Files and Directories : Override Files ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="files-and-directories">
    <a class="anchor" href="#files-and-directories" name="files-and-directories">
     »
    </a>
    Files and Directories
   </h1>
   <div id="inner-quicknav">
    <span id="inner-quicknav-trigger">
     Jump to Section
     <svg height="5" width="9" xmlns="http://www.w3.org/2000/svg">
      <path d="M8.811 1.067a.612.612 0 0 0 0-.884.655.655 0 0 0-.908 0L4.5 3.491 1.097.183a.655.655 0 0 0-.909 0 .615.615 0 0 0 0 .884l3.857 3.75a.655.655 0 0 0 .91 0l3.856-3.75z" fill-rule="evenodd">
      </path>
     </svg>
    </span>
    <ul class="dropdown">
     <li class="level-h2">
      <a href="#file-extension">
       »
 File Extension
      </a>
     </li>
     <li class="level-h2">
      <a href="#text-encoding">
       »
 Text Encoding
      </a>
     </li>
     <li class="level-h2">
      <a href="#directories-and-modules">
       »
 Directories and Modules
      </a>
     </li>
     <li class="level-h2">
      <a href="#the-root-module">
       »
 The Root Module
      </a>
     </li>
    </ul>
   </div>
  </div>
  <h2 id="file-extension">
   <a class="anchor" href="#file-extension" name="file-extension">
    »
   </a>
   File Extension
  </h2>
  <p>
   Code in the Terraform language is stored in plain text files with the
   <code>
    .tf
   </code>
   file
 extension. There is also
   <a href="/docs/language/syntax/json.html">
    a JSON-based variant of the language
   </a>
   that is named with
 the
   <code>
    .tf.json
   </code>
   file extension.
  </p>
  <p>
   Files containing Terraform code are often called
   <em>
    configuration files.
   </em>
  </p>
  <h2 id="text-encoding">
   <a class="anchor" href="#text-encoding" name="text-encoding">
    »
   </a>
   Text Encoding
  </h2>
  <p>
   Configuration files must always use UTF-8 encoding, and by convention
 usually use Unix-style line endings (LF) rather than Windows-style
 line endings (CRLF), though both are accepted.
  </p>
  <h2 id="directories-and-modules">
   <a class="anchor" href="#directories-and-modules" name="directories-and-modules">
    »
   </a>
   Directories and Modules
  </h2>
  <p>
   A
   <em>
    module
   </em>
   is a collection of
   <code>
    .tf
   </code>
   and/or
   <code>
    .tf.json
   </code>
   files kept together in a
 directory.
  </p>
  <p>
   A Terraform module only consists of the top-level configuration files in a
 directory; nested directories are treated as completely separate modules, and
 are not automatically included in the configuration.
  </p>
  <p>
   Terraform evaluates all of the configuration files in a module, effectively
 treating the entire module as a single document. Separating various blocks into
 different files is purely for the convenience of readers and maintainers, and
 has no effect on the module's behavior.
  </p>
  <p>
   A Terraform module can use
   <a href="/docs/language/modules/index.html">
    module calls
   </a>
   to
 explicitly include other modules into the configuration. These child modules can
 come from local directories (nested in the parent module's directory, or
 anywhere else on disk), or from external sources like the
   <a href="https://registry.terraform.io">
    Terraform Registry
   </a>
   .
  </p>
  <h2 id="the-root-module">
   <a class="anchor" href="#the-root-module" name="the-root-module">
    »
   </a>
   The Root Module
  </h2>
  <p>
   Terraform always runs in the context of a single
   <em>
    root module.
   </em>
   A complete
   <em>
    Terraform configuration
   </em>
   consists of a root module and the tree of child
 modules (which includes the modules called by the root module, any modules
 called by those modules, etc.).
  </p>
  <ul>
   <li>
    In Terraform CLI, the root module is the working directory where Terraform is
 invoked. (You can use command line options to specify a root module outside
 the working directory, but in practice this is rare. )
   </li>
   <li>
    In Terraform Cloud and Terraform Enterprise, the root module for a workspace
 defaults to the top level of the configuration directory (supplied via version
 control repository or direct upload), but the workspace settings can specify a
 subdirectory to use instead.
   </li>
  </ul>
 </div>
 
 <!-- ########### Syntax : Overview ############### -->
 <!-- ########### https://www.terraform.io/docs/language/files/override.html ############### --
 ><!-- ########### Syntax : Overview ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="override-files">
    <a class="anchor" href="#override-files" name="override-files">
     »
    </a>
    Override Files
   </h1>
   <div id="inner-quicknav">
    <span id="inner-quicknav-trigger">
     Jump to Section
     <svg height="5" width="9" xmlns="http://www.w3.org/2000/svg">
      <path d="M8.811 1.067a.612.612 0 0 0 0-.884.655.655 0 0 0-.908 0L4.5 3.491 1.097.183a.655.655 0 0 0-.909 0 .615.615 0 0 0 0 .884l3.857 3.75a.655.655 0 0 0 .91 0l3.856-3.75z" fill-rule="evenodd">
      </path>
     </svg>
    </span>
    <ul class="dropdown">
     <li class="level-h2">
      <a href="#example">
       »
 Example
      </a>
     </li>
     <li class="level-h2">
      <a href="#merging-behavior">
       »
 Merging Behavior
      </a>
     </li>
     <li class="level-h3">
      <a href="#merging-resource-and-data-blocks">
       »
 Merging resource and data blocks
      </a>
     </li>
     <li class="level-h3">
      <a href="#merging-variable-blocks">
       »
 Merging variable blocks
      </a>
     </li>
     <li class="level-h3">
      <a href="#merging-output-blocks">
       »
 Merging output blocks
      </a>
     </li>
     <li class="level-h3">
      <a href="#merging-locals-blocks">
       »
 Merging locals blocks
      </a>
     </li>
     <li class="level-h3">
      <a href="#merging-terraform-blocks">
       »
 Merging terraform blocks
      </a>
     </li>
    </ul>
   </div>
  </div>
  <p>
   Terraform normally loads all of the
   <code>
    .tf
   </code>
   and
   <code>
    .tf.json
   </code>
   files within a
 directory and expects each one to define a distinct set of configuration
 objects. If two files attempt to define the same object, Terraform returns
 an error.
  </p>
  <p>
   In some rare cases, it is convenient to be able to override specific portions
 of an existing configuration object in a separate file. For example, a
 human-edited configuration file in the Terraform language native syntax
 could be partially overridden using a programmatically-generated file
 in JSON syntax.
  </p>
  <p>
   For these rare situations, Terraform has special handling of any configuration
 file whose name ends in
   <code>
    _override.tf
   </code>
   or
   <code>
    _override.tf.json
   </code>
   . This special
 handling also applies to a file named literally
   <code>
    override.tf
   </code>
   or
   <code>
    override.tf.json
   </code>
   .
  </p>
  <p>
   Terraform initially skips these
   <em>
    override files
   </em>
   when loading configuration,
 and then afterwards processes each one in turn (in lexicographical order). For
 each top-level block defined in an override file, Terraform attempts to find
 an already-defined object corresponding to that block and then merges the
 override block contents into the existing object.
  </p>
  <p>
   Use override files only in special circumstances. Over-use of override files
 hurts readability, since a reader looking only at the original files cannot
 easily see that some portions of those files have been overridden without
 consulting all of the override files that are present. When using override
 files, use comments in the original files to warn future readers about which
 override files apply changes to each block.
  </p>
  <h2 id="example">
   <a class="anchor" href="#example" name="example">
    »
   </a>
   Example
  </h2>
  <p>
   If you have a Terraform configuration
   <code>
    example.tf
   </code>
   with the following contents:
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">resource</span> <span class="s2">"aws_instance"</span> <span class="s2">"web"</span> <span class="p">{</span>
   <span class="n">instance_type</span> <span class="o">=</span> <span class="s2">"t2.micro"</span>
   <span class="n">ami</span>           <span class="o">=</span> <span class="s2">"ami-408c7f28"</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <p>
   ...and you created a file
   <code>
    override.tf
   </code>
   containing the following:
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">resource</span> <span class="s2">"aws_instance"</span> <span class="s2">"web"</span> <span class="p">{</span>
   <span class="n">ami</span> <span class="o">=</span> <span class="s2">"foo"</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <p>
   Terraform will merge the latter into the former, behaving as if the original
 configuration had been as follows:
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">resource</span> <span class="s2">"aws_instance"</span> <span class="s2">"web"</span> <span class="p">{</span>
   <span class="n">instance_type</span> <span class="o">=</span> <span class="s2">"t2.micro"</span>
   <span class="n">ami</span>           <span class="o">=</span> <span class="s2">"foo"</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <h2 id="merging-behavior">
   <a class="anchor" href="#merging-behavior" name="merging-behavior">
    »
   </a>
   Merging Behavior
  </h2>
  <p>
   The merging behavior is slightly different for each block type, and some
 special constructs within certain blocks are merged in a special way.
  </p>
  <p>
   The general rule, which applies in most cases, is:
  </p>
  <ul>
   <li>
    <p>
     A top-level block in an override file merges with a block in a normal
 configuration file that has the same block header. The block
     <em>
      header
     </em>
     is the
 block type and any quoted labels that follow it.
    </p>
   </li>
   <li>
    <p>
     Within a top-level block, an attribute argument within an override block
 replaces any argument of the same name in the original block.
    </p>
   </li>
   <li>
    <p>
     Within a top-level block, any nested blocks within an override block replace
     <em>
      all
     </em>
     blocks of the same type in the original block. Any block types that
 do not appear in the override block remain from the original block.
    </p>
   </li>
   <li>
    <p>
     The contents of nested configuration blocks are not merged.
    </p>
   </li>
   <li>
    <p>
     The resulting
     <em>
      merged block
     </em>
     must still comply with any validation rules
 that apply to the given block type.
    </p>
   </li>
  </ul>
  <p>
   If more than one override file defines the same top-level block, the overriding
 effect is compounded, with later blocks taking precedence over earlier blocks.
 Overrides are processed in order first by filename (in lexicographical order)
 and then by position in each file.
  </p>
  <p>
   The following sections describe the special merging behaviors that apply to
 specific arguments within certain top-level block types.
  </p>
  <h3 id="merging-resource-and-data-blocks">
   <a class="anchor" href="#merging-resource-and-data-blocks" name="merging-resource-and-data-blocks">
    »
   </a>
   Merging
   <code>
    resource
   </code>
   and
   <code>
    data
   </code>
   blocks
  </h3>
  <p>
   Within a
   <code>
    resource
   </code>
   block, the contents of any
   <code>
    lifecycle
   </code>
   nested block are
 merged on an argument-by-argument basis. For example, if an override block
 sets only the
   <code>
    create_before_destroy
   </code>
   argument then any
   <code>
    ignore_changes
   </code>
   argument in the original block will be preserved.
  </p>
  <p>
   If an overriding
   <code>
    resource
   </code>
   block contains one or more
   <code>
    provisioner
   </code>
   blocks
 then any
   <code>
    provisioner
   </code>
   blocks in the original block are ignored.
  </p>
  <p>
   If an overriding
   <code>
    resource
   </code>
   block contains a
   <code>
    connection
   </code>
   block then it
 completely overrides any
   <code>
    connection
   </code>
   block present in the original block.
  </p>
  <p>
   The
   <code>
    depends_on
   </code>
   meta-argument may not be used in override blocks, and will
 produce an error.
  </p>
  <h3 id="merging-variable-blocks">
   <a class="anchor" href="#merging-variable-blocks" name="merging-variable-blocks">
    »
   </a>
   Merging
   <code>
    variable
   </code>
   blocks
  </h3>
  <p>
   The arguments within a
   <code>
    variable
   </code>
   block are merged in the standard way
 described above, but some special considerations apply due to the interactions
 between the
   <code>
    type
   </code>
   and
   <code>
    default
   </code>
   arguments.
  </p>
  <p>
   If the original block defines a
   <code>
    default
   </code>
   value and an override block changes
 the variable's
   <code>
    type
   </code>
   , Terraform attempts to convert the default value to
 the overridden type, producing an error if this conversion is not possible.
  </p>
  <p>
   Conversely, if the original block defines a
   <code>
    type
   </code>
   and an override block changes
 the
   <code>
    default
   </code>
   , the overridden default value must be compatible with the
 original type specification.
  </p>
  <h3 id="merging-output-blocks">
   <a class="anchor" href="#merging-output-blocks" name="merging-output-blocks">
    »
   </a>
   Merging
   <code>
    output
   </code>
   blocks
  </h3>
  <p>
   The
   <code>
    depends_on
   </code>
   meta-argument may not be used in override blocks, and will
 produce an error.
  </p>
  <h3 id="merging-locals-blocks">
   <a class="anchor" href="#merging-locals-blocks" name="merging-locals-blocks">
    »
   </a>
   Merging
   <code>
    locals
   </code>
   blocks
  </h3>
  <p>
   Each
   <code>
    locals
   </code>
   block defines a number of named values. Overrides are applied
 on a value-by-value basis, ignoring which
   <code>
    locals
   </code>
   block they are defined in.
  </p>
  <h3 id="merging-terraform-blocks">
   <a class="anchor" href="#merging-terraform-blocks" name="merging-terraform-blocks">
    »
   </a>
   Merging
   <code>
    terraform
   </code>
   blocks
  </h3>
  <p>
   The settings within
   <code>
    terraform
   </code>
   blocks are considered individually when
 merging.
  </p>
  <p>
   If the
   <code>
    required_providers
   </code>
   argument is set, its value is merged on an
 element-by-element basis, which allows an override block to adjust the
 constraint for a single provider without affecting the constraints for
 other providers.
  </p>
  <p>
   In both the
   <code>
    required_version
   </code>
   and
   <code>
    required_providers
   </code>
   settings, each override
 constraint entirely replaces the constraints for the same component in the
 original block. If both the base block and the override block both set
   <code>
    required_version
   </code>
   then the constraints in the base block are entirely ignored.
  </p>
 </div>
 
 <!-- ########### Syntax : Configuration Syntax ############### -->
 <!-- ########### https://www.terraform.io/docs/language/syntax/index.html ############### --
 ><!-- ########### Syntax : Configuration Syntax ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="syntax">
    <a class="anchor" href="#syntax" name="syntax">
     »
    </a>
    Syntax
   </h1>
  </div>
  <p>
   The majority of the Terraform language documentation focuses on the practical
 uses of the language and the specific constructs it uses. The pages in this
 section offer a more abstract view of the Terraform language.
  </p>
  <ul>
   <li>
    <a href="/docs/language/syntax/configuration.html">
     Configuration Syntax
    </a>
    describes the native
 grammar of the Terraform language.
   </li>
   <li>
    <a href="/docs/language/syntax/json.html">
     JSON Configuration Syntax
    </a>
    documents
 how to represent Terraform language constructs in the pure JSON variant of the
 Terraform language. Terraform's JSON syntax is unfriendly to humans, but can
 be very useful when generating infrastructure as code with other systems that
 don't have a readily available HCL library.
   </li>
   <li>
    <a href="/docs/language/syntax/style.html">
     Style Conventions
    </a>
    documents some commonly
 accepted formatting guidelines for Terraform code. These conventions can be
 enforced automatically with
    <a href="/docs/cli/commands/fmt.html">
     <code>
      terraform fmt
     </code>
    </a>
    .
   </li>
  </ul>
 </div>
 
 <!-- ########### Syntax : JSON Configuration Syntax ############### -->
 <!-- ########### https://www.terraform.io/docs/language/syntax/configuration.html ############### --
 ><!-- ########### Syntax : JSON Configuration Syntax ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="configuration-syntax">
    <a class="anchor" href="#configuration-syntax" name="configuration-syntax">
     »
    </a>
    Configuration Syntax
   </h1>
   <div id="inner-quicknav">
    <span id="inner-quicknav-trigger">
     Jump to Section
     <svg height="5" width="9" xmlns="http://www.w3.org/2000/svg">
      <path d="M8.811 1.067a.612.612 0 0 0 0-.884.655.655 0 0 0-.908 0L4.5 3.491 1.097.183a.655.655 0 0 0-.909 0 .615.615 0 0 0 0 .884l3.857 3.75a.655.655 0 0 0 .91 0l3.856-3.75z" fill-rule="evenodd">
      </path>
     </svg>
    </span>
    <ul class="dropdown">
     <li class="level-h2">
      <a href="#arguments-and-blocks">
       »
 Arguments and Blocks
      </a>
     </li>
     <li class="level-h3">
      <a href="#arguments">
       »
 Arguments
      </a>
     </li>
     <li class="level-h3">
      <a href="#blocks">
       »
 Blocks
      </a>
     </li>
     <li class="level-h2">
      <a href="#identifiers">
       »
 Identifiers
      </a>
     </li>
     <li class="level-h2">
      <a href="#comments">
       »
 Comments
      </a>
     </li>
     <li class="level-h2">
      <a href="#character-encoding-and-line-endings">
       »
 Character Encoding and Line Endings
      </a>
     </li>
    </ul>
   </div>
  </div>
  <p>
   Other pages in this section have described various configuration constructs
 that can appear in the Terraform language. This page describes the lower-level
 syntax of the language in more detail, revealing the building blocks that
 those constructs are built from.
  </p>
  <p>
   This page describes the
   <em>
    native syntax
   </em>
   of the Terraform language, which is
 a rich language designed to be relatively easy for humans to read and write.
 The constructs in the Terraform language can also be expressed in
   <a href="/docs/language/syntax/json.html">
    JSON syntax
   </a>
   , which is harder for humans
 to read and edit but easier to generate and parse programmatically.
  </p>
  <p>
   This low-level syntax of the Terraform language is defined in terms of a
 syntax called
   <em>
    HCL
   </em>
   , which is also used by configuration languages in
 other applications, and in particular other HashiCorp products.
 It is not necessary to know all of the details of HCL syntax in
 order to use Terraform, and so this page summarizes the most important
 details. If you are interested, you can find a full definition of HCL
 syntax in
   <a href="https://github.com/hashicorp/hcl/blob/main/hclsyntax/spec.md">
    the HCL native syntax specification
   </a>
   .
  </p>
  <h2 id="arguments-and-blocks">
   <a class="anchor" href="#arguments-and-blocks" name="arguments-and-blocks">
    »
   </a>
   Arguments and Blocks
  </h2>
  <p>
   The Terraform language syntax is built around two key syntax constructs:
 arguments and blocks.
  </p>
  <h3 id="arguments">
   <a class="anchor" href="#arguments" name="arguments">
    »
   </a>
   Arguments
  </h3>
  <p>
   An
   <em>
    argument
   </em>
   assigns a value to a particular name:
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">image_id</span> <span class="o">=</span> <span class="s2">"abc123"</span>
 </code></pre>
  </div>
  <p>
   The identifier before the equals sign is the
   <em>
    argument name
   </em>
   , and the expression
 after the equals sign is the argument's value.
  </p>
  <p>
   The context where the argument appears determines what value types are valid
 (for example, each resource type has a schema that defines the types of its
 arguments), but many arguments accept arbitrary
   <a href="/docs/language/expressions/index.html">
    expressions
   </a>
   , which allow the value to
 either be specified literally or generated from other values programmatically.
  </p>
  <div class="alert alert-info" role="alert">
   <p>
    <strong>
     Note:
    </strong>
    Terraform's configuration language is based on a more general
 language called HCL, and HCL's documentation usually uses the word "attribute"
 instead of "argument." These words are similar enough to be interchangeable in
 this context, and experienced Terraform users might use either term in casual
 conversation. But because Terraform also interacts with several
    <em>
     other
    </em>
    things
 called "attributes" (in particular, Terraform resources have attributes like
    <code>
     id
    </code>
    that can be referenced from expressions but can't be assigned values in
 configuration), we've chosen to use "argument" in the Terraform documentation
 when referring to this syntax construct.
   </p>
  </div>
  <h3 id="blocks">
   <a class="anchor" href="#blocks" name="blocks">
    »
   </a>
   Blocks
  </h3>
  <p>
   A
   <em>
    block
   </em>
   is a container for other content:
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">resource</span> <span class="s2">"aws_instance"</span> <span class="s2">"example"</span> <span class="p">{</span>
   <span class="n">ami</span> <span class="o">=</span> <span class="s2">"abc123"</span>
 
   <span class="n">network_interface</span> <span class="p">{</span>
     <span class="c1"># ...</span>
   <span class="p">}</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <p>
   A block has a
   <em>
    type
   </em>
   (
   <code>
    resource
   </code>
   in this example). Each block type defines
 how many
   <em>
    labels
   </em>
   must follow the type keyword. The
   <code>
    resource
   </code>
   block type
 expects two labels, which are
   <code>
    aws_instance
   </code>
   and
   <code>
    example
   </code>
   in the example above.
 A particular block type may have any number of required labels, or it may
 require none as with the nested
   <code>
    network_interface
   </code>
   block type.
  </p>
  <p>
   After the block type keyword and any labels, the block
   <em>
    body
   </em>
   is delimited
 by the
   <code>
    {
   </code>
   and
   <code>
    }
   </code>
   characters. Within the block body, further arguments
 and blocks may be nested, creating a hierarchy of blocks and their associated
 arguments.
  </p>
  <p>
   The Terraform language uses a limited number of
   <em>
    top-level block types,
   </em>
   which
 are blocks that can appear outside of any other block in a configuration file.
 Most of Terraform's features (including resources, input variables, output
 values, data sources, etc.) are implemented as top-level blocks.
  </p>
  <h2 id="identifiers">
   <a class="anchor" href="#identifiers" name="identifiers">
    »
   </a>
   Identifiers
  </h2>
  <p>
   Argument names, block type names, and the names of most Terraform-specific
 constructs like resources, input variables, etc. are all
   <em>
    identifiers
   </em>
   .
  </p>
  <p>
   Identifiers can contain letters, digits, underscores (
   <code>
    _
   </code>
   ), and hyphens (
   <code>
    -
   </code>
   ).
 The first character of an identifier must not be a digit, to avoid ambiguity
 with literal numbers.
  </p>
  <p>
   For complete identifier rules, Terraform implements
   <a href="http://unicode.org/reports/tr31/">
    the Unicode identifier syntax
   </a>
   , extended to
 include the ASCII hyphen character
   <code>
    -
   </code>
   .
  </p>
  <h2 id="comments">
   <a class="anchor" href="#comments" name="comments">
    »
   </a>
   Comments
  </h2>
  <p>
   The Terraform language supports three different syntaxes for comments:
  </p>
  <ul>
   <li>
    <a name="">
    </a>
    <a href="#">
     <code>
      #
     </code>
    </a>
    begins a single-line comment, ending at the end of the line.
   </li>
   <li>
    <a name="-1">
    </a>
    <a href="#-1">
     <code>
      //
     </code>
    </a>
    also begins a single-line comment, as an alternative to
    <code>
     #
    </code>
    .
   </li>
   <li>
    <a name="-2">
    </a>
    <a href="#-2">
     <code>
      /*
     </code>
    </a>
    and
    <code>
     */
    </code>
    are start and end delimiters for a comment that might span
 over multiple lines.
   </li>
  </ul>
  <p>
   The
   <code>
    #
   </code>
   single-line comment style is the default comment style and should be
 used in most cases. Automatic configuration formatting tools may automatically
 transform
   <code>
    //
   </code>
   comments into
   <code>
    #
   </code>
   comments, since the double-slash style is
 not idiomatic.
  </p>
  <h2 id="character-encoding-and-line-endings">
   <a class="anchor" href="#character-encoding-and-line-endings" name="character-encoding-and-line-endings">
    »
   </a>
   Character Encoding and Line Endings
  </h2>
  <p>
   Terraform configuration files must always be UTF-8 encoded. While the
 delimiters of the language are all ASCII characters, Terraform accepts
 non-ASCII characters in identifiers, comments, and string values.
  </p>
  <p>
   Terraform accepts configuration files with either Unix-style line endings
 (LF only) or Windows-style line endings (CR then LF), but the idiomatic style
 is to use the Unix convention, and so automatic configuration formatting tools
 may automatically transform CRLF endings to LF.
  </p>
 </div>
 
 <!-- ########### Syntax : Style Conventions ############### -->
 <!-- ########### https://www.terraform.io/docs/language/syntax/json.html ############### --
 ><!-- ########### Syntax : Style Conventions ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="json-configuration-syntax">
    <a class="anchor" href="#json-configuration-syntax" name="json-configuration-syntax">
     »
    </a>
    JSON Configuration Syntax
   </h1>
   <div id="inner-quicknav">
    <span id="inner-quicknav-trigger">
     Jump to Section
     <svg height="5" width="9" xmlns="http://www.w3.org/2000/svg">
      <path d="M8.811 1.067a.612.612 0 0 0 0-.884.655.655 0 0 0-.908 0L4.5 3.491 1.097.183a.655.655 0 0 0-.909 0 .615.615 0 0 0 0 .884l3.857 3.75a.655.655 0 0 0 .91 0l3.856-3.75z" fill-rule="evenodd">
      </path>
     </svg>
    </span>
    <ul class="dropdown">
     <li class="level-h2">
      <a href="#json-file-structure">
       »
 JSON File Structure
      </a>
     </li>
     <li class="level-h2">
      <a href="#expression-mapping">
       »
 Expression Mapping
      </a>
     </li>
     <li class="level-h2">
      <a href="#nested-block-mapping">
       »
 Nested Block Mapping
      </a>
     </li>
     <li class="level-h3">
      <a href="#comment-properties">
       »
 Comment Properties
      </a>
     </li>
     <li class="level-h2">
      <a href="#block-type-specific-exceptions">
       »
 Block-type-specific Exceptions
      </a>
     </li>
     <li class="level-h3">
      <a href="#resource-and-data-blocks">
       »
 resource and data blocks
      </a>
     </li>
     <li class="level-h3">
      <a href="#variable-blocks">
       »
 variable blocks
      </a>
     </li>
     <li class="level-h3">
      <a href="#output-blocks">
       »
 output blocks
      </a>
     </li>
     <li class="level-h3">
      <a href="#locals-blocks">
       »
 locals blocks
      </a>
     </li>
     <li class="level-h3">
      <a href="#module-blocks">
       »
 module blocks
      </a>
     </li>
     <li class="level-h3">
      <a href="#provider-blocks">
       »
 provider blocks
      </a>
     </li>
     <li class="level-h3">
      <a href="#terraform-blocks">
       »
 terraform blocks
      </a>
     </li>
    </ul>
   </div>
  </div>
  <p>
   Most Terraform configurations are written in
   <a href="/docs/language/syntax/configuration.html">
    the native Terraform language syntax
   </a>
   , which is designed to be
 relatively easy for humans to read and update.
  </p>
  <p>
   Terraform also supports an alternative syntax that is JSON-compatible. This
 syntax is useful when generating portions of a configuration programmatically,
 since existing JSON libraries can be used to prepare the generated
 configuration files.
  </p>
  <p>
   The JSON syntax is defined in terms of the native syntax. Everything that can
 be expressed in native syntax can also be expressed in JSON syntax, but some
 constructs are more complex to represent in JSON due to limitations of the
 JSON grammar.
  </p>
  <p>
   Terraform expects native syntax for files named with a
   <code>
    .tf
   </code>
   suffix, and
 JSON syntax for files named with a
   <code>
    .tf.json
   </code>
   suffix.
  </p>
  <p>
   The low-level JSON syntax, just as with the native syntax, is defined in terms
 of a specification called
   <em>
    HCL
   </em>
   . It is not necessary to know all of the details
 of HCL syntax or its JSON mapping in order to use Terraform, and so this page
 summarizes the most important differences between native and JSON syntax.
 If you are interested, you can find a full definition of HCL's JSON syntax
 in
   <a href="https://github.com/hashicorp/hcl/blob/main/json/spec.md">
    its specification
   </a>
   .
  </p>
  <h2 id="json-file-structure">
   <a class="anchor" href="#json-file-structure" name="json-file-structure">
    »
   </a>
   JSON File Structure
  </h2>
  <p>
   At the root of any JSON-based Terraform configuration is a JSON object. The
 properties of this object correspond to the top-level block types of the
 Terraform language. For example:
  </p>
  <div class="highlight">
   <pre class="highlight json"><code><span class="p">{</span><span class="w">
   </span><span class="nl">"variable"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
     </span><span class="nl">"example"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
       </span><span class="nl">"default"</span><span class="p">:</span><span class="w"> </span><span class="s2">"hello"</span><span class="w">
     </span><span class="p">}</span><span class="w">
   </span><span class="p">}</span><span class="w">
 </span><span class="p">}</span><span class="w">
 </span></code></pre>
  </div>
  <p>
   Each top-level object property must match the name of one of the expected
 top-level block types. Block types that expect labels, such as
   <code>
    variable
   </code>
   shown above, are represented by one nested object value for each level
 of label.
   <code>
    resource
   </code>
   blocks expect two labels, so two levels of nesting
 are required:
  </p>
  <div class="highlight">
   <pre class="highlight json"><code><span class="p">{</span><span class="w">
   </span><span class="nl">"resource"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
     </span><span class="nl">"aws_instance"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
       </span><span class="nl">"example"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
         </span><span class="nl">"instance_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"t2.micro"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"ami"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ami-abc123"</span><span class="w">
       </span><span class="p">}</span><span class="w">
     </span><span class="p">}</span><span class="w">
   </span><span class="p">}</span><span class="w">
 </span><span class="p">}</span><span class="w">
 </span></code></pre>
  </div>
  <p>
   After any nested objects representing the labels, finally one more nested
 object represents the body of the block itself. In the above examples, the
   <code>
    default
   </code>
   argument for
   <code>
    variable "example"
   </code>
   and the
   <code>
    instance_type
   </code>
   and
   <code>
    ami
   </code>
   arguments for
   <code>
    resource "aws_instance" "example"
   </code>
   are specified.
  </p>
  <p>
   Taken together, the above two configuration files are equivalent to the
 following blocks in the native syntax:
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">variable</span> <span class="s2">"example"</span> <span class="p">{</span>
   <span class="n">default</span> <span class="o">=</span> <span class="s2">"hello"</span>
 <span class="p">}</span>
 
 <span class="n">resource</span> <span class="s2">"aws_instance"</span> <span class="s2">"example"</span> <span class="p">{</span>
   <span class="n">instance_type</span> <span class="o">=</span> <span class="s2">"t2.micro"</span>
   <span class="n">ami</span>           <span class="o">=</span> <span class="s2">"ami-abc123"</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <p>
   Within each top-level block type the rules for mapping to JSON are slightly
 different (see the
   <a href="#block-type-specific-exceptions">
    block-type-specific exceptions
   </a>
   below), but the following general rules apply in most cases:
  </p>
  <ul>
   <li>
    <p>
     The JSON object representing the block body contains properties that
 correspond either to argument names or to nested block type names.
    </p>
   </li>
   <li>
    <p>
     Where a property corresponds to an argument that accepts
     <a href="/docs/language/expressions/index.html">
      arbitrary expressions
     </a>
     in the native syntax, the
 property value is mapped to an expression as described under
     <a href="#expression-mapping">
      <em>
       Expression Mapping
      </em>
     </a>
     below. For arguments that
 do
     <em>
      not
     </em>
     accept arbitrary expressions, the interpretation of the property
 value depends on the argument, as described in the
     <a href="#block-type-specific-exceptions">
      block-type-specific exceptions
     </a>
     given later in this page.
    </p>
   </li>
   <li>
    <p>
     Where a property name corresponds to an expected nested block type name,
 the value is interpreted as described under
     <a href="#nested-block-mapping">
      <em>
       Nested Block Mapping
      </em>
     </a>
     below, unless otherwise
 stated in
     <a href="#block-type-specific-exceptions">
      the block-type-specific exceptions
     </a>
     given later in this page.
    </p>
   </li>
  </ul>
  <h2 id="expression-mapping">
   <a class="anchor" href="#expression-mapping" name="expression-mapping">
    »
   </a>
   Expression Mapping
  </h2>
  <p>
   Since JSON grammar is not able to represent all of the Terraform language
   <a href="/docs/language/expressions/index.html">
    expression syntax
   </a>
   , JSON values interpreted as expressions
 are mapped as follows:
  </p>
  <table>
   <thead>
    <tr>
     <th>
      JSON
     </th>
     <th>
      Terraform Language Interpretation
     </th>
    </tr>
   </thead>
   <tbody>
    <tr>
     <td>
      Boolean
     </td>
     <td>
      A literal
      <code>
       bool
      </code>
      value.
     </td>
    </tr>
    <tr>
     <td>
      Number
     </td>
     <td>
      A literal
      <code>
       number
      </code>
      value.
     </td>
    </tr>
    <tr>
     <td>
      String
     </td>
     <td>
      Parsed as a
      <a href="/docs/language/expressions/strings.html#string-templates">
       string template
      </a>
      and then evaluated as described below.
     </td>
    </tr>
    <tr>
     <td>
      Object
     </td>
     <td>
      Each property value is mapped per this table, producing an
      <code>
       object(...)
      </code>
      value with suitable attribute types.
     </td>
    </tr>
    <tr>
     <td>
      Array
     </td>
     <td>
      Each element is mapped per this table, producing a
      <code>
       tuple(...)
      </code>
      value with suitable element types.
     </td>
    </tr>
    <tr>
     <td>
      Null
     </td>
     <td>
      A literal
      <code>
       null
      </code>
      .
     </td>
    </tr>
   </tbody>
  </table>
  <p>
   When a JSON string is encountered in a location where arbitrary expressions are
 expected, its value is first parsed as a
   <a href="/docs/language/expressions/strings.html#string-templates">
    string template
   </a>
   and then it is evaluated to produce the final result.
  </p>
  <p>
   If the given template consists
   <em>
    only
   </em>
   of a single interpolation sequence,
 the result of its expression is taken directly, without first converting it
 to a string. This allows non-string expressions to be used within the
 JSON syntax:
  </p>
  <div class="highlight">
   <pre class="highlight json"><code><span class="p">{</span><span class="w">
   </span><span class="nl">"output"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
     </span><span class="nl">"example"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
       </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"${aws_instance.example}"</span><span class="w">
     </span><span class="p">}</span><span class="w">
   </span><span class="p">}</span><span class="w">
 </span><span class="p">}</span><span class="w">
 </span></code></pre>
  </div>
  <p>
   The
   <code>
    output "example"
   </code>
   declared above has the object value representing the
 given
   <code>
    aws_instance
   </code>
   resource block as its value, rather than a string value.
 This special behavior does not apply if any literal or control sequences appear
 in the template; in these other situations, a string value is always produced.
  </p>
  <h2 id="nested-block-mapping">
   <a class="anchor" href="#nested-block-mapping" name="nested-block-mapping">
    »
   </a>
   Nested Block Mapping
  </h2>
  <p>
   When a JSON object property is named after a nested block type, the value
 of this property represents one or more blocks of that type. The value of
 the property must be either a JSON object or a JSON array.
  </p>
  <p>
   The simplest situation is representing only a single block of the given type
 when that type expects no labels, as with the
   <code>
    lifecycle
   </code>
   nested block used
 within
   <code>
    resource
   </code>
   blocks:
  </p>
  <div class="highlight">
   <pre class="highlight json"><code><span class="p">{</span><span class="w">
   </span><span class="nl">"resource"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
     </span><span class="nl">"aws_instance"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
       </span><span class="nl">"example"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
         </span><span class="nl">"lifecycle"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
           </span><span class="nl">"create_before_destroy"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
         </span><span class="p">}</span><span class="w">
       </span><span class="p">}</span><span class="w">
     </span><span class="p">}</span><span class="w">
   </span><span class="p">}</span><span class="w">
 </span><span class="p">}</span><span class="w">
 </span></code></pre>
  </div>
  <p>
   The above is equivalent to the following native syntax configuration:
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">resource</span> <span class="s2">"aws_instance"</span> <span class="s2">"example"</span> <span class="p">{</span>
   <span class="n">lifecycle</span> <span class="p">{</span>
     <span class="n">create_before_destroy</span> <span class="o">=</span> <span class="kp">true</span>
   <span class="p">}</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <p>
   When the nested block type requires one or more labels, or when multiple
 blocks of the same type can be given, the mapping gets a little more
 complicated. For example, the
   <code>
    provisioner
   </code>
   nested block type used
 within
   <code>
    resource
   </code>
   blocks expects a label giving the provisioner to use,
 and the ordering of provisioner blocks is significant to decide the order
 of operations.
  </p>
  <p>
   The following native syntax example shows a
   <code>
    resource
   </code>
   block with a number
 of provisioners of different types:
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">resource</span> <span class="s2">"aws_instance"</span> <span class="s2">"example"</span> <span class="p">{</span>
   <span class="c1"># (resource configuration omitted for brevity)</span>
 
   <span class="n">provisioner</span> <span class="s2">"local-exec"</span> <span class="p">{</span>
     <span class="n">command</span> <span class="o">=</span> <span class="s2">"echo 'Hello World' &gt;example.txt"</span>
   <span class="p">}</span>
   <span class="n">provisioner</span> <span class="s2">"file"</span> <span class="p">{</span>
     <span class="n">source</span>      <span class="o">=</span> <span class="s2">"example.txt"</span>
     <span class="n">destination</span> <span class="o">=</span> <span class="s2">"/tmp/example.txt"</span>
   <span class="p">}</span>
   <span class="n">provisioner</span> <span class="s2">"remote-exec"</span> <span class="p">{</span>
     <span class="n">inline</span> <span class="o">=</span> <span class="p">[</span>
       <span class="s2">"sudo install-something -f /tmp/example.txt"</span><span class="p">,</span>
     <span class="p">]</span>
   <span class="p">}</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <p>
   In order to preserve the order of these blocks, you must use a JSON array
 as the direct value of the property representing this block type, as in
 this JSON equivalent of the above:
  </p>
  <div class="highlight">
   <pre class="highlight json"><code><span class="p">{</span><span class="w">
   </span><span class="nl">"resource"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
     </span><span class="nl">"aws_instance"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
       </span><span class="nl">"example"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
         </span><span class="nl">"provisioner"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
           </span><span class="p">{</span><span class="w">
             </span><span class="nl">"local-exec"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
               </span><span class="nl">"command"</span><span class="p">:</span><span class="w"> </span><span class="s2">"echo 'Hello World' &gt;example.txt"</span><span class="w">
             </span><span class="p">}</span><span class="w">
           </span><span class="p">},</span><span class="w">
           </span><span class="p">{</span><span class="w">
             </span><span class="nl">"file"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
               </span><span class="nl">"source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"example.txt"</span><span class="p">,</span><span class="w">
               </span><span class="nl">"destination"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/tmp/example.txt"</span><span class="w">
             </span><span class="p">}</span><span class="w">
           </span><span class="p">},</span><span class="w">
           </span><span class="p">{</span><span class="w">
             </span><span class="nl">"remote-exec"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
               </span><span class="nl">"inline"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"sudo install-something -f /tmp/example.txt"</span><span class="p">]</span><span class="w">
             </span><span class="p">}</span><span class="w">
           </span><span class="p">}</span><span class="w">
         </span><span class="p">]</span><span class="w">
       </span><span class="p">}</span><span class="w">
     </span><span class="p">}</span><span class="w">
   </span><span class="p">}</span><span class="w">
 </span><span class="p">}</span><span class="w">
 </span></code></pre>
  </div>
  <p>
   Each element of the
   <code>
    provisioner
   </code>
   array is an object with a single property
 whose name represents the label for each
   <code>
    provisioner
   </code>
   block. For block types
 that expect multiple labels, this pattern of alternating array and object
 nesting can be used for each additional level.
  </p>
  <p>
   If a nested block type requires labels but the order does
   <em>
    not
   </em>
   matter, you
 may omit the array and provide just a single object whose property names
 correspond to unique block labels. This is allowed as a shorthand for the above
 for simple cases, but the alternating array and object approach is the most
 general. We recommend using the most general form if systematically converting
 from native syntax to JSON, to ensure that the meaning of the configuration is
 preserved exactly.
  </p>
  <h3 id="comment-properties">
   <a class="anchor" href="#comment-properties" name="comment-properties">
    »
   </a>
   Comment Properties
  </h3>
  <p>
   Although we do not recommend hand-editing of JSON syntax configuration files
 -- this format is primarily intended for programmatic generation and consumption --
 a limited form of
   <em>
    comments
   </em>
   are allowed inside JSON objects that represent
 block bodies using a special property name:
  </p>
  <div class="highlight">
   <pre class="highlight json"><code><span class="p">{</span><span class="w">
   </span><span class="nl">"resource"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
     </span><span class="nl">"aws_instance"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
       </span><span class="nl">"example"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
         </span><span class="nl">"//"</span><span class="p">:</span><span class="w"> </span><span class="s2">"This instance runs the scheduled tasks for backup"</span><span class="p">,</span><span class="w">
 
         </span><span class="nl">"instance_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"t2.micro"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"ami"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ami-abc123"</span><span class="w">
       </span><span class="p">}</span><span class="w">
     </span><span class="p">}</span><span class="w">
   </span><span class="p">}</span><span class="w">
 </span><span class="p">}</span><span class="w">
 </span></code></pre>
  </div>
  <p>
   In any object that represents a block body, properties named
   <code>
    "//"
   </code>
   are
 ignored by Terraform entirely. This exception does
   <em>
    not
   </em>
   apply to objects
 that are being
   <a href="#expression-mapping">
    interpreted as expressions
   </a>
   , where this
 would be interpreted as an object type attribute named
   <code>
    "//"
   </code>
   .
  </p>
  <p>
   This special property name can also be used at the root of a JSON-based
 configuration file. This can be useful to note which program created the file.
  </p>
  <div class="highlight">
   <pre class="highlight json"><code><span class="p">{</span><span class="w">
   </span><span class="nl">"//"</span><span class="p">:</span><span class="w"> </span><span class="s2">"This file is generated by generate-outputs.py. DO NOT HAND-EDIT!"</span><span class="p">,</span><span class="w">
 
   </span><span class="nl">"output"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
     </span><span class="nl">"example"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
       </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"${aws_instance.example}"</span><span class="w">
     </span><span class="p">}</span><span class="w">
   </span><span class="p">}</span><span class="w">
 </span><span class="p">}</span><span class="w">
 </span></code></pre>
  </div>
  <h2 id="block-type-specific-exceptions">
   <a class="anchor" href="#block-type-specific-exceptions" name="block-type-specific-exceptions">
    »
   </a>
   Block-type-specific Exceptions
  </h2>
  <p>
   Certain arguments within specific block types are processed in a special way
 by Terraform, and so their mapping to the JSON syntax does not follow the
 general rules described above. The following sub-sections describe the special
 mapping rules that apply to each top-level block type.
  </p>
  <h3 id="resource-and-data-blocks">
   <a class="anchor" href="#resource-and-data-blocks" name="resource-and-data-blocks">
    »
   </a>
   <code>
    resource
   </code>
   and
   <code>
    data
   </code>
   blocks
  </h3>
  <p>
   Some meta-arguments for the
   <code>
    resource
   </code>
   and
   <code>
    data
   </code>
   block types take direct
 references to objects, or literal keywords. When represented in JSON, the
 reference or keyword is given as a JSON string with no additional surrounding
 spaces or symbols.
  </p>
  <p>
   For example, the
   <code>
    provider
   </code>
   meta-argument takes a
   <code>
    &lt;PROVIDER&gt;.&lt;ALIAS&gt;
   </code>
   reference
 to a provider configuration, which appears unquoted in the native syntax but
 must be presented as a string in the JSON syntax:
  </p>
  <div class="highlight">
   <pre class="highlight json"><code><span class="p">{</span><span class="w">
   </span><span class="nl">"resource"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
     </span><span class="nl">"aws_instance"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
       </span><span class="nl">"example"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
         </span><span class="nl">"provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"aws.foo"</span><span class="w">
       </span><span class="p">}</span><span class="w">
     </span><span class="p">}</span><span class="w">
   </span><span class="p">}</span><span class="w">
 </span><span class="p">}</span><span class="w">
 </span></code></pre>
  </div>
  <p>
   This special processing applies to the following meta-arguments:
  </p>
  <ul>
   <li>
    <a name="provider">
    </a>
    <a href="#provider">
     <code>
      provider
     </code>
    </a>
    : a single string, as shown above
   </li>
   <li>
    <a name="depends_on">
    </a>
    <a href="#depends_on">
     <code>
      depends_on
     </code>
    </a>
    : an array of strings containing references to named entities,
 like
    <code>
     ["aws_instance.example"]
    </code>
    .
   </li>
   <li>
    <a name="ignore_changes">
    </a>
    <a href="#ignore_changes">
     <code>
      ignore_changes
     </code>
    </a>
    within the
    <code>
     lifecycle
    </code>
    block: if set to
    <code>
     all
    </code>
    , a single
 string
    <code>
     "all"
    </code>
    must be given. Otherwise, an array of JSON strings containing
 property references must be used, like
    <code>
     ["ami"]
    </code>
    .
   </li>
  </ul>
  <p>
   Special processing also applies to the
   <code>
    type
   </code>
   argument of any
   <code>
    connection
   </code>
   blocks, whether directly inside the
   <code>
    resource
   </code>
   block or nested inside
   <code>
    provisioner
   </code>
   blocks: the given string is interpreted literally, and not
 parsed and evaluated as a string template.
  </p>
  <h3 id="variable-blocks">
   <a class="anchor" href="#variable-blocks" name="variable-blocks">
    »
   </a>
   <code>
    variable
   </code>
   blocks
  </h3>
  <p>
   All arguments inside
   <code>
    variable
   </code>
   blocks have non-standard mappings to JSON:
  </p>
  <ul>
   <li>
    <a name="type">
    </a>
    <a href="#type">
     <code>
      type
     </code>
    </a>
    : a string containing a type expression, like
    <code>
     "string"
    </code>
    or
    <code>
     "list(string)"
    </code>
    .
   </li>
   <li>
    <a name="default">
    </a>
    <a href="#default">
     <code>
      default
     </code>
    </a>
    : a literal JSON value that can be converted to the given type.
 Strings within this value are taken literally and
    <em>
     not
    </em>
    interpreted as
 string templates.
   </li>
   <li>
    <a name="description">
    </a>
    <a href="#description">
     <code>
      description
     </code>
    </a>
    : a literal JSON string,
    <em>
     not
    </em>
    interpreted as a template.
   </li>
  </ul>
  <div class="highlight">
   <pre class="highlight json"><code><span class="p">{</span><span class="w">
   </span><span class="nl">"variable"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
     </span><span class="nl">"example"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
       </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
       </span><span class="nl">"default"</span><span class="p">:</span><span class="w"> </span><span class="s2">"hello"</span><span class="w">
     </span><span class="p">}</span><span class="w">
   </span><span class="p">}</span><span class="w">
 </span><span class="p">}</span><span class="w">
 </span></code></pre>
  </div>
  <h3 id="output-blocks">
   <a class="anchor" href="#output-blocks" name="output-blocks">
    »
   </a>
   <code>
    output
   </code>
   blocks
  </h3>
  <p>
   The
   <code>
    description
   </code>
   and
   <code>
    sensitive
   </code>
   arguments are interpreted as literal JSON
 values. The
   <code>
    description
   </code>
   string is not interpreted as a string template.
  </p>
  <p>
   The
   <code>
    value
   </code>
   argument is
   <a href="#expression-mapping">
    interpreted as an expression
   </a>
   .
  </p>
  <div class="highlight">
   <pre class="highlight json"><code><span class="p">{</span><span class="w">
   </span><span class="nl">"output"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
     </span><span class="nl">"example"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
       </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"${aws_instance.example}"</span><span class="w">
     </span><span class="p">}</span><span class="w">
   </span><span class="p">}</span><span class="w">
 </span><span class="p">}</span><span class="w">
 </span></code></pre>
  </div>
  <h3 id="locals-blocks">
   <a class="anchor" href="#locals-blocks" name="locals-blocks">
    »
   </a>
   <code>
    locals
   </code>
   blocks
  </h3>
  <p>
   The value of the JSON object property representing the locals block type
 must be a JSON object whose property names are the local value names to
 declare:
  </p>
  <div class="highlight">
   <pre class="highlight json"><code><span class="p">{</span><span class="w">
   </span><span class="nl">"locals"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
     </span><span class="nl">"greeting"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hello, ${var.name}"</span><span class="w">
   </span><span class="p">}</span><span class="w">
 </span><span class="p">}</span><span class="w">
 </span></code></pre>
  </div>
  <p>
   The value of each of these nested properties is
   <a href="#expression-mapping">
    interpreted as an expression
   </a>
   .
  </p>
  <h3 id="module-blocks">
   <a class="anchor" href="#module-blocks" name="module-blocks">
    »
   </a>
   <code>
    module
   </code>
   blocks
  </h3>
  <p>
   The
   <code>
    source
   </code>
   and
   <code>
    version
   </code>
   meta-arguments must be given as literal strings. The
 values are not interpreted as string templates.
  </p>
  <p>
   The
   <code>
    providers
   </code>
   meta-argument must be given as a JSON object whose properties
 are the compact provider addresses to expose into the child module and whose
 values are the provider addresses to use from the current module, both
 given as literal strings:
  </p>
  <div class="highlight">
   <pre class="highlight json"><code><span class="p">{</span><span class="w">
   </span><span class="nl">"module"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
     </span><span class="nl">"example"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
       </span><span class="nl">"source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"hashicorp/consul/azurerm"</span><span class="p">,</span><span class="w">
       </span><span class="nl">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"= 1.0.0"</span><span class="p">,</span><span class="w">
       </span><span class="nl">"providers"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
         </span><span class="nl">"aws"</span><span class="p">:</span><span class="w"> </span><span class="s2">"aws.usw1"</span><span class="w">
       </span><span class="p">}</span><span class="w">
     </span><span class="p">}</span><span class="w">
   </span><span class="p">}</span><span class="w">
 </span><span class="p">}</span><span class="w">
 </span></code></pre>
  </div>
  <h3 id="provider-blocks">
   <a class="anchor" href="#provider-blocks" name="provider-blocks">
    »
   </a>
   <code>
    provider
   </code>
   blocks
  </h3>
  <p>
   The
   <code>
    alias
   </code>
   and
   <code>
    version
   </code>
   meta-arguments must be given as literal strings. The
 values are not interpreted as string templates.
  </p>
  <div class="highlight">
   <pre class="highlight json"><code><span class="p">{</span><span class="w">
   </span><span class="nl">"provider"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
     </span><span class="nl">"aws"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
       </span><span class="p">{</span><span class="w">
         </span><span class="nl">"region"</span><span class="p">:</span><span class="w"> </span><span class="s2">"us-east-1"</span><span class="w">
       </span><span class="p">},</span><span class="w">
       </span><span class="p">{</span><span class="w">
         </span><span class="nl">"alias"</span><span class="p">:</span><span class="w"> </span><span class="s2">"usw1"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"region"</span><span class="p">:</span><span class="w"> </span><span class="s2">"us-west-1"</span><span class="w">
       </span><span class="p">}</span><span class="w">
     </span><span class="p">]</span><span class="w">
   </span><span class="p">}</span><span class="w">
 </span><span class="p">}</span><span class="w">
 </span></code></pre>
  </div>
  <h3 id="terraform-blocks">
   <a class="anchor" href="#terraform-blocks" name="terraform-blocks">
    »
   </a>
   <code>
    terraform
   </code>
   blocks
  </h3>
  <p>
   Since no settings within
   <code>
    terraform
   </code>
   blocks accept named object references or
 function calls, all setting values are taken literally. String values are not
 interpreted as string templates.
  </p>
  <p>
   Since only one
   <code>
    backend
   </code>
   block is allowed per
   <code>
    terraform
   </code>
   block, the compact
 block mapping can be used to represent it, with a nested object containing
 a single property whose name represents the backend type.
  </p>
  <div class="highlight">
   <pre class="highlight json"><code><span class="p">{</span><span class="w">
   </span><span class="nl">"terraform"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
     </span><span class="nl">"required_version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&gt;= 0.12.0"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"backend"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
       </span><span class="nl">"s3"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
         </span><span class="nl">"region"</span><span class="p">:</span><span class="w"> </span><span class="s2">"us-west-2"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"bucket"</span><span class="p">:</span><span class="w"> </span><span class="s2">"acme-terraform-states"</span><span class="w">
       </span><span class="p">}</span><span class="w">
     </span><span class="p">}</span><span class="w">
   </span><span class="p">}</span><span class="w">
 </span><span class="p">}</span><span class="w">
 </span></code></pre>
  </div>
 </div>
 
 <!-- ########### Resources : Overview ############### -->
 <!-- ########### https://www.terraform.io/docs/language/syntax/style.html ############### --
 ><!-- ########### Resources : Overview ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="style-conventions">
    <a class="anchor" href="#style-conventions" name="style-conventions">
     »
    </a>
    Style Conventions
   </h1>
  </div>
  <p>
   The Terraform parser allows you some flexibility in how you lay out the
 elements in your configuration files, but the Terraform language also has some
 idiomatic style conventions which we recommend users always follow
 for consistency between files and modules written by different teams.
 Automatic source code formatting tools may apply these conventions
 automatically.
  </p>
  <ul>
   <li>
    <p>
     Indent two spaces for each nesting level.
    </p>
   </li>
   <li>
    <p>
     When multiple arguments with single-line values appear on consecutive lines
 at the same nesting level, align their equals signs:
    </p>
    <div class="highlight">
     <pre class="highlight hcl"><code><span class="n">ami</span>           <span class="o">=</span> <span class="s2">"abc123"</span>
 <span class="n">instance_type</span> <span class="o">=</span> <span class="s2">"t2.micro"</span>
 </code></pre>
    </div>
   </li>
   <li>
    <p>
     When both arguments and blocks appear together inside a block body,
 place all of the arguments together at the top and then place nested
 blocks below them. Use one blank line to separate the arguments from
 the blocks.
    </p>
   </li>
   <li>
    <p>
     Use empty lines to separate logical groups of arguments within a block.
    </p>
   </li>
   <li>
    <p>
     For blocks that contain both arguments and "meta-arguments" (as defined by
 the Terraform language semantics), list meta-arguments first
 and separate them from other arguments with one blank line. Place
 meta-argument blocks
     <em>
      last
     </em>
     and separate them from other blocks with
 one blank line.
    </p>
    <div class="highlight">
     <pre class="highlight hcl"><code><span class="n">resource</span> <span class="s2">"aws_instance"</span> <span class="s2">"example"</span> <span class="p">{</span>
   <span class="n">count</span> <span class="o">=</span> <span class="mi">2</span> <span class="c1"># meta-argument first</span>
 
   <span class="n">ami</span>           <span class="o">=</span> <span class="s2">"abc123"</span>
   <span class="n">instance_type</span> <span class="o">=</span> <span class="s2">"t2.micro"</span>
 
   <span class="n">network_interface</span> <span class="p">{</span>
     <span class="c1"># ...</span>
   <span class="p">}</span>
 
   <span class="n">lifecycle</span> <span class="p">{</span> <span class="c1"># meta-argument block last</span>
     <span class="n">create_before_destroy</span> <span class="o">=</span> <span class="kp">true</span>
   <span class="p">}</span>
 <span class="p">}</span>
 </code></pre>
    </div>
   </li>
   <li>
    <p>
     Top-level blocks should always be separated from one another by one
 blank line. Nested blocks should also be separated by blank lines, except
 when grouping together related blocks of the same type (like multiple
     <code>
      provisioner
     </code>
     blocks in a resource).
    </p>
   </li>
   <li>
    <p>
     Avoid separating multiple blocks of the same type with other blocks of
 a different type, unless the block types are defined by semantics to
 form a family.
 (For example:
     <code>
      root_block_device
     </code>
     ,
     <code>
      ebs_block_device
     </code>
     and
     <code>
      ephemeral_block_device
     </code>
     on
     <code>
      aws_instance
     </code>
     form a family of block types
 describing AWS block devices, and can therefore be grouped together and
 mixed.)
    </p>
   </li>
  </ul>
 </div>
 
 <!-- ########### Resources : Resource Blocks ############### -->
 <!-- ########### https://www.terraform.io/docs/language/resources/index.html ############### --
 ><!-- ########### Resources : Resource Blocks ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="resources">
    <a class="anchor" href="#resources" name="resources">
     »
    </a>
    Resources
   </h1>
  </div>
  <blockquote>
   <p>
    <strong>
     Hands-on:
    </strong>
    Try the
    <a href="https://learn.hashicorp.com/collections/terraform/aws-get-started?utm_source=WEBSITE&amp;utm_medium=WEB_IO&amp;utm_offer=ARTICLE_PAGE&amp;utm_content=DOCS">
     Terraform: Get Started
    </a>
    collection on HashiCorp Learn.
   </p>
  </blockquote>
  <p>
   <em>
    Resources
   </em>
   are the most important element in the Terraform language.
 Each resource block describes one or more infrastructure objects, such
 as virtual networks, compute instances, or higher-level components such
 as DNS records.
  </p>
  <ul>
   <li>
    <p>
     <a href="/docs/language/resources/syntax.html">
      Resource Blocks
     </a>
     documents
 the syntax for declaring resources.
    </p>
   </li>
   <li>
    <p>
     <a href="/docs/language/resources/behavior.html">
      Resource Behavior
     </a>
     explains in
 more detail how Terraform handles resource declarations when applying a
 configuration.
    </p>
   </li>
   <li>
    <p>
     The Meta-Arguments section documents special arguments that can be used with
 every resource type, including
     <a href="/docs/language/meta-arguments/depends_on.html">
      <code>
       depends_on
      </code>
     </a>
     ,
     <a href="/docs/language/meta-arguments/count.html">
      <code>
       count
      </code>
     </a>
     ,
     <a href="/docs/language/meta-arguments/for_each.html">
      <code>
       for_each
      </code>
     </a>
     ,
     <a href="/docs/language/meta-arguments/resource-provider.html">
      <code>
       provider
      </code>
     </a>
     ,
 and
     <a href="/docs/language/meta-arguments/lifecycle.html">
      <code>
       lifecycle
      </code>
     </a>
     .
    </p>
   </li>
   <li>
    <p>
     <a href="/docs/language/resources/provisioners/index.html">
      Provisioners
     </a>
     documents configuring post-creation actions for a resource using the
     <code>
      provisioner
     </code>
     and
     <code>
      connection
     </code>
     blocks. Since provisioners are non-declarative
 and potentially unpredictable, we strongly recommend that you treat them as a
 last resort.
    </p>
   </li>
  </ul>
 </div>
 
 <!-- ########### Resources : Resource Behavior ############### -->
 <!-- ########### https://www.terraform.io/docs/language/resources/syntax.html ############### --
 ><!-- ########### Resources : Resource Behavior ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="resource-blocks">
    <a class="anchor" href="#resource-blocks" name="resource-blocks">
     »
    </a>
    Resource Blocks
   </h1>
   <div id="inner-quicknav">
    <span id="inner-quicknav-trigger">
     Jump to Section
     <svg height="5" width="9" xmlns="http://www.w3.org/2000/svg">
      <path d="M8.811 1.067a.612.612 0 0 0 0-.884.655.655 0 0 0-.908 0L4.5 3.491 1.097.183a.655.655 0 0 0-.909 0 .615.615 0 0 0 0 .884l3.857 3.75a.655.655 0 0 0 .91 0l3.856-3.75z" fill-rule="evenodd">
      </path>
     </svg>
    </span>
    <ul class="dropdown">
     <li class="level-h2">
      <a href="#resource-syntax">
       »
 Resource Syntax
      </a>
     </li>
     <li class="level-h2">
      <a href="#resource-types">
       »
 Resource Types
      </a>
     </li>
     <li class="level-h3">
      <a href="#providers">
       »
 Providers
      </a>
     </li>
     <li class="level-h3">
      <a href="#resource-arguments">
       »
 Resource Arguments
      </a>
     </li>
     <li class="level-h3">
      <a href="#documentation-for-resource-types">
       »
 Documentation for Resource Types
      </a>
     </li>
     <li class="level-h2">
      <a href="#resource-behavior">
       »
 Resource Behavior
      </a>
     </li>
     <li class="level-h2">
      <a href="#meta-arguments">
       »
 Meta-Arguments
      </a>
     </li>
     <li class="level-h2">
      <a href="#operation-timeouts">
       »
 Operation Timeouts
      </a>
     </li>
    </ul>
   </div>
  </div>
  <blockquote>
   <p>
    <strong>
     Hands-on:
    </strong>
    Try the
    <a href="https://learn.hashicorp.com/collections/terraform/aws-get-started?utm_source=WEBSITE&amp;utm_medium=WEB_IO&amp;utm_offer=ARTICLE_PAGE&amp;utm_content=DOCS">
     Terraform: Get Started
    </a>
    collection on HashiCorp Learn.
   </p>
  </blockquote>
  <p>
   <em>
    Resources
   </em>
   are the most important element in the Terraform language.
 Each resource block describes one or more infrastructure objects, such
 as virtual networks, compute instances, or higher-level components such
 as DNS records.
  </p>
  <h2 id="resource-syntax">
   <a class="anchor" href="#resource-syntax" name="resource-syntax">
    »
   </a>
   Resource Syntax
  </h2>
  <p>
   Resource declarations can include a number of advanced features, but only
 a small subset are required for initial use. More advanced syntax features,
 such as single resource declarations that produce multiple similar remote
 objects, are described later in this page.
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">resource</span> <span class="s2">"aws_instance"</span> <span class="s2">"web"</span> <span class="p">{</span>
   <span class="n">ami</span>           <span class="o">=</span> <span class="s2">"ami-a1b2c3d4"</span>
   <span class="n">instance_type</span> <span class="o">=</span> <span class="s2">"t2.micro"</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <p>
   A
   <code>
    resource
   </code>
   block declares a resource of a given type ("aws_instance")
 with a given local name ("web"). The name is used to refer to this resource
 from elsewhere in the same Terraform module, but has no significance outside
 that module's scope.
  </p>
  <p>
   The resource type and name together serve as an identifier for a given
 resource and so must be unique within a module.
  </p>
  <p>
   Within the block body (between
   <code>
    {
   </code>
   and
   <code>
    }
   </code>
   ) are the configuration arguments
 for the resource itself. Most arguments in this section depend on the
 resource type, and indeed in this example both
   <code>
    ami
   </code>
   and
   <code>
    instance_type
   </code>
   are
 arguments defined specifically for
   <a href="https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/instance">
    the
    <code>
     aws_instance
    </code>
    resource type
   </a>
   .
  </p>
  <div class="alert alert-info" role="alert">
   <p>
    <strong>
     Note:
    </strong>
    Resource names must start with a letter or underscore, and may
 contain only letters, digits, underscores, and dashes.
   </p>
  </div>
  <h2 id="resource-types">
   <a class="anchor" href="#resource-types" name="resource-types">
    »
   </a>
   Resource Types
  </h2>
  <p>
   Each resource is associated with a single
   <em>
    resource type
   </em>
   , which determines
 the kind of infrastructure object it manages and what arguments and other
 attributes the resource supports.
  </p>
  <h3 id="providers">
   <a class="anchor" href="#providers" name="providers">
    »
   </a>
   Providers
  </h3>
  <p>
   Each resource type is implemented by a
   <a href="/docs/language/providers/requirements.html">
    provider
   </a>
   ,
 which is a plugin for Terraform that offers a collection of resource types. A
 provider usually provides resources to manage a single cloud or on-premises
 infrastructure platform. Providers are distributed separately from Terraform
 itself, but Terraform can automatically install most providers when initializing
 a working directory.
  </p>
  <p>
   In order to manage resources, a Terraform module must specify which providers it
 requires. Additionally, most providers need some configuration in order to
 access their remote APIs, and the root module must provide that configuration.
  </p>
  <p>
   For more information, see:
  </p>
  <ul>
   <li>
    <a href="/docs/language/providers/requirements.html">
     Provider Requirements
    </a>
    , for declaring which
 providers a module uses.
   </li>
   <li>
    <a href="/docs/language/providers/configuration.html">
     Provider Configuration
    </a>
    , for configuring provider settings.
   </li>
  </ul>
  <p>
   Terraform usually automatically determines which provider to use based on a
 resource type's name. (By convention, resource type names start with their
 provider's preferred local name.) When using multiple configurations of a
 provider (or non-preferred local provider names), you must use the
   <code>
    provider
   </code>
   meta-argument to manually choose an alternate provider configuration. See
   <a href="/docs/language/meta-arguments/resource-provider.html">
    the
    <code>
     provider
    </code>
    meta-argument
   </a>
   for more details.
  </p>
  <h3 id="resource-arguments">
   <a class="anchor" href="#resource-arguments" name="resource-arguments">
    »
   </a>
   Resource Arguments
  </h3>
  <p>
   Most of the arguments within the body of a
   <code>
    resource
   </code>
   block are specific to the
 selected resource type. The resource type's documentation lists which arguments
 are available and how their values should be formatted.
  </p>
  <p>
   The values for resource arguments can make full use of
   <a href="/docs/language/expressions/index.html">
    expressions
   </a>
   and other dynamic Terraform
 language features.
  </p>
  <p>
   There are also some
   <em>
    meta-arguments
   </em>
   that are defined by Terraform itself
 and apply across all resource types. (See
   <a href="#meta-arguments">
    Meta-Arguments
   </a>
   below.)
  </p>
  <h3 id="documentation-for-resource-types">
   <a class="anchor" href="#documentation-for-resource-types" name="documentation-for-resource-types">
    »
   </a>
   Documentation for Resource Types
  </h3>
  <p>
   Every Terraform provider has its own documentation, describing its resource
 types and their arguments.
  </p>
  <p>
   Most publicly available providers are distributed on the
   <a href="https://registry.terraform.io/browse/providers">
    Terraform Registry
   </a>
   , which also
 hosts their documentation. When viewing a provider's page on the Terraform
 Registry, you can click the "Documentation" link in the header to browse its
 documentation. Provider documentation on the registry is versioned, and you can
 use the dropdown version menu in the header to switch which version's
 documentation you are viewing.
  </p>
  <p>
   To browse the publicly available providers and their documentation, see
   <a href="https://registry.terraform.io/browse/providers">
    the providers section of the Terraform Registry
   </a>
   .
  </p>
  <div class="alert alert-info" role="alert">
   <p>
    <strong>
     Note:
    </strong>
    Provider documentation used to be hosted directly on terraform.io,
 as part of Terraform's core documentation. Although some provider documentation
 might still be hosted here, the Terraform Registry is now the main home for all
 public provider docs.
   </p>
  </div>
  <h2 id="resource-behavior">
   <a class="anchor" href="#resource-behavior" name="resource-behavior">
    »
   </a>
   Resource Behavior
  </h2>
  <p>
   For more information about how Terraform manages resources when applying a
 configuration, see
   <a href="/docs/language/resources/behavior.html">
    Resource Behavior
   </a>
   .
  </p>
  <h2 id="meta-arguments">
   <a class="anchor" href="#meta-arguments" name="meta-arguments">
    »
   </a>
   Meta-Arguments
  </h2>
  <p>
   The Terraform language defines several meta-arguments, which can be used with
 any resource type to change the behavior of resources.
  </p>
  <p>
   The following meta-arguments are documented on separate pages:
  </p>
  <ul>
   <li>
    <a href="/docs/language/meta-arguments/depends_on.html">
     <code>
      depends_on
     </code>
     , for specifying hidden dependencies
    </a>
   </li>
   <li>
    <a href="/docs/language/meta-arguments/count.html">
     <code>
      count
     </code>
     , for creating multiple resource instances according to a count
    </a>
   </li>
   <li>
    <a href="/docs/language/meta-arguments/for_each.html">
     <code>
      for_each
     </code>
     , to create multiple instances according to a map, or set of strings
    </a>
   </li>
   <li>
    <a href="/docs/language/meta-arguments/resource-provider.html">
     <code>
      provider
     </code>
     , for selecting a non-default provider configuration
    </a>
   </li>
   <li>
    <a href="/docs/language/meta-arguments/lifecycle.html">
     <code>
      lifecycle
     </code>
     , for lifecycle customizations
    </a>
   </li>
   <li>
    <a href="/docs/language/resources/provisioners/index.html">
     <code>
      provisioner
     </code>
     and
     <code>
      connection
     </code>
     , for taking extra actions after resource creation
    </a>
   </li>
  </ul>
  <h2 id="operation-timeouts">
   <a class="anchor" href="#operation-timeouts" name="operation-timeouts">
    »
   </a>
   Operation Timeouts
  </h2>
  <p>
   Some resource types provide a special
   <code>
    timeouts
   </code>
   nested block argument that
 allows you to customize how long certain operations are allowed to take
 before being considered to have failed.
 For example,
   <a href="https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/db_instance">
    <code>
     aws_db_instance
    </code>
   </a>
   allows configurable timeouts for
   <code>
    create
   </code>
   ,
   <code>
    update
   </code>
   and
   <code>
    delete
   </code>
   operations.
  </p>
  <p>
   Timeouts are handled entirely by the resource type implementation in the
 provider, but resource types offering these features follow the convention
 of defining a child block called
   <code>
    timeouts
   </code>
   that has a nested argument
 named after each operation that has a configurable timeout value.
 Each of these arguments takes a string representation of a duration, such
 as
   <code>
    "60m"
   </code>
   for 60 minutes,
   <code>
    "10s"
   </code>
   for ten seconds, or
   <code>
    "2h"
   </code>
   for two hours.
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">resource</span> <span class="s2">"aws_db_instance"</span> <span class="s2">"example"</span> <span class="p">{</span>
   <span class="c1"># ...</span>
 
   <span class="n">timeouts</span> <span class="p">{</span>
     <span class="n">create</span> <span class="o">=</span> <span class="s2">"60m"</span>
     <span class="n">delete</span> <span class="o">=</span> <span class="s2">"2h"</span>
   <span class="p">}</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <p>
   The set of configurable operations is chosen by each resource type. Most
 resource types do not support the
   <code>
    timeouts
   </code>
   block at all. Consult the
 documentation for each resource type to see which operations it offers
 for configuration, if any.
  </p>
 </div>
 
 <!-- ########### Meta-Arguments : depends_on ############### -->
 <!-- ########### https://www.terraform.io/docs/language/resources/behavior.html ############### --
 ><!-- ########### Meta-Arguments : depends_on ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="resource-behavior">
    <a class="anchor" href="#resource-behavior" name="resource-behavior">
     »
    </a>
    Resource Behavior
   </h1>
   <div id="inner-quicknav">
    <span id="inner-quicknav-trigger">
     Jump to Section
     <svg height="5" width="9" xmlns="http://www.w3.org/2000/svg">
      <path d="M8.811 1.067a.612.612 0 0 0 0-.884.655.655 0 0 0-.908 0L4.5 3.491 1.097.183a.655.655 0 0 0-.909 0 .615.615 0 0 0 0 .884l3.857 3.75a.655.655 0 0 0 .91 0l3.856-3.75z" fill-rule="evenodd">
      </path>
     </svg>
    </span>
    <ul class="dropdown">
     <li class="level-h2">
      <a href="#how-terraform-applies-a-configuration">
       »
 How Terraform Applies a Configuration
      </a>
     </li>
     <li class="level-h2">
      <a href="#accessing-resource-attributes">
       »
 Accessing Resource Attributes
      </a>
     </li>
     <li class="level-h2">
      <a href="#resource-dependencies">
       »
 Resource Dependencies
      </a>
     </li>
     <li class="level-h2">
      <a href="#local-only-resources">
       »
 Local-only Resources
      </a>
     </li>
    </ul>
   </div>
  </div>
  <p>
   A
   <code>
    resource
   </code>
   block declares that you want a particular infrastructure object
 to exist with the given settings. If you are writing a new configuration for
 the first time, the resources it defines will exist
   <em>
    only
   </em>
   in the configuration,
 and will not yet represent real infrastructure objects in the target platform.
  </p>
  <p>
   <em>
    Applying
   </em>
   a Terraform configuration is the process of creating, updating,
 and destroying real infrastructure objects in order to make their settings
 match the configuration.
  </p>
  <h2 id="how-terraform-applies-a-configuration">
   <a class="anchor" href="#how-terraform-applies-a-configuration" name="how-terraform-applies-a-configuration">
    »
   </a>
   How Terraform Applies a Configuration
  </h2>
  <p>
   When Terraform creates a new infrastructure object represented by a
   <code>
    resource
   </code>
   block, the identifier for that real object is saved in Terraform's
   <a href="/docs/language/state/index.html">
    state
   </a>
   , allowing it to be updated and destroyed
 in response to future changes. For resource blocks that already have an
 associated infrastructure object in the state, Terraform compares the
 actual configuration of the object with the arguments given in the
 configuration and, if necessary, updates the object to match the configuration.
  </p>
  <p>
   In summary, applying a Terraform configuration will:
  </p>
  <ul>
   <li>
    <em>
     Create
    </em>
    resources that exist in the configuration but are not associated with a real infrastructure object in the state.
   </li>
   <li>
    <em>
     Destroy
    </em>
    resources that exist in the state but no longer exist in the configuration.
   </li>
   <li>
    <em>
     Update in-place
    </em>
    resources whose arguments have changed.
   </li>
   <li>
    <em>
     Destroy and re-create
    </em>
    resources whose arguments have changed but which cannot be updated in-place due to remote API limitations.
   </li>
  </ul>
  <p>
   This general behavior applies for all resources, regardless of type. The
 details of what it means to create, update, or destroy a resource are different
 for each resource type, but this standard set of verbs is common across them
 all.
  </p>
  <p>
   The meta-arguments within
   <code>
    resource
   </code>
   blocks, documented in the
 sections below, allow some details of this standard resource behavior to be
 customized on a per-resource basis.
  </p>
  <h2 id="accessing-resource-attributes">
   <a class="anchor" href="#accessing-resource-attributes" name="accessing-resource-attributes">
    »
   </a>
   Accessing Resource Attributes
  </h2>
  <p>
   <a href="/docs/language/expressions/index.html">
    Expressions
   </a>
   within a Terraform module can access
 information about resources in the same module, and you can use that information
 to help configure other resources. Use the
   <code>
    &lt;RESOURCE TYPE&gt;.&lt;NAME&gt;.&lt;ATTRIBUTE&gt;
   </code>
   syntax to reference a resource attribute in an expression.
  </p>
  <p>
   In addition to arguments specified in the configuration, resources often provide
 read-only attributes with information obtained from the remote API; this often
 includes things that can't be known until the resource is created, like the
 resource's unique random ID.
  </p>
  <p>
   Many providers also include
   <a href="/docs/language/data-sources/index.html">
    data sources
   </a>
   ,
 which are a special type of resource used only for looking up information.
  </p>
  <p>
   For a list of the attributes a resource or data source type provides, consult
 its documentation; these are generally included in a second list below its list
 of configurable arguments.
  </p>
  <p>
   For more information about referencing resource attributes in expressions, see
   <a href="/docs/language/expressions/references.html#references-to-resource-attributes">
    Expressions: References to Resource Attributes
   </a>
   .
  </p>
  <h2 id="resource-dependencies">
   <a class="anchor" href="#resource-dependencies" name="resource-dependencies">
    »
   </a>
   Resource Dependencies
  </h2>
  <p>
   Most resources in a configuration don't have any particular relationship, and
 Terraform can make changes to several unrelated resources in parallel.
  </p>
  <p>
   However, some resources must be processed after other specific resources;
 sometimes this is because of how the resource works, and sometimes the
 resource's configuration just requires information generated by another
 resource.
  </p>
  <p>
   Most resource dependencies are handled automatically. Terraform analyses any
   <a href="/docs/language/expressions/index.html">
    expressions
   </a>
   within a
   <code>
    resource
   </code>
   block to find references
 to other objects, and treats those references as implicit ordering requirements
 when creating, updating, or destroying resources. Since most resources with
 behavioral dependencies on other resources also refer to those resources' data,
 it's usually not necessary to manually specify dependencies between resources.
  </p>
  <p>
   However, some dependencies cannot be recognized implicitly in configuration. For
 example, if Terraform must manage access control policies
   <em>
    and
   </em>
   take actions
 that require those policies to be present, there is a hidden dependency between
 the access policy and a resource whose creation depends on it. In these rare
 cases,
   <a href="/docs/language/meta-arguments/depends_on.html">
    the
    <code>
     depends_on
    </code>
    meta-argument
   </a>
   can explicitly specify a dependency.
  </p>
  <h2 id="local-only-resources">
   <a class="anchor" href="#local-only-resources" name="local-only-resources">
    »
   </a>
   Local-only Resources
  </h2>
  <p>
   While most resource types correspond to an infrastructure object type that
 is managed via a remote network API, there are certain specialized resource
 types that operate only within Terraform itself, calculating some results and
 saving those results in the state for future use.
  </p>
  <p>
   For example, local-only resource types exist for
   <a href="https://registry.terraform.io/providers/hashicorp/tls/latest/docs/resources/private_key">
    generating private keys
   </a>
   ,
   <a href="https://registry.terraform.io/providers/hashicorp/tls/latest/docs/resources/self_signed_cert">
    issuing self-signed TLS certificates
   </a>
   ,
 and even
   <a href="https://registry.terraform.io/providers/hashicorp/random/latest/docs/resources/id">
    generating random ids
   </a>
   .
 While these resource types often have a more marginal purpose than those
 managing "real" infrastructure objects, they can be useful as glue to help
 connect together other resources.
  </p>
  <p>
   The behavior of local-only resources is the same as all other resources, but
 their result data exists only within the Terraform state. "Destroying" such
 a resource means only to remove it from the state, discarding its data.
  </p>
 </div>
 
 <!-- ########### Meta-Arguments : count ############### -->
 <!-- ########### https://www.terraform.io/docs/language/meta-arguments/depends_on.html ############### --
 ><!-- ########### Meta-Arguments : count ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="the-depends_on-meta-argument">
    <a class="anchor" href="#the-depends_on-meta-argument" name="the-depends_on-meta-argument">
     »
    </a>
    The
    <code>
     depends_on
    </code>
    Meta-Argument
   </h1>
  </div>
  <div class="alert alert-info" role="alert">
   <p>
    <strong>
     Version note:
    </strong>
    Module support for
    <code>
     depends_on
    </code>
    was added in Terraform 0.13, and
 previous versions can only use it with resources.
   </p>
  </div>
  <p>
   Use the
   <code>
    depends_on
   </code>
   meta-argument to handle hidden resource or module dependencies that
 Terraform can't automatically infer.
  </p>
  <p>
   Explicitly specifying a dependency is only necessary when a resource or module relies on
 some other resource's behavior but
   <em>
    doesn't
   </em>
   access any of that resource's data
 in its arguments.
  </p>
  <p>
   This argument is available in
   <code>
    module
   </code>
   blocks and in all
   <code>
    resource
   </code>
   blocks,
 regardless of resource type. For example:
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">resource</span> <span class="s2">"aws_iam_role"</span> <span class="s2">"example"</span> <span class="p">{</span>
   <span class="nb">name</span> <span class="o">=</span> <span class="s2">"example"</span>
 
   <span class="c1"># assume_role_policy is omitted for brevity in this example. See the</span>
   <span class="c1"># documentation for aws_iam_role for a complete example.</span>
   <span class="n">assume_role_policy</span> <span class="o">=</span> <span class="s2">"..."</span>
 <span class="p">}</span>
 
 <span class="n">resource</span> <span class="s2">"aws_iam_instance_profile"</span> <span class="s2">"example"</span> <span class="p">{</span>
   <span class="c1"># Because this expression refers to the role, Terraform can infer</span>
   <span class="c1"># automatically that the role must be created first.</span>
   <span class="n">role</span> <span class="o">=</span> <span class="n">aws_iam_role</span><span class="p">.</span><span class="nf">example</span><span class="p">.</span><span class="nf">name</span>
 <span class="p">}</span>
 
 <span class="n">resource</span> <span class="s2">"aws_iam_role_policy"</span> <span class="s2">"example"</span> <span class="p">{</span>
   <span class="nb">name</span>   <span class="o">=</span> <span class="s2">"example"</span>
   <span class="n">role</span>   <span class="o">=</span> <span class="n">aws_iam_role</span><span class="p">.</span><span class="nf">example</span><span class="p">.</span><span class="nf">name</span>
   <span class="n">policy</span> <span class="o">=</span> <span class="n">jsonencode</span><span class="p">({</span>
     <span class="s2">"Statement"</span> <span class="o">=</span> <span class="p">[{</span>
       <span class="c1"># This policy allows software running on the EC2 instance to</span>
       <span class="c1"># access the S3 API.</span>
       <span class="s2">"Action"</span> <span class="o">=</span> <span class="s2">"s3:*"</span><span class="p">,</span>
       <span class="s2">"Effect"</span> <span class="o">=</span> <span class="s2">"Allow"</span><span class="p">,</span>
     <span class="p">}],</span>
   <span class="p">})</span>
 <span class="p">}</span>
 
 <span class="n">resource</span> <span class="s2">"aws_instance"</span> <span class="s2">"example"</span> <span class="p">{</span>
   <span class="n">ami</span>           <span class="o">=</span> <span class="s2">"ami-a1b2c3d4"</span>
   <span class="n">instance_type</span> <span class="o">=</span> <span class="s2">"t2.micro"</span>
 
   <span class="c1"># Terraform can infer from this that the instance profile must</span>
   <span class="c1"># be created before the EC2 instance.</span>
   <span class="n">iam_instance_profile</span> <span class="o">=</span> <span class="n">aws_iam_instance_profile</span><span class="p">.</span><span class="nf">example</span>
 
   <span class="c1"># However, if software running in this EC2 instance needs access</span>
   <span class="c1"># to the S3 API in order to boot properly, there is also a "hidden"</span>
   <span class="c1"># dependency on the aws_iam_role_policy that Terraform cannot</span>
   <span class="c1"># automatically infer, so it must be declared explicitly:</span>
   <span class="n">depends_on</span> <span class="o">=</span> <span class="p">[</span>
     <span class="n">aws_iam_role_policy</span><span class="p">.</span><span class="nf">example</span><span class="p">,</span>
   <span class="p">]</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <p>
   The
   <code>
    depends_on
   </code>
   meta-argument, if present, must be a list of references
 to other resources or child modules in the same calling module.
 Arbitrary expressions are not allowed in the
   <code>
    depends_on
   </code>
   argument value,
 because its value must be known before Terraform knows resource relationships
 and thus before it can safely evaluate expressions.
  </p>
  <p>
   The
   <code>
    depends_on
   </code>
   argument should be used only as a last resort. When using it,
 always include a comment explaining why it is being used, to help future
 maintainers understand the purpose of the additional dependency.
  </p>
 </div>
 
 <!-- ########### Meta-Arguments : for_each ############### -->
 <!-- ########### https://www.terraform.io/docs/language/meta-arguments/count.html ############### --
 ><!-- ########### Meta-Arguments : for_each ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="the-count-meta-argument">
    <a class="anchor" href="#the-count-meta-argument" name="the-count-meta-argument">
     »
    </a>
    The
    <code>
     count
    </code>
    Meta-Argument
   </h1>
   <div id="inner-quicknav">
    <span id="inner-quicknav-trigger">
     Jump to Section
     <svg height="5" width="9" xmlns="http://www.w3.org/2000/svg">
      <path d="M8.811 1.067a.612.612 0 0 0 0-.884.655.655 0 0 0-.908 0L4.5 3.491 1.097.183a.655.655 0 0 0-.909 0 .615.615 0 0 0 0 .884l3.857 3.75a.655.655 0 0 0 .91 0l3.856-3.75z" fill-rule="evenodd">
      </path>
     </svg>
    </span>
    <ul class="dropdown">
     <li class="level-h2">
      <a href="#basic-syntax">
       »
 Basic Syntax
      </a>
     </li>
     <li class="level-h2">
      <a href="#the-count-object">
       »
 The count Object
      </a>
     </li>
     <li class="level-h2">
      <a href="#using-expressions-in-count">
       »
 Using Expressions in count
      </a>
     </li>
     <li class="level-h2">
      <a href="#referring-to-instances">
       »
 Referring to Instances
      </a>
     </li>
     <li class="level-h2">
      <a href="#when-to-use-for_each-instead-of-count">
       »
 When to Use for_each Instead of count
      </a>
     </li>
    </ul>
   </div>
  </div>
  <div class="alert alert-info" role="alert">
   <p>
    <strong>
     Version note:
    </strong>
    Module support for
    <code>
     count
    </code>
    was added in Terraform 0.13, and
 previous versions can only use it with resources.
   </p>
  </div>
  <div class="alert alert-info" role="alert">
   <p>
    <strong>
     Note:
    </strong>
    A given resource or module block cannot use both
    <code>
     count
    </code>
    and
    <code>
     for_each
    </code>
    .
   </p>
  </div>
  <blockquote>
   <p>
    <strong>
     Hands-on:
    </strong>
    Try the
    <a href="https://learn.hashicorp.com/tutorials/terraform/count?in=terraform/0-13&amp;utm_source=WEBSITE&amp;utm_medium=WEB_IO&amp;utm_offer=ARTICLE_PAGE&amp;utm_content=DOCS">
     Manage Similar Resources With Count
    </a>
    tutorial on HashiCorp Learn.
   </p>
  </blockquote>
  <p>
   By default, a
   <a href="/docs/language/resources/syntax.html">
    resource block
   </a>
   configures one real
 infrastructure object. (Similarly, a
   <a href="/docs/language/modules/syntax.html">
    module block
   </a>
   includes a
 child module's contents into the configuration one time.)
 However, sometimes you want to manage several similar objects (like a fixed
 pool of compute instances) without writing a separate block for each one.
 Terraform has two ways to do this:
   <code>
    count
   </code>
   and
   <a href="/docs/language/meta-arguments/for_each.html">
    <code>
     for_each
    </code>
   </a>
   .
  </p>
  <p>
   If a resource or module block includes a
   <code>
    count
   </code>
   argument whose value is a whole number,
 Terraform will create that many instances.
  </p>
  <h2 id="basic-syntax">
   <a class="anchor" href="#basic-syntax" name="basic-syntax">
    »
   </a>
   Basic Syntax
  </h2>
  <p>
   <code>
    count
   </code>
   is a meta-argument defined by the Terraform language. It can be used
 with modules and with every resource type.
  </p>
  <p>
   The
   <code>
    count
   </code>
   meta-argument accepts a whole number, and creates that many
 instances of the resource or module. Each instance has a distinct infrastructure object
 associated with it, and each is separately created,
 updated, or destroyed when the configuration is applied.
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">resource</span> <span class="s2">"aws_instance"</span> <span class="s2">"server"</span> <span class="p">{</span>
   <span class="n">count</span> <span class="o">=</span> <span class="mi">4</span> <span class="c1"># create four similar EC2 instances</span>
 
   <span class="n">ami</span>           <span class="o">=</span> <span class="s2">"ami-a1b2c3d4"</span>
   <span class="n">instance_type</span> <span class="o">=</span> <span class="s2">"t2.micro"</span>
 
   <span class="n">tags</span> <span class="o">=</span> <span class="p">{</span>
     <span class="no">Name</span> <span class="o">=</span> <span class="s2">"Server ${count.index}"</span>
   <span class="p">}</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <h2 id="the-count-object">
   <a class="anchor" href="#the-count-object" name="the-count-object">
    »
   </a>
   The
   <code>
    count
   </code>
   Object
  </h2>
  <p>
   In blocks where
   <code>
    count
   </code>
   is set, an additional
   <code>
    count
   </code>
   object is
 available in expressions, so you can modify the configuration of each instance.
 This object has one attribute:
  </p>
  <ul>
   <li>
    <a name="count-index">
    </a>
    <a href="#count-index">
     <code>
      count.index
     </code>
    </a>
    — The distinct index number (starting with
    <code>
     0
    </code>
    ) corresponding
 to this instance.
   </li>
  </ul>
  <h2 id="using-expressions-in-count">
   <a class="anchor" href="#using-expressions-in-count" name="using-expressions-in-count">
    »
   </a>
   Using Expressions in
   <code>
    count
   </code>
  </h2>
  <p>
   The
   <code>
    count
   </code>
   meta-argument accepts numeric
   <a href="/docs/language/expressions/index.html">
    expressions
   </a>
   .
 However, unlike most arguments, the
   <code>
    count
   </code>
   value must be known
   <em>
    before
   </em>
   Terraform performs any remote resource actions. This means
   <code>
    count
   </code>
   can't refer to any resource attributes that aren't known until after a
 configuration is applied (such as a unique ID generated by the remote API when
 an object is created).
  </p>
  <h2 id="referring-to-instances">
   <a class="anchor" href="#referring-to-instances" name="referring-to-instances">
    »
   </a>
   Referring to Instances
  </h2>
  <p>
   When
   <code>
    count
   </code>
   is set, Terraform distinguishes between the block itself
 and the multiple
   <em>
    resource or module instances
   </em>
   associated with it. Instances are
 identified by an index number, starting with
   <code>
    0
   </code>
   .
  </p>
  <ul>
   <li>
    <a name="lt-type-gt-lt-name-gt-">
    </a>
    <a href="#lt-type-gt-lt-name-gt-">
     <code>
      &lt;TYPE&gt;.&lt;NAME&gt;
     </code>
    </a>
    or
    <code>
     module.&lt;NAME&gt;
    </code>
    (for example,
    <code>
     aws_instance.server
    </code>
    ) refers to the resource block.
   </li>
   <li>
    <a name="lt-type-gt-lt-name-gt-lt-index-gt-">
    </a>
    <a href="#lt-type-gt-lt-name-gt-lt-index-gt-">
     <code>
      &lt;TYPE&gt;.&lt;NAME&gt;[&lt;INDEX&gt;]
     </code>
    </a>
    or
    <code>
     module.&lt;NAME&gt;[&lt;INDEX&gt;]
    </code>
    (for example,
    <code>
     aws_instance.server[0]
    </code>
    ,
    <code>
     aws_instance.server[1]
    </code>
    , etc.) refers to individual instances.
   </li>
  </ul>
  <p>
   This is different from resources and modules without
   <code>
    count
   </code>
   or
   <code>
    for_each
   </code>
   , which can be
 referenced without an index or key.
  </p>
  <p>
   Similarly, resources from child modules with multiple instances are prefixed
 with
   <code>
    module.&lt;NAME&gt;[&lt;KEY&gt;]
   </code>
   when displayed in plan output and elsewhere in the UI.
 For a module without
   <code>
    count
   </code>
   or
   <code>
    for_each
   </code>
   , the address will not contain
 the module index as the module's name suffices to reference the module.
  </p>
  <div class="alert alert-info" role="alert">
   <p>
    <strong>
     Note:
    </strong>
    Within nested
    <code>
     provisioner
    </code>
    or
    <code>
     connection
    </code>
    blocks, the special
    <code>
     self
    </code>
    object refers to the current
    <em>
     resource instance,
    </em>
    not the resource block
 as a whole.
   </p>
  </div>
  <h2 id="when-to-use-for_each-instead-of-count">
   <a class="anchor" href="#when-to-use-for_each-instead-of-count" name="when-to-use-for_each-instead-of-count">
    »
   </a>
   When to Use
   <code>
    for_each
   </code>
   Instead of
   <code>
    count
   </code>
  </h2>
  <p>
   If your instances are almost identical,
   <code>
    count
   </code>
   is appropriate. If some
 of their arguments need distinct values that can't be directly derived from an
 integer, it's safer to use
   <code>
    for_each
   </code>
   .
  </p>
  <p>
   Before
   <code>
    for_each
   </code>
   was available, it was common to derive
   <code>
    count
   </code>
   from the
 length of a list and use
   <code>
    count.index
   </code>
   to look up the original list value:
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">variable</span> <span class="s2">"subnet_ids"</span> <span class="p">{</span>
   <span class="n">type</span> <span class="o">=</span> <span class="n">list</span><span class="p">(</span><span class="n">string</span><span class="p">)</span>
 <span class="p">}</span>
 
 <span class="n">resource</span> <span class="s2">"aws_instance"</span> <span class="s2">"server"</span> <span class="p">{</span>
   <span class="c1"># Create one instance for each subnet</span>
   <span class="n">count</span> <span class="o">=</span> <span class="n">length</span><span class="p">(</span><span class="n">var</span><span class="p">.</span><span class="nf">subnet_ids</span><span class="p">)</span>
 
   <span class="n">ami</span>           <span class="o">=</span> <span class="s2">"ami-a1b2c3d4"</span>
   <span class="n">instance_type</span> <span class="o">=</span> <span class="s2">"t2.micro"</span>
   <span class="n">subnet_id</span>     <span class="o">=</span> <span class="n">var</span><span class="p">.</span><span class="nf">subnet_ids</span><span class="p">[</span><span class="n">count</span><span class="p">.</span><span class="nf">index</span><span class="p">]</span>
 
   <span class="n">tags</span> <span class="o">=</span> <span class="p">{</span>
     <span class="no">Name</span> <span class="o">=</span> <span class="s2">"Server ${count.index}"</span>
   <span class="p">}</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <p>
   This was fragile, because the resource instances were still identified by their
   <em>
    index
   </em>
   instead of the string values in the list. If an element was removed from
 the middle of the list, every instance
   <em>
    after
   </em>
   that element would see its
   <code>
    subnet_id
   </code>
   value change, resulting in more remote object changes than intended.
 Using
   <code>
    for_each
   </code>
   gives the same flexibility without the extra churn.
  </p>
 </div>
 
 <!-- ########### Meta-Arguments : provider ############### -->
 <!-- ########### https://www.terraform.io/docs/language/meta-arguments/for_each.html ############### --
 ><!-- ########### Meta-Arguments : provider ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="the-for_each-meta-argument">
    <a class="anchor" href="#the-for_each-meta-argument" name="the-for_each-meta-argument">
     »
    </a>
    The
    <code>
     for_each
    </code>
    Meta-Argument
   </h1>
   <div id="inner-quicknav">
    <span id="inner-quicknav-trigger">
     Jump to Section
     <svg height="5" width="9" xmlns="http://www.w3.org/2000/svg">
      <path d="M8.811 1.067a.612.612 0 0 0 0-.884.655.655 0 0 0-.908 0L4.5 3.491 1.097.183a.655.655 0 0 0-.909 0 .615.615 0 0 0 0 .884l3.857 3.75a.655.655 0 0 0 .91 0l3.856-3.75z" fill-rule="evenodd">
      </path>
     </svg>
    </span>
    <ul class="dropdown">
     <li class="level-h2">
      <a href="#basic-syntax">
       »
 Basic Syntax
      </a>
     </li>
     <li class="level-h2">
      <a href="#the-each-object">
       »
 The each Object
      </a>
     </li>
     <li class="level-h2">
      <a href="#limitations-on-values-used-in-for_each">
       »
 Limitations on values used in for_each
      </a>
     </li>
     <li class="level-h2">
      <a href="#using-expressions-in-for_each">
       »
 Using Expressions in for_each
      </a>
     </li>
     <li class="level-h2">
      <a href="#referring-to-instances">
       »
 Referring to Instances
      </a>
     </li>
     <li class="level-h2">
      <a href="#using-sets">
       »
 Using Sets
      </a>
     </li>
    </ul>
   </div>
  </div>
  <div class="alert alert-info" role="alert">
   <p>
    <strong>
     Version note:
    </strong>
    <code>
     for_each
    </code>
    was added in Terraform 0.12.6. Module support
 for
    <code>
     for_each
    </code>
    was added in Terraform 0.13, and previous versions can only use
 it with resources.
   </p>
  </div>
  <div class="alert alert-info" role="alert">
   <p>
    <strong>
     Note:
    </strong>
    A given resource or module block cannot use both
    <code>
     count
    </code>
    and
    <code>
     for_each
    </code>
    .
   </p>
  </div>
  <blockquote>
   <p>
    <strong>
     Hands-on:
    </strong>
    Try the
    <a href="https://learn.hashicorp.com/tutorials/terraform/for-each?in=terraform/0-13&amp;utm_source=WEBSITE&amp;utm_medium=WEB_IO&amp;utm_offer=ARTICLE_PAGE&amp;utm_content=DOCS">
     Manage Similar Resources With For Each
    </a>
    tutorial on HashiCorp Learn.
   </p>
  </blockquote>
  <p>
   By default, a
   <a href="/docs/language/resources/syntax.html">
    resource block
   </a>
   configures one real
 infrastructure object (and similarly, a
   <a href="/docs/language/modules/syntax.html">
    module block
   </a>
   includes a
 child module's contents into the configuration one time).
 However, sometimes you want to manage several similar objects (like a fixed
 pool of compute instances) without writing a separate block for each one.
 Terraform has two ways to do this:
   <a href="/docs/language/meta-arguments/count.html">
    <code>
     count
    </code>
   </a>
   and
   <code>
    for_each
   </code>
   .
  </p>
  <p>
   If a resource or module block includes a
   <code>
    for_each
   </code>
   argument whose value is a map or
 a set of strings, Terraform will create one instance for each member of
 that map or set.
  </p>
  <h2 id="basic-syntax">
   <a class="anchor" href="#basic-syntax" name="basic-syntax">
    »
   </a>
   Basic Syntax
  </h2>
  <p>
   <code>
    for_each
   </code>
   is a meta-argument defined by the Terraform language. It can be used
 with modules and with every resource type.
  </p>
  <p>
   The
   <code>
    for_each
   </code>
   meta-argument accepts a map or a set of strings, and creates an
 instance for each item in that map or set. Each instance has a distinct
 infrastructure object associated with it, and each is separately created,
 updated, or destroyed when the configuration is applied.
  </p>
  <p>
   Map:
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">resource</span> <span class="s2">"azurerm_resource_group"</span> <span class="s2">"rg"</span> <span class="p">{</span>
   <span class="n">for_each</span> <span class="o">=</span> <span class="p">{</span>
     <span class="n">a_group</span> <span class="o">=</span> <span class="s2">"eastus"</span>
     <span class="n">another_group</span> <span class="o">=</span> <span class="s2">"westus2"</span>
   <span class="p">}</span>
   <span class="nb">name</span>     <span class="o">=</span> <span class="n">each</span><span class="p">.</span><span class="nf">key</span>
   <span class="n">location</span> <span class="o">=</span> <span class="n">each</span><span class="p">.</span><span class="nf">value</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <p>
   Set of strings:
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">resource</span> <span class="s2">"aws_iam_user"</span> <span class="s2">"the-accounts"</span> <span class="p">{</span>
   <span class="n">for_each</span> <span class="o">=</span> <span class="n">toset</span><span class="p">(</span> <span class="p">[</span><span class="s2">"Todd"</span><span class="p">,</span> <span class="s2">"James"</span><span class="p">,</span> <span class="s2">"Alice"</span><span class="p">,</span> <span class="s2">"Dottie"</span><span class="p">]</span> <span class="p">)</span>
   <span class="nb">name</span>     <span class="o">=</span> <span class="n">each</span><span class="p">.</span><span class="nf">key</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <p>
   Child module:
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="c1"># my_buckets.tf</span>
 <span class="n">module</span> <span class="s2">"bucket"</span> <span class="p">{</span>
   <span class="n">for_each</span> <span class="o">=</span> <span class="n">toset</span><span class="p">([</span><span class="s2">"assets"</span><span class="p">,</span> <span class="s2">"media"</span><span class="p">])</span>
   <span class="n">source</span>   <span class="o">=</span> <span class="s2">"./publish_bucket"</span>
   <span class="nb">name</span>     <span class="o">=</span> <span class="s2">"${each.key}_bucket"</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="c1"># publish_bucket/bucket-and-cloudfront.tf</span>
 <span class="n">variable</span> <span class="s2">"name"</span> <span class="p">{}</span> <span class="c1"># this is the input parameter of the module</span>
 
 <span class="n">resource</span> <span class="s2">"aws_s3_bucket"</span> <span class="s2">"example"</span> <span class="p">{</span>
   <span class="c1"># Because var.name includes each.key in the calling</span>
   <span class="c1"># module block, its value will be different for</span>
   <span class="c1"># each instance of this module.</span>
   <span class="n">bucket</span> <span class="o">=</span> <span class="n">var</span><span class="p">.</span><span class="nf">name</span>
 
   <span class="c1"># ...</span>
 <span class="p">}</span>
 
 <span class="n">resource</span> <span class="s2">"aws_iam_user"</span> <span class="s2">"deploy_user"</span> <span class="p">{</span>
   <span class="c1"># ...</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <h2 id="the-each-object">
   <a class="anchor" href="#the-each-object" name="the-each-object">
    »
   </a>
   The
   <code>
    each
   </code>
   Object
  </h2>
  <p>
   In blocks where
   <code>
    for_each
   </code>
   is set, an additional
   <code>
    each
   </code>
   object is
 available in expressions, so you can modify the configuration of each instance.
 This object has two attributes:
  </p>
  <ul>
   <li>
    <a name="each-key">
    </a>
    <a href="#each-key">
     <code>
      each.key
     </code>
    </a>
    — The map key (or set member) corresponding to this instance.
   </li>
   <li>
    <a name="each-value">
    </a>
    <a href="#each-value">
     <code>
      each.value
     </code>
    </a>
    — The map value corresponding to this instance. (If a set was
 provided, this is the same as
    <code>
     each.key
    </code>
    .)
   </li>
  </ul>
  <h2 id="limitations-on-values-used-in-for_each">
   <a class="anchor" href="#limitations-on-values-used-in-for_each" name="limitations-on-values-used-in-for_each">
    »
   </a>
   Limitations on values used in
   <code>
    for_each
   </code>
  </h2>
  <p>
   The keys of the map (or all the values in the case of a set of strings) must
 be
   <em>
    known values
   </em>
   , or you will get an error message that
   <code>
    for_each
   </code>
   has dependencies
 that cannot be determined before apply, and a
   <code>
    -target
   </code>
   may be needed.
  </p>
  <p>
   <code>
    for_each
   </code>
   keys cannot be the result (or rely on the result of) of impure functions,
 including
   <code>
    uuid
   </code>
   ,
   <code>
    bcrypt
   </code>
   , or
   <code>
    timestamp
   </code>
   , as their evaluation is deferred during the
 main evaluation step.
  </p>
  <p>
   Sensitive values, such as
   <a href="https://www.terraform.io/docs/language/values/variables.html#suppressing-values-in-cli-output">
    sensitive input variables
   </a>
   ,
   <a href="https://www.terraform.io/docs/language/values/outputs.html#sensitive-suppressing-values-in-cli-output">
    sensitive outputs
   </a>
   ,
 or
   <a href="https://www.terraform.io/docs/language/expressions/references.html#sensitive-resource-attributes">
    sensitive resource attributes
   </a>
   (if the
   <code>
    provider_sensitive_attrs
   </code>
   experiment is enabled), cannot be used as arguments
 to
   <code>
    for_each
   </code>
   . The value used in
   <code>
    for_each
   </code>
   is used to identify the resource instance
 and will always be disclosed in UI output, which is why sensitive values are not allowed.
 Attempts to use sensitive values as
   <code>
    for_each
   </code>
   arguments will result in an error.
  </p>
  <p>
   If you transform a value containing sensitive data into an argument to be used in
   <code>
    for_each
   </code>
   , be aware that
   <a href="https://www.terraform.io/docs/language/expressions/function-calls.html#using-sensitive-data-as-function-arguments">
    most functions in Terraform will return a sensitive result if given an argument with any sensitive content
   </a>
   .
 In many cases, you can achieve similar results to a function used for this purpose by
 using a
   <code>
    for
   </code>
   expression. For example, if you would like to call
   <code>
    keys(local.map)
   </code>
   , where
   <code>
    local.map
   </code>
   is an object with sensitive values (but non-sensitive keys), you can create a
 value to pass to
   <code>
    for_each
   </code>
   with
   <code>
    toset([for k,v in local.map : k])
   </code>
   .
  </p>
  <h2 id="using-expressions-in-for_each">
   <a class="anchor" href="#using-expressions-in-for_each" name="using-expressions-in-for_each">
    »
   </a>
   Using Expressions in
   <code>
    for_each
   </code>
  </h2>
  <p>
   The
   <code>
    for_each
   </code>
   meta-argument accepts map or set
   <a href="/docs/language/expressions/index.html">
    expressions
   </a>
   .
 However, unlike most arguments, the
   <code>
    for_each
   </code>
   value must be known
   <em>
    before
   </em>
   Terraform performs any remote resource actions. This means
   <code>
    for_each
   </code>
   can't refer to any resource attributes that aren't known until after a
 configuration is applied (such as a unique ID generated by the remote API when
 an object is created).
  </p>
  <p>
   The
   <code>
    for_each
   </code>
   value must be a map or set with one element per desired
 resource instance. When providing a set, you must use an expression that
 explicitly returns a set value, like the
   <a href="/docs/language/functions/toset.html">
    <code>
     toset
    </code>
   </a>
   function; to prevent unwanted surprises during conversion, the
   <code>
    for_each
   </code>
   argument does not implicitly convert lists or tuples to sets.
 If you need to declare resource instances based on a nested
 data structure or combinations of elements from multiple data structures you
 can use Terraform expressions and functions to derive a suitable value.
 For example:
  </p>
  <ul>
   <li>
    Transform a multi-level nested structure into a flat list by
    <a href="/docs/language/functions/flatten.html#flattening-nested-structures-for-for_each">
     using nested
     <code>
      for
     </code>
     expressions with the
     <code>
      flatten
     </code>
     function
    </a>
    .
   </li>
   <li>
    Produce an exhaustive list of combinations of elements from two or more
 collections by
    <a href="/docs/language/functions/setproduct.html#finding-combinations-for-for_each">
     using the
     <code>
      setproduct
     </code>
     function inside a
     <code>
      for
     </code>
     expression
    </a>
    .
   </li>
  </ul>
  <h2 id="referring-to-instances">
   <a class="anchor" href="#referring-to-instances" name="referring-to-instances">
    »
   </a>
   Referring to Instances
  </h2>
  <p>
   When
   <code>
    for_each
   </code>
   is set, Terraform distinguishes between the block itself
 and the multiple
   <em>
    resource or module instances
   </em>
   associated with it. Instances are
 identified by a map key (or set member) from the value provided to
   <code>
    for_each
   </code>
   .
  </p>
  <ul>
   <li>
    <a name="lt-type-gt-lt-name-gt-">
    </a>
    <a href="#lt-type-gt-lt-name-gt-">
     <code>
      &lt;TYPE&gt;.&lt;NAME&gt;
     </code>
    </a>
    or
    <code>
     module.&lt;NAME&gt;
    </code>
    (for example,
    <code>
     azurerm_resource_group.rg
    </code>
    ) refers to the block.
   </li>
   <li>
    <a name="lt-type-gt-lt-name-gt-lt-key-gt-">
    </a>
    <a href="#lt-type-gt-lt-name-gt-lt-key-gt-">
     <code>
      &lt;TYPE&gt;.&lt;NAME&gt;[&lt;KEY&gt;]
     </code>
    </a>
    or
    <code>
     module.&lt;NAME&gt;[&lt;KEY&gt;]
    </code>
    (for example,
    <code>
     azurerm_resource_group.rg["a_group"]
    </code>
    ,
    <code>
     azurerm_resource_group.rg["another_group"]
    </code>
    , etc.) refers to individual instances.
   </li>
  </ul>
  <p>
   This is different from resources and modules without
   <code>
    count
   </code>
   or
   <code>
    for_each
   </code>
   , which can be
 referenced without an index or key.
  </p>
  <p>
   Similarly, resources from child modules with multiple instances are prefixed
 with
   <code>
    module.&lt;NAME&gt;[&lt;KEY&gt;]
   </code>
   when displayed in plan output and elsewhere in the UI.
 For a module without
   <code>
    count
   </code>
   or
   <code>
    for_each
   </code>
   , the address will not contain
 the module index as the module's name suffices to reference the module.
  </p>
  <div class="alert alert-info" role="alert">
   <p>
    <strong>
     Note:
    </strong>
    Within nested
    <code>
     provisioner
    </code>
    or
    <code>
     connection
    </code>
    blocks, the special
    <code>
     self
    </code>
    object refers to the current
    <em>
     resource instance,
    </em>
    not the resource block
 as a whole.
   </p>
  </div>
  <h2 id="using-sets">
   <a class="anchor" href="#using-sets" name="using-sets">
    »
   </a>
   Using Sets
  </h2>
  <p>
   The Terraform language doesn't have a literal syntax for
   <a href="/docs/language/expressions/type-constraints.html#collection-types">
    set values
   </a>
   , but you can use the
   <code>
    toset
   </code>
   function to explicitly convert a list of strings to a set:
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">locals</span> <span class="p">{</span>
   <span class="n">subnet_ids</span> <span class="o">=</span> <span class="n">toset</span><span class="p">([</span>
     <span class="s2">"subnet-abcdef"</span><span class="p">,</span>
     <span class="s2">"subnet-012345"</span><span class="p">,</span>
   <span class="p">])</span>
 <span class="p">}</span>
 
 <span class="n">resource</span> <span class="s2">"aws_instance"</span> <span class="s2">"server"</span> <span class="p">{</span>
   <span class="n">for_each</span> <span class="o">=</span> <span class="n">local</span><span class="p">.</span><span class="nf">subnet_ids</span>
 
   <span class="n">ami</span>           <span class="o">=</span> <span class="s2">"ami-a1b2c3d4"</span>
   <span class="n">instance_type</span> <span class="o">=</span> <span class="s2">"t2.micro"</span>
   <span class="n">subnet_id</span>     <span class="o">=</span> <span class="n">each</span><span class="p">.</span><span class="nf">key</span> <span class="c1"># note: each.key and each.value are the same for a set</span>
 
   <span class="n">tags</span> <span class="o">=</span> <span class="p">{</span>
     <span class="no">Name</span> <span class="o">=</span> <span class="s2">"Server ${each.key}"</span>
   <span class="p">}</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <p>
   Conversion from list to set discards the ordering of the items in the list and
 removes any duplicate elements.
   <code>
    toset(["b", "a", "b"])
   </code>
   will produce a set
 containing only
   <code>
    "a"
   </code>
   and
   <code>
    "b"
   </code>
   in no particular order; the second
   <code>
    "b"
   </code>
   is
 discarded.
  </p>
  <p>
   If you are writing a module with an
   <a href="/docs/language/values/variables.html">
    input variable
   </a>
   that
 will be used as a set of strings for
   <code>
    for_each
   </code>
   , you can set its type to
   <code>
    set(string)
   </code>
   to avoid the need for an explicit type conversion:
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">variable</span> <span class="s2">"subnet_ids"</span> <span class="p">{</span>
   <span class="n">type</span> <span class="o">=</span> <span class="n">set</span><span class="p">(</span><span class="n">string</span><span class="p">)</span>
 <span class="p">}</span>
 
 <span class="n">resource</span> <span class="s2">"aws_instance"</span> <span class="s2">"server"</span> <span class="p">{</span>
   <span class="n">for_each</span> <span class="o">=</span> <span class="n">var</span><span class="p">.</span><span class="nf">subnet_ids</span>
 
   <span class="c1"># (and the other arguments as above)</span>
 <span class="p">}</span>
 </code></pre>
  </div>
 </div>
 
 <!-- ########### Meta-Arguments : lifecycle ############### -->
 <!-- ########### https://www.terraform.io/docs/language/meta-arguments/resource-provider.html ############### --
 ><!-- ########### Meta-Arguments : lifecycle ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="the-resource-provider-meta-argument">
    <a class="anchor" href="#the-resource-provider-meta-argument" name="the-resource-provider-meta-argument">
     »
    </a>
    The Resource
    <code>
     provider
    </code>
    Meta-Argument
   </h1>
  </div>
  <p>
   The
   <code>
    provider
   </code>
   meta-argument specifies which provider configuration to use for a resource,
 overriding Terraform's default behavior of selecting one based on the resource
 type name. Its value should be an unquoted
   <code>
    &lt;PROVIDER&gt;.&lt;ALIAS&gt;
   </code>
   reference.
  </p>
  <p>
   As described in
   <a href="/docs/language/providers/configuration.html">
    Provider Configuration
   </a>
   , you can optionally
 create multiple configurations for a single provider (usually to manage
 resources in different regions of multi-region services). Each provider can have
 one default configuration, and any number of alternate configurations that
 include an extra name segment (or "alias").
  </p>
  <p>
   By default, Terraform interprets the initial word in the resource type name
 (separated by underscores) as the local name of a provider, and uses that
 provider's default configuration. For example, the resource type
   <code>
    google_compute_instance
   </code>
   is associated automatically with the default
 configuration for the provider named
   <code>
    google
   </code>
   .
  </p>
  <p>
   By using the
   <code>
    provider
   </code>
   meta-argument, you can select an alternate provider
 configuration for a resource:
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="c1"># default configuration</span>
 <span class="n">provider</span> <span class="s2">"google"</span> <span class="p">{</span>
   <span class="n">region</span> <span class="o">=</span> <span class="s2">"us-central1"</span>
 <span class="p">}</span>
 
 <span class="c1"># alternate configuration, whose alias is "europe"</span>
 <span class="n">provider</span> <span class="s2">"google"</span> <span class="p">{</span>
   <span class="k">alias</span>  <span class="o">=</span> <span class="s2">"europe"</span>
   <span class="n">region</span> <span class="o">=</span> <span class="s2">"europe-west1"</span>
 <span class="p">}</span>
 
 <span class="n">resource</span> <span class="s2">"google_compute_instance"</span> <span class="s2">"example"</span> <span class="p">{</span>
   <span class="c1"># This "provider" meta-argument selects the google provider</span>
   <span class="c1"># configuration whose alias is "europe", rather than the</span>
   <span class="c1"># default configuration.</span>
   <span class="n">provider</span> <span class="o">=</span> <span class="n">google</span><span class="p">.</span><span class="nf">europe</span>
 
   <span class="c1"># ...</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <p>
   A resource always has an implicit dependency on its associated provider, to
 ensure that the provider is fully configured before any resource actions
 are taken.
  </p>
  <p>
   The
   <code>
    provider
   </code>
   meta-argument expects
   <a href="/docs/language/providers/configuration.html#referring-to-alternate-provider-configurations">
    a
    <code>
     &lt;PROVIDER&gt;.&lt;ALIAS&gt;
    </code>
    reference
   </a>
   ,
 which does not need to be quoted. Arbitrary expressions are not permitted for
   <code>
    provider
   </code>
   because it must be resolved while Terraform is constructing the
 dependency graph, before it is safe to evaluate expressions.
  </p>
 </div>
 
 <!-- ########### Provisioners : Overview ############### -->
 <!-- ########### https://www.terraform.io/docs/language/meta-arguments/lifecycle.html ############### --
 ><!-- ########### Provisioners : Overview ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="the-lifecycle-meta-argument">
    <a class="anchor" href="#the-lifecycle-meta-argument" name="the-lifecycle-meta-argument">
     »
    </a>
    The
    <code>
     lifecycle
    </code>
    Meta-Argument
   </h1>
  </div>
  <p>
   The general lifecycle for resources is described in the
   <a href="/docs/language/resources/behavior.html">
    Resource Behavior
   </a>
   page. Some details of
 that behavior can be customized using the special nested
   <code>
    lifecycle
   </code>
   block
 within a resource block body:
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">resource</span> <span class="s2">"azurerm_resource_group"</span> <span class="s2">"example"</span> <span class="p">{</span>
   <span class="c1"># ...</span>
 
   <span class="n">lifecycle</span> <span class="p">{</span>
     <span class="n">create_before_destroy</span> <span class="o">=</span> <span class="kp">true</span>
   <span class="p">}</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <h2 id="syntax-and-arguments">
   <a class="anchor" href="#syntax-and-arguments" name="syntax-and-arguments">
    »
   </a>
   Syntax and Arguments
  </h2>
  <p>
   <code>
    lifecycle
   </code>
   is a nested block that can appear within a resource block.
 The
   <code>
    lifecycle
   </code>
   block and its contents are meta-arguments, available
 for all
   <code>
    resource
   </code>
   blocks regardless of type.
  </p>
  <p>
   The following arguments can be used within a
   <code>
    lifecycle
   </code>
   block:
  </p>
  <ul>
   <li>
    <p>
     <a name="create_before_destroy">
     </a>
     <a href="#create_before_destroy">
      <code>
       create_before_destroy
      </code>
     </a>
     (bool) - By default, when Terraform must change
 a resource argument that cannot be updated in-place due to
 remote API limitations, Terraform will instead destroy the existing object
 and then create a new replacement object with the new configured arguments.
    </p>
    <p>
     The
     <code>
      create_before_destroy
     </code>
     meta-argument changes this behavior so that
 the new replacement object is created
     <em>
      first,
     </em>
     and the prior object
 is destroyed after the replacement is created.
    </p>
    <p>
     This is an opt-in behavior because many remote object types have unique
 name requirements or other constraints that must be accommodated for
 both a new and an old object to exist concurrently. Some resource types
 offer special options to append a random suffix onto each object name to
 avoid collisions, for example. Terraform CLI cannot automatically activate
 such features, so you must understand the constraints for each resource
 type before using
     <code>
      create_before_destroy
     </code>
     with it.
    </p>
   </li>
   <li>
    <p>
     <a name="prevent_destroy">
     </a>
     <a href="#prevent_destroy">
      <code>
       prevent_destroy
      </code>
     </a>
     (bool) - This meta-argument, when set to
     <code>
      true
     </code>
     , will
 cause Terraform to reject with an error any plan that would destroy the
 infrastructure object associated with the resource, as long as the argument
 remains present in the configuration.
    </p>
    <p>
     This can be used as a measure of safety against the accidental replacement
 of objects that may be costly to reproduce, such as database instances.
 However, it will make certain configuration changes impossible to apply,
 and will prevent the use of the
     <code>
      terraform destroy
     </code>
     command once such
 objects are created, and so this option should be used sparingly.
    </p>
    <p>
     Since this argument must be present in configuration for the protection to
 apply, note that this setting does not prevent the remote object from
 being destroyed if the
     <code>
      resource
     </code>
     block were removed from configuration
 entirely: in that case, the
     <code>
      prevent_destroy
     </code>
     setting is removed along
 with it, and so Terraform will allow the destroy operation to succeed.
    </p>
   </li>
   <li>
    <p>
     <a name="ignore_changes">
     </a>
     <a href="#ignore_changes">
      <code>
       ignore_changes
      </code>
     </a>
     (list of attribute names) - By default, Terraform detects
 any difference in the current settings of a real infrastructure object
 and plans to update the remote object to match configuration.
    </p>
    <p>
     The
     <code>
      ignore_changes
     </code>
     feature is intended to be used when a resource is
 created with references to data that may change in the future, but should
 not affect said resource after its creation. In some rare cases, settings
 of a remote object are modified by processes outside of Terraform, which
 Terraform would then attempt to "fix" on the next run. In order to make
 Terraform share management responsibilities of a single object with a
 separate process, the
     <code>
      ignore_changes
     </code>
     meta-argument specifies resource
 attributes that Terraform should ignore when planning updates to the
 associated remote object.
    </p>
    <p>
     The arguments corresponding to the given attribute names are considered
 when planning a
     <em>
      create
     </em>
     operation, but are ignored when planning an
     <em>
      update
     </em>
     . The arguments are the relative address of the attributes in the
 resource. Map and list elements can be referenced using index notation,
 like
     <code>
      tags["Name"]
     </code>
     and
     <code>
      list[0]
     </code>
     respectively.
    </p>
    <div class="highlight">
     <pre class="highlight hcl"><code><span class="n">resource</span> <span class="s2">"aws_instance"</span> <span class="s2">"example"</span> <span class="p">{</span>
   <span class="c1"># ...</span>
 
   <span class="n">lifecycle</span> <span class="p">{</span>
     <span class="n">ignore_changes</span> <span class="o">=</span> <span class="p">[</span>
       <span class="c1"># Ignore changes to tags, e.g. because a management agent</span>
       <span class="c1"># updates these based on some ruleset managed elsewhere.</span>
       <span class="n">tags</span><span class="p">,</span>
     <span class="p">]</span>
   <span class="p">}</span>
 <span class="p">}</span>
 </code></pre>
    </div>
    <p>
     Instead of a list, the special keyword
     <code>
      all
     </code>
     may be used to instruct
 Terraform to ignore
     <em>
      all
     </em>
     attributes, which means that Terraform can
 create and destroy the remote object but will never propose updates to it.
    </p>
    <p>
     Only attributes defined by the resource type can be ignored.
     <code>
      ignore_changes
     </code>
     cannot be applied to itself or to any other meta-arguments.
    </p>
   </li>
  </ul>
  <h2 id="literal-values-only">
   <a class="anchor" href="#literal-values-only" name="literal-values-only">
    »
   </a>
   Literal Values Only
  </h2>
  <p>
   The
   <code>
    lifecycle
   </code>
   settings all affect how Terraform constructs and traverses
 the dependency graph. As a result, only literal values can be used because
 the processing happens too early for arbitrary expression evaluation.
  </p>
 </div>
 
 <!-- ########### Provisioners : Declaring Provisioners ############### -->
 <!-- ########### https://www.terraform.io/docs/language/resources/provisioners/index.html ############### --
 ><!-- ########### Provisioners : Declaring Provisioners ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="provisioners">
    <a class="anchor" href="#provisioners" name="provisioners">
     »
    </a>
    Provisioners
   </h1>
  </div>
  <p>
   Provisioners can be used to model specific actions on the local machine or on a
 remote machine in order to prepare servers or other infrastructure objects for
 service.
  </p>
 </div>
 
 <!-- ########### Provisioners : Provisioner Connections ############### -->
 <!-- ########### https://www.terraform.io/docs/language/resources/provisioners/syntax.html ############### --
 ><!-- ########### Provisioners : Provisioner Connections ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="provisioners">
    <a class="anchor" href="#provisioners" name="provisioners">
     »
    </a>
    Provisioners
   </h1>
   <div id="inner-quicknav">
    <span id="inner-quicknav-trigger">
     Jump to Section
     <svg height="5" width="9" xmlns="http://www.w3.org/2000/svg">
      <path d="M8.811 1.067a.612.612 0 0 0 0-.884.655.655 0 0 0-.908 0L4.5 3.491 1.097.183a.655.655 0 0 0-.909 0 .615.615 0 0 0 0 .884l3.857 3.75a.655.655 0 0 0 .91 0l3.856-3.75z" fill-rule="evenodd">
      </path>
     </svg>
    </span>
    <ul class="dropdown">
     <li class="level-h2">
      <a href="#provisioners-are-a-last-resort">
       »
 Provisioners are a Last Resort
      </a>
     </li>
     <li class="level-h3">
      <a href="#passing-data-into-virtual-machines-and-other-compute-resources">
       »
 Passing data into virtual machines and other compute resources
      </a>
     </li>
     <li class="level-h3">
      <a href="#running-configuration-management-software">
       »
 Running configuration management software
      </a>
     </li>
     <li class="level-h3">
      <a href="#first-class-terraform-provider-functionality-may-be-available">
       »
 First-class Terraform provider functionality may be available
      </a>
     </li>
     <li class="level-h2">
      <a href="#how-to-use-provisioners">
       »
 How to use Provisioners
      </a>
     </li>
     <li class="level-h3">
      <a href="#the-self-object">
       »
 The self Object
      </a>
     </li>
     <li class="level-h2">
      <a href="#suppressing-provisioner-logs-in-cli-output">
       »
 Suppressing Provisioner Logs in CLI Output
      </a>
     </li>
     <li class="level-h2">
      <a href="#creation-time-provisioners">
       »
 Creation-Time Provisioners
      </a>
     </li>
     <li class="level-h2">
      <a href="#destroy-time-provisioners">
       »
 Destroy-Time Provisioners
      </a>
     </li>
     <li class="level-h2">
      <a href="#multiple-provisioners">
       »
 Multiple Provisioners
      </a>
     </li>
     <li class="level-h2">
      <a href="#failure-behavior">
       »
 Failure Behavior
      </a>
     </li>
    </ul>
   </div>
  </div>
  <p>
   Provisioners can be used to model specific actions on the local machine or on
 a remote machine in order to prepare servers or other infrastructure objects
 for service.
  </p>
  <h2 id="provisioners-are-a-last-resort">
   <a class="anchor" href="#provisioners-are-a-last-resort" name="provisioners-are-a-last-resort">
    »
   </a>
   Provisioners are a Last Resort
  </h2>
  <blockquote>
   <p>
    <strong>
     Hands-on:
    </strong>
    To learn about more declarative ways to handle provisioning actions, try the
    <a href="https://learn.hashicorp.com/collections/terraform/provision?utm_source=WEBSITE&amp;utm_medium=WEB_IO&amp;utm_offer=ARTICLE_PAGE&amp;utm_content=DOCS">
     Provision Infrastructure Deployed with Terraform
    </a>
    collection on HashiCorp Learn.
   </p>
  </blockquote>
  <p>
   Terraform includes the concept of provisioners as a measure of pragmatism,
 knowing that there will always be certain behaviors that can't be directly
 represented in Terraform's declarative model.
  </p>
  <p>
   However, they also add a considerable amount of complexity and uncertainty to
 Terraform usage. Firstly, Terraform cannot model the actions of provisioners
 as part of a plan because they can in principle take any action. Secondly,
 successful use of provisioners requires coordinating many more details than
 Terraform usage usually requires: direct network access to your servers,
 issuing Terraform credentials to log in, making sure that all of the necessary
 external software is installed, etc.
  </p>
  <p>
   The following sections describe some situations which can be solved with
 provisioners in principle, but where better solutions are also available. We do
 not recommend using provisioners for any of the use-cases described in the
 following sections.
  </p>
  <p>
   Even if your specific use-case is not described in the following sections, we
 still recommend attempting to solve it using other techniques first, and use
 provisioners only if there is no other option.
  </p>
  <h3 id="passing-data-into-virtual-machines-and-other-compute-resources">
   <a class="anchor" href="#passing-data-into-virtual-machines-and-other-compute-resources" name="passing-data-into-virtual-machines-and-other-compute-resources">
    »
   </a>
   Passing data into virtual machines and other compute resources
  </h3>
  <p>
   When deploying virtual machines or other similar compute resources, we often
 need to pass in data about other related infrastructure that the software on
 that server will need to do its job.
  </p>
  <p>
   The various provisioners that interact with remote servers over SSH or WinRM
 can potentially be used to pass such data by logging in to the server and
 providing it directly, but most cloud computing platforms provide mechanisms
 to pass data to instances at the time of their creation such that the data
 is immediately available on system boot. For example:
  </p>
  <ul>
   <li>
    Alibaba Cloud:
    <code>
     user_data
    </code>
    on
    <a href="https://registry.terraform.io/providers/aliyun/alicloud/latest/docs/resources/instance">
     <code>
      alicloud_instance
     </code>
    </a>
    or
    <a href="https://registry.terraform.io/providers/aliyun/alicloud/latest/docs/resources/launch_template">
     <code>
      alicloud_launch_template
     </code>
    </a>
    .
   </li>
   <li>
    Amazon EC2:
    <code>
     user_data
    </code>
    or
    <code>
     user_data_base64
    </code>
    on
    <a href="https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/instance">
     <code>
      aws_instance
     </code>
    </a>
    ,
    <a href="https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/launch_template">
     <code>
      aws_launch_template
     </code>
    </a>
    ,
 and
    <a href="https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/launch_configuration">
     <code>
      aws_launch_configuration
     </code>
    </a>
    .
   </li>
   <li>
    Amazon Lightsail:
    <code>
     user_data
    </code>
    on
    <a href="https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lightsail_instance">
     <code>
      aws_lightsail_instance
     </code>
    </a>
    .
   </li>
   <li>
    Microsoft Azure:
    <code>
     custom_data
    </code>
    on
    <a href="https://registry.terraform.io/providers/hashicorp/azurerm/latest/docs/resources/virtual_machine">
     <code>
      azurerm_virtual_machine
     </code>
    </a>
    or
    <a href="https://registry.terraform.io/providers/hashicorp/azurerm/latest/docs/resources/virtual_machine_scale_set">
     <code>
      azurerm_virtual_machine_scale_set
     </code>
    </a>
    .
   </li>
   <li>
    Google Cloud Platform:
    <code>
     metadata
    </code>
    on
    <a href="https://registry.terraform.io/providers/hashicorp/google/latest/docs/resources/compute_instance">
     <code>
      google_compute_instance
     </code>
    </a>
    or
    <a href="https://registry.terraform.io/providers/hashicorp/google/latest/docs/resources/compute_instance_group">
     <code>
      google_compute_instance_group
     </code>
    </a>
    .
   </li>
   <li>
    Oracle Cloud Infrastructure:
    <code>
     metadata
    </code>
    or
    <code>
     extended_metadata
    </code>
    on
    <a href="https://registry.terraform.io/providers/hashicorp/oci/latest/docs/resources/core_instance">
     <code>
      oci_core_instance
     </code>
    </a>
    or
    <a href="https://registry.terraform.io/providers/hashicorp/oci/latest/docs/resources/core_instance_configuration">
     <code>
      oci_core_instance_configuration
     </code>
    </a>
    .
   </li>
   <li>
    VMware vSphere: Attach a virtual CDROM to
    <a href="https://registry.terraform.io/providers/hashicorp/vsphere/latest/docs/resources/virtual_machine">
     <code>
      vsphere_virtual_machine
     </code>
    </a>
    using the
    <code>
     cdrom
    </code>
    block, containing a file called
    <code>
     user-data.txt
    </code>
    .
   </li>
  </ul>
  <p>
   Many official Linux distribution disk images include software called
   <a href="https://cloudinit.readthedocs.io/en/latest/">
    cloud-init
   </a>
   that can automatically
 process in various ways data passed via the means described above, allowing
 you to run arbitrary scripts and do basic system configuration immediately
 during the boot process and without the need to access the machine over SSH.
  </p>
  <blockquote>
   <p>
    <strong>
     Hands-on:
    </strong>
    Try the
    <a href="https://learn.hashicorp.com/tutorials/terraform/cloud-init?in=terraform/provision&amp;utm_source=WEBSITE&amp;utm_medium=WEB_IO&amp;utm_offer=ARTICLE_PAGE&amp;utm_content=DOCS">
     Provision Infrastructure with Cloud-Init
    </a>
    tutorial on HashiCorp Learn.
   </p>
  </blockquote>
  <p>
   If you are building custom machine images, you can make use of the "user data"
 or "metadata" passed by the above means in whatever way makes sense to your
 application, by referring to your vendor's documentation on how to access the
 data at runtime.
  </p>
  <p>
   This approach is
   <em>
    required
   </em>
   if you intend to use any mechanism in your cloud
 provider for automatically launching and destroying servers in a group,
 because in that case individual servers will launch unattended while Terraform
 is not around to provision them.
  </p>
  <p>
   Even if you're deploying individual servers directly with Terraform, passing
 data this way will allow faster boot times and simplify deployment by avoiding
 the need for direct network access from Terraform to the new server and for
 remote access credentials to be provided.
  </p>
  <h3 id="running-configuration-management-software">
   <a class="anchor" href="#running-configuration-management-software" name="running-configuration-management-software">
    »
   </a>
   Running configuration management software
  </h3>
  <p>
   As a convenience to users who are forced to use generic operating system
 distribution images, Terraform includes a number of specialized provisioners
 for launching specific configuration management products.
  </p>
  <p>
   We strongly recommend not using these, and instead running system configuration
 steps during a custom image build process. For example,
   <a href="https://packer.io/">
    HashiCorp Packer
   </a>
   offers a similar complement of
 configuration management provisioners and can run their installation steps
 during a separate build process, before creating a system disk image that you
 can deploy many times.
  </p>
  <blockquote>
   <p>
    <strong>
     Hands-on:
    </strong>
    Try the
    <a href="https://learn.hashicorp.com/tutorials/terraform/packer?in=terraform/provision&amp;utm_source=WEBSITE&amp;utm_medium=WEB_IO&amp;utm_offer=ARTICLE_PAGE&amp;utm_content=DOCS">
     Provision Infrastructure with Packer
    </a>
    tutorial on HashiCorp Learn.
   </p>
  </blockquote>
  <p>
   If you are using configuration management software that has a centralized server
 component, you will need to delay the
   <em>
    registration
   </em>
   step until the final
 system is booted from your custom image. To achieve that, use one of the
 mechanisms described above to pass the necessary information into each instance
 so that it can register itself with the configuration management server
 immediately on boot, without the need to accept commands from Terraform over
 SSH or WinRM.
  </p>
  <h3 id="first-class-terraform-provider-functionality-may-be-available">
   <a class="anchor" href="#first-class-terraform-provider-functionality-may-be-available" name="first-class-terraform-provider-functionality-may-be-available">
    »
   </a>
   First-class Terraform provider functionality may be available
  </h3>
  <p>
   It is technically possible to use the
   <code>
    local-exec
   </code>
   provisioner to run the CLI
 for your target system in order to create, update, or otherwise interact with
 remote objects in that system.
  </p>
  <p>
   If you are trying to use a new feature of the remote system that isn't yet
 supported in its Terraform provider, that might be the only option. However,
 if there
   <em>
    is
   </em>
   provider support for the feature you intend to use, prefer to
 use that provider functionality rather than a provisioner so that Terraform
 can be fully aware of the object and properly manage ongoing changes to it.
  </p>
  <p>
   Even if the functionality you need is not available in a provider today, we
 suggest to consider
   <code>
    local-exec
   </code>
   usage a temporary workaround and to also
 open an issue in the relevant provider's repository to discuss adding
 first-class provider support. Provider development teams often prioritize
 features based on interest, so opening an issue is a way to record your
 interest in the feature.
  </p>
  <p>
   Provisioners are used to execute scripts on a local or remote machine
 as part of resource creation or destruction. Provisioners can be used to
 bootstrap a resource, cleanup before destroy, run configuration management, etc.
  </p>
  <h2 id="how-to-use-provisioners">
   <a class="anchor" href="#how-to-use-provisioners" name="how-to-use-provisioners">
    »
   </a>
   How to use Provisioners
  </h2>
  <div class="alert alert-info" role="alert">
   <p>
    <strong>
     Note:
    </strong>
    Provisioners should only be used as a last resort. For most
 common situations there are better alternatives. For more information, see
 the sections above.
   </p>
  </div>
  <p>
   If you are certain that provisioners are the best way to solve your problem
 after considering the advice in the sections above, you can add a
   <code>
    provisioner
   </code>
   block inside the
   <code>
    resource
   </code>
   block of a compute instance.
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">resource</span> <span class="s2">"aws_instance"</span> <span class="s2">"web"</span> <span class="p">{</span>
   <span class="c1"># ...</span>
 
   <span class="n">provisioner</span> <span class="s2">"local-exec"</span> <span class="p">{</span>
     <span class="n">command</span> <span class="o">=</span> <span class="s2">"echo The server's IP address is ${self.private_ip}"</span>
   <span class="p">}</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <p>
   The
   <code>
    local-exec
   </code>
   provisioner requires no other configuration, but most other
 provisioners must connect to the remote system using SSH or WinRM.
 You must include
   <a href="/docs/language/resources/provisioners/connection.html">
    a
    <code>
     connection
    </code>
    block
   </a>
   so that Terraform
 will know how to communicate with the server.
  </p>
  <p>
   Terraform includes several built-in provisioners; use the navigation sidebar to
 view their documentation.
  </p>
  <p>
   It's also possible to use third-party provisioners as plugins, by placing them
 in
   <code>
    %APPDATA%\terraform.d\plugins
   </code>
   ,
   <code>
    ~/.terraform.d/plugins
   </code>
   , or the same
 directory where the Terraform binary is installed. However, we do not recommend
 using any provisioners except the built-in
   <code>
    file
   </code>
   ,
   <code>
    local-exec
   </code>
   , and
   <code>
    remote-exec
   </code>
   provisioners.
  </p>
  <p>
   All provisioners support the
   <code>
    when
   </code>
   and
   <code>
    on_failure
   </code>
   meta-arguments, which
 are described below (see
   <a href="#destroy-time-provisioners">
    Destroy-Time Provisioners
   </a>
   and
   <a href="#failure-behavior">
    Failure Behavior
   </a>
   ).
  </p>
  <h3 id="the-self-object">
   <a class="anchor" href="#the-self-object" name="the-self-object">
    »
   </a>
   The
   <code>
    self
   </code>
   Object
  </h3>
  <p>
   Expressions in
   <code>
    provisioner
   </code>
   blocks cannot refer to their parent resource by
 name. Instead, they can use the special
   <code>
    self
   </code>
   object.
  </p>
  <p>
   The
   <code>
    self
   </code>
   object represents the provisioner's parent resource, and has all of
 that resource's attributes. For example, use
   <code>
    self.public_ip
   </code>
   to reference an
   <code>
    aws_instance
   </code>
   's
   <code>
    public_ip
   </code>
   attribute.
  </p>
  <div class="alert alert-info" role="alert">
   <p>
    <strong>
     Technical note:
    </strong>
    Resource references are restricted here because
 references create dependencies. Referring to a resource by name within its own
 block would create a dependency cycle.
   </p>
  </div>
  <h2 id="suppressing-provisioner-logs-in-cli-output">
   <a class="anchor" href="#suppressing-provisioner-logs-in-cli-output" name="suppressing-provisioner-logs-in-cli-output">
    »
   </a>
   Suppressing Provisioner Logs in CLI Output
  </h2>
  <p>
   The configuration for a
   <code>
    provisioner
   </code>
   block may use sensitive values, such as
   <a href="/docs/language/values/variables.html#suppressing-values-in-cli-output">
    <code>
     sensitive
    </code>
    variables
   </a>
   or
   <a href="/docs/language/values/outputs.html#sensitive-suppressing-values-in-cli-output">
    <code>
     sensitive
    </code>
    output values
   </a>
   .
 In this case, all log output from the provisioner is automatically suppressed to
 prevent the sensitive values from being displayed.
  </p>
  <h2 id="creation-time-provisioners">
   <a class="anchor" href="#creation-time-provisioners" name="creation-time-provisioners">
    »
   </a>
   Creation-Time Provisioners
  </h2>
  <p>
   By default, provisioners run when the resource they are defined within is
 created. Creation-time provisioners are only run during
   <em>
    creation
   </em>
   , not
 during updating or any other lifecycle. They are meant as a means to perform
 bootstrapping of a system.
  </p>
  <p>
   If a creation-time provisioner fails, the resource is marked as
   <strong>
    tainted
   </strong>
   .
 A tainted resource will be planned for destruction and recreation upon the
 next
   <code>
    terraform apply
   </code>
   . Terraform does this because a failed provisioner
 can leave a resource in a semi-configured state. Because Terraform cannot
 reason about what the provisioner does, the only way to ensure proper creation
 of a resource is to recreate it. This is tainting.
  </p>
  <p>
   You can change this behavior by setting the
   <code>
    on_failure
   </code>
   attribute,
 which is covered in detail below.
  </p>
  <h2 id="destroy-time-provisioners">
   <a class="anchor" href="#destroy-time-provisioners" name="destroy-time-provisioners">
    »
   </a>
   Destroy-Time Provisioners
  </h2>
  <p>
   If
   <code>
    when = destroy
   </code>
   is specified, the provisioner will run when the
 resource it is defined within is
   <em>
    destroyed
   </em>
   .
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">resource</span> <span class="s2">"aws_instance"</span> <span class="s2">"web"</span> <span class="p">{</span>
   <span class="c1"># ...</span>
 
   <span class="n">provisioner</span> <span class="s2">"local-exec"</span> <span class="p">{</span>
     <span class="k">when</span>    <span class="o">=</span> <span class="n">destroy</span>
     <span class="n">command</span> <span class="o">=</span> <span class="s2">"echo 'Destroy-time provisioner'"</span>
   <span class="p">}</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <p>
   Destroy provisioners are run before the resource is destroyed. If they
 fail, Terraform will error and rerun the provisioners again on the next
   <code>
    terraform apply
   </code>
   . Due to this behavior, care should be taken for destroy
 provisioners to be safe to run multiple times.
  </p>
  <p>
   Destroy-time provisioners can only run if they remain in the configuration
 at the time a resource is destroyed. If a resource block with a destroy-time
 provisioner is removed entirely from the configuration, its provisioner
 configurations are removed along with it and thus the destroy provisioner
 won't run. To work around this, a multi-step process can be used to safely
 remove a resource with a destroy-time provisioner:
  </p>
  <ul>
   <li>
    Update the resource configuration to include
    <code>
     count = 0
    </code>
    .
   </li>
   <li>
    Apply the configuration to destroy any existing instances of the resource, including running the destroy provisioner.
   </li>
   <li>
    Remove the resource block entirely from configuration, along with its
    <code>
     provisioner
    </code>
    blocks.
   </li>
   <li>
    Apply again, at which point no further action should be taken since the resources were already destroyed.
   </li>
  </ul>
  <p>
   This limitation may be addressed in future versions of Terraform. For now,
 destroy-time provisioners must be used sparingly and with care.
  </p>
  <div class="alert alert-warning" role="alert">
   <p>
    <strong>
     NOTE:
    </strong>
    A destroy-time provisioner within a resource that is tainted
    <em>
     will not
    </em>
    run. This includes resources that are marked tainted from a failed creation-time provisioner or tainted manually using
    <code>
     terraform taint
    </code>
    .
   </p>
  </div>
  <h2 id="multiple-provisioners">
   <a class="anchor" href="#multiple-provisioners" name="multiple-provisioners">
    »
   </a>
   Multiple Provisioners
  </h2>
  <p>
   Multiple provisioners can be specified within a resource. Multiple provisioners
 are executed in the order they're defined in the configuration file.
  </p>
  <p>
   You may also mix and match creation and destruction provisioners. Only
 the provisioners that are valid for a given operation will be run. Those
 valid provisioners will be run in the order they're defined in the configuration
 file.
  </p>
  <p>
   Example of multiple provisioners:
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">resource</span> <span class="s2">"aws_instance"</span> <span class="s2">"web"</span> <span class="p">{</span>
   <span class="c1"># ...</span>
 
   <span class="n">provisioner</span> <span class="s2">"local-exec"</span> <span class="p">{</span>
     <span class="n">command</span> <span class="o">=</span> <span class="s2">"echo first"</span>
   <span class="p">}</span>
 
   <span class="n">provisioner</span> <span class="s2">"local-exec"</span> <span class="p">{</span>
     <span class="n">command</span> <span class="o">=</span> <span class="s2">"echo second"</span>
   <span class="p">}</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <h2 id="failure-behavior">
   <a class="anchor" href="#failure-behavior" name="failure-behavior">
    »
   </a>
   Failure Behavior
  </h2>
  <p>
   By default, provisioners that fail will also cause the Terraform apply
 itself to fail. The
   <code>
    on_failure
   </code>
   setting can be used to change this. The
 allowed values are:
  </p>
  <ul>
   <li>
    <p>
     <a name="continue">
     </a>
     <a href="#continue">
      <code>
       continue
      </code>
     </a>
     - Ignore the error and continue with creation or destruction.
    </p>
   </li>
   <li>
    <p>
     <a name="fail">
     </a>
     <a href="#fail">
      <code>
       fail
      </code>
     </a>
     - Raise an error and stop applying (the default behavior). If this is a creation provisioner,
 taint the resource.
    </p>
   </li>
  </ul>
  <p>
   Example:
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">resource</span> <span class="s2">"aws_instance"</span> <span class="s2">"web"</span> <span class="p">{</span>
   <span class="c1"># ...</span>
 
   <span class="n">provisioner</span> <span class="s2">"local-exec"</span> <span class="p">{</span>
     <span class="n">command</span>    <span class="o">=</span> <span class="s2">"echo The server's IP address is ${self.private_ip}"</span>
     <span class="n">on_failure</span> <span class="o">=</span> <span class="n">continue</span>
   <span class="p">}</span>
 <span class="p">}</span>
 </code></pre>
  </div>
 </div>
 
 <!-- ########### Provisioners : Provisioners Without a Resource ############### -->
 <!-- ########### https://www.terraform.io/docs/language/resources/provisioners/connection.html ############### --
 ><!-- ########### Provisioners : Provisioners Without a Resource ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="provisioner-connection-settings">
    <a class="anchor" href="#provisioner-connection-settings" name="provisioner-connection-settings">
     »
    </a>
    Provisioner Connection Settings
   </h1>
   <div id="inner-quicknav">
    <span id="inner-quicknav-trigger">
     Jump to Section
     <svg height="5" width="9" xmlns="http://www.w3.org/2000/svg">
      <path d="M8.811 1.067a.612.612 0 0 0 0-.884.655.655 0 0 0-.908 0L4.5 3.491 1.097.183a.655.655 0 0 0-.909 0 .615.615 0 0 0 0 .884l3.857 3.75a.655.655 0 0 0 .91 0l3.856-3.75z" fill-rule="evenodd">
      </path>
     </svg>
    </span>
    <ul class="dropdown">
     <li class="level-h2">
      <a href="#example-usage">
       »
 Example usage
      </a>
     </li>
     <li class="level-h2">
      <a href="#the-self-object">
       »
 The self Object
      </a>
     </li>
     <li class="level-h2">
      <a href="#argument-reference">
       »
 Argument Reference
      </a>
     </li>
     <li class="level-h2">
      <a href="#connecting-through-a-bastion-host-with-ssh">
       »
 Connecting through a Bastion Host with SSH
      </a>
     </li>
    </ul>
   </div>
  </div>
  <p>
   Most provisioners require access to the remote resource via SSH or WinRM, and
 expect a nested
   <code>
    connection
   </code>
   block with details about how to connect.
  </p>
  <div class="alert alert-info" role="alert">
   <p>
    <strong>
     Note:
    </strong>
    Provisioners should only be used as a last resort. For most
 common situations there are better alternatives. For more information, see
    <a href="./">
     the main Provisioners page
    </a>
    .
   </p>
  </div>
  <div class="alert alert-info" role="alert">
   <p>
    <strong>
     Note:
    </strong>
    In Terraform 0.11 and earlier, providers could set default values
 for some connection settings, so that
    <code>
     connection
    </code>
    blocks could sometimes be
 omitted. This feature was removed in 0.12 in order to make Terraform's behavior
 more predictable.
   </p>
  </div>
  <div class="alert alert-info" role="alert">
   <p>
    <strong>
     Note:
    </strong>
    Since the SSH connection type is most often used with
 newly-created remote resources, validation of SSH host keys is disabled by
 default. In scenarios where this is not acceptable, a separate mechanism for
 key distribution could be established and the
    <code>
     host_key
    </code>
    directive documented
 below explicitly set to verify against a specific key or signing CA.
   </p>
  </div>
  <p>
   Connection blocks don't take a block label, and can be nested within either a
   <code>
    resource
   </code>
   or a
   <code>
    provisioner
   </code>
   .
  </p>
  <ul>
   <li>
    A
    <code>
     connection
    </code>
    block nested directly within a
    <code>
     resource
    </code>
    affects all of
 that resource's provisioners.
   </li>
   <li>
    A
    <code>
     connection
    </code>
    block nested in a
    <code>
     provisioner
    </code>
    block only affects that
 provisioner, and overrides any resource-level connection settings.
   </li>
  </ul>
  <p>
   One use case for providing multiple connections is to have an initial
 provisioner connect as the
   <code>
    root
   </code>
   user to set up user accounts, and have
 subsequent provisioners connect as a user with more limited permissions.
  </p>
  <h2 id="example-usage">
   <a class="anchor" href="#example-usage" name="example-usage">
    »
   </a>
   Example usage
  </h2>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="c1"># Copies the file as the root user using SSH</span>
 <span class="n">provisioner</span> <span class="s2">"file"</span> <span class="p">{</span>
   <span class="n">source</span>      <span class="o">=</span> <span class="s2">"conf/myapp.conf"</span>
   <span class="n">destination</span> <span class="o">=</span> <span class="s2">"/etc/myapp.conf"</span>
 
   <span class="n">connection</span> <span class="p">{</span>
     <span class="n">type</span>     <span class="o">=</span> <span class="s2">"ssh"</span>
     <span class="n">user</span>     <span class="o">=</span> <span class="s2">"root"</span>
     <span class="n">password</span> <span class="o">=</span> <span class="s2">"${var.root_password}"</span>
     <span class="n">host</span>     <span class="o">=</span> <span class="s2">"${var.host}"</span>
   <span class="p">}</span>
 <span class="p">}</span>
 
 <span class="c1"># Copies the file as the Administrator user using WinRM</span>
 <span class="n">provisioner</span> <span class="s2">"file"</span> <span class="p">{</span>
   <span class="n">source</span>      <span class="o">=</span> <span class="s2">"conf/myapp.conf"</span>
   <span class="n">destination</span> <span class="o">=</span> <span class="s2">"C:/App/myapp.conf"</span>
 
   <span class="n">connection</span> <span class="p">{</span>
     <span class="n">type</span>     <span class="o">=</span> <span class="s2">"winrm"</span>
     <span class="n">user</span>     <span class="o">=</span> <span class="s2">"Administrator"</span>
     <span class="n">password</span> <span class="o">=</span> <span class="s2">"${var.admin_password}"</span>
     <span class="n">host</span>     <span class="o">=</span> <span class="s2">"${var.host}"</span>
   <span class="p">}</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <h2 id="the-self-object">
   <a class="anchor" href="#the-self-object" name="the-self-object">
    »
   </a>
   The
   <code>
    self
   </code>
   Object
  </h2>
  <p>
   Expressions in
   <code>
    connection
   </code>
   blocks cannot refer to their parent resource by
 name. Instead, they can use the special
   <code>
    self
   </code>
   object.
  </p>
  <p>
   The
   <code>
    self
   </code>
   object represents the connection's parent resource, and has all of
 that resource's attributes. For example, use
   <code>
    self.public_ip
   </code>
   to reference an
   <code>
    aws_instance
   </code>
   's
   <code>
    public_ip
   </code>
   attribute.
  </p>
  <div class="alert alert-info" role="alert">
   <p>
    <strong>
     Technical note:
    </strong>
    Resource references are restricted here because
 references create dependencies. Referring to a resource by name within its own
 block would create a dependency cycle.
   </p>
  </div>
  <h2 id="argument-reference">
   <a class="anchor" href="#argument-reference" name="argument-reference">
    »
   </a>
   Argument Reference
  </h2>
  <p>
   <strong>
    The following arguments are supported by all connection types:
   </strong>
  </p>
  <ul>
   <li>
    <p>
     <a name="type">
     </a>
     <a href="#type">
      <code>
       type
      </code>
     </a>
     - The connection type that should be used. Valid types are
     <code>
      ssh
     </code>
     and
     <code>
      winrm
     </code>
     .
        Defaults to
     <code>
      ssh
     </code>
     .
    </p>
   </li>
   <li>
    <p>
     <a name="user">
     </a>
     <a href="#user">
      <code>
       user
      </code>
     </a>
     - The user that we should use for the connection.
        Defaults to
     <code>
      root
     </code>
     when using type
     <code>
      ssh
     </code>
     and defaults to
     <code>
      Administrator
     </code>
     when using type
     <code>
      winrm
     </code>
     .
    </p>
   </li>
   <li>
    <p>
     <a name="password">
     </a>
     <a href="#password">
      <code>
       password
      </code>
     </a>
     - The password we should use for the connection. In some cases this is
 specified by the provider.
    </p>
   </li>
   <li>
    <p>
     <a name="host">
     </a>
     <a href="#host">
      <code>
       host
      </code>
     </a>
     - (Required) The address of the resource to connect to.
    </p>
   </li>
   <li>
    <p>
     <a name="port">
     </a>
     <a href="#port">
      <code>
       port
      </code>
     </a>
     - The port to connect to.
        Defaults to
     <code>
      22
     </code>
     when using type
     <code>
      ssh
     </code>
     and defaults to
     <code>
      5985
     </code>
     when using type
     <code>
      winrm
     </code>
     .
    </p>
   </li>
   <li>
    <p>
     <a name="timeout">
     </a>
     <a href="#timeout">
      <code>
       timeout
      </code>
     </a>
     - The timeout to wait for the connection to become available. Should be provided as a string like
     <code>
      30s
     </code>
     or
     <code>
      5m
     </code>
     .
           Defaults to 5 minutes.
    </p>
   </li>
   <li>
    <p>
     <a name="script_path">
     </a>
     <a href="#script_path">
      <code>
       script_path
      </code>
     </a>
     - The path used to copy scripts meant for remote execution.
    </p>
   </li>
  </ul>
  <p>
   <strong>
    Additional arguments only supported by the
    <code>
     ssh
    </code>
    connection type:
   </strong>
  </p>
  <ul>
   <li>
    <p>
     <a name="private_key">
     </a>
     <a href="#private_key">
      <code>
       private_key
      </code>
     </a>
     - The contents of an SSH key to use for the connection. These can
 be loaded from a file on disk using
     <a href="/docs/language/functions/file.html">
      the
      <code>
       file
      </code>
      function
     </a>
     . This takes
 preference over the password if provided.
    </p>
   </li>
   <li>
    <p>
     <a name="certificate">
     </a>
     <a href="#certificate">
      <code>
       certificate
      </code>
     </a>
     - The contents of a signed CA Certificate. The certificate argument must be
 used in conjunction with a
     <code>
      private_key
     </code>
     . These can
 be loaded from a file on disk using the
     <a href="/docs/language/functions/file.html">
      the
      <code>
       file
      </code>
      function
     </a>
     .
    </p>
   </li>
   <li>
    <p>
     <a name="agent">
     </a>
     <a href="#agent">
      <code>
       agent
      </code>
     </a>
     - Set to
     <code>
      false
     </code>
     to disable using
     <code>
      ssh-agent
     </code>
     to authenticate. On Windows the
 only supported SSH authentication agent is
     <a href="http://the.earth.li/~sgtatham/putty/0.66/htmldoc/Chapter9.html#pageant">
      Pageant
     </a>
     .
    </p>
   </li>
   <li>
    <p>
     <a name="agent_identity">
     </a>
     <a href="#agent_identity">
      <code>
       agent_identity
      </code>
     </a>
     - The preferred identity from the ssh agent for authentication.
    </p>
   </li>
   <li>
    <p>
     <a name="host_key">
     </a>
     <a href="#host_key">
      <code>
       host_key
      </code>
     </a>
     - The public key from the remote host or the signing CA, used to
 verify the connection.
    </p>
   </li>
   <li>
    <p>
     <a name="target_platform">
     </a>
     <a href="#target_platform">
      <code>
       target_platform
      </code>
     </a>
     - The target platform to connect to. Valid values are
     <code>
      windows
     </code>
     and
     <code>
      unix
     </code>
     . Defaults to
     <code>
      unix
     </code>
     if not set.
    </p>
    <p>
     If the platform is set to
     <code>
      windows
     </code>
     , the default
     <code>
      script_path
     </code>
     is
     <code>
      c:\windows\temp\terraform_%RAND%.cmd
     </code>
     , assuming
     <a href="https://docs.microsoft.com/en-us/windows-server/administration/openssh/openssh_server_configuration#configuring-the-default-shell-for-openssh-in-windows">
      the SSH default shell
     </a>
     is
     <code>
      cmd.exe
     </code>
     . If the SSH default shell is PowerShell, set
     <code>
      script_path
     </code>
     to
     <code>
      "c:/windows/temp/terraform_%RAND%.ps1"
     </code>
     .
    </p>
   </li>
  </ul>
  <p>
   <strong>
    Additional arguments only supported by the
    <code>
     winrm
    </code>
    connection type:
   </strong>
  </p>
  <ul>
   <li>
    <p>
     <a name="https">
     </a>
     <a href="#https">
      <code>
       https
      </code>
     </a>
     - Set to
     <code>
      true
     </code>
     to connect using HTTPS instead of HTTP.
    </p>
   </li>
   <li>
    <p>
     <a name="insecure">
     </a>
     <a href="#insecure">
      <code>
       insecure
      </code>
     </a>
     - Set to
     <code>
      true
     </code>
     to not validate the HTTPS certificate chain.
    </p>
   </li>
   <li>
    <p>
     <a name="use_ntlm">
     </a>
     <a href="#use_ntlm">
      <code>
       use_ntlm
      </code>
     </a>
     - Set to
     <code>
      true
     </code>
     to use NTLM authentication, rather than default (basic authentication), removing the requirement for basic authentication to be enabled within the target guest. Further reading for remote connection authentication can be found
     <a href="https://msdn.microsoft.com/en-us/library/aa384295(v=vs.85).aspx">
      here
     </a>
     .
    </p>
   </li>
   <li>
    <p>
     <a name="cacert">
     </a>
     <a href="#cacert">
      <code>
       cacert
      </code>
     </a>
     - The CA certificate to validate against.
    </p>
   </li>
  </ul>
  <p>
   <a id="bastion">
   </a>
  </p>
  <h2 id="connecting-through-a-bastion-host-with-ssh">
   <a class="anchor" href="#connecting-through-a-bastion-host-with-ssh" name="connecting-through-a-bastion-host-with-ssh">
    »
   </a>
   Connecting through a Bastion Host with SSH
  </h2>
  <p>
   The
   <code>
    ssh
   </code>
   connection also supports the following fields to facilitate connnections via a
   <a href="https://en.wikipedia.org/wiki/Bastion_host">
    bastion host
   </a>
   .
  </p>
  <ul>
   <li>
    <p>
     <a name="bastion_host">
     </a>
     <a href="#bastion_host">
      <code>
       bastion_host
      </code>
     </a>
     - Setting this enables the bastion Host connection. This host
 will be connected to first, and then the
     <code>
      host
     </code>
     connection will be made from there.
    </p>
   </li>
   <li>
    <p>
     <a name="bastion_host_key">
     </a>
     <a href="#bastion_host_key">
      <code>
       bastion_host_key
      </code>
     </a>
     - The public key from the remote host or the signing CA,
 used to verify the host connection.
    </p>
   </li>
   <li>
    <p>
     <a name="bastion_port">
     </a>
     <a href="#bastion_port">
      <code>
       bastion_port
      </code>
     </a>
     - The port to use connect to the bastion host. Defaults to the
 value of the
     <code>
      port
     </code>
     field.
    </p>
   </li>
   <li>
    <p>
     <a name="bastion_user">
     </a>
     <a href="#bastion_user">
      <code>
       bastion_user
      </code>
     </a>
     - The user for the connection to the bastion host. Defaults to
 the value of the
     <code>
      user
     </code>
     field.
    </p>
   </li>
   <li>
    <p>
     <a name="bastion_password">
     </a>
     <a href="#bastion_password">
      <code>
       bastion_password
      </code>
     </a>
     - The password we should use for the bastion host.
 Defaults to the value of the
     <code>
      password
     </code>
     field.
    </p>
   </li>
   <li>
    <p>
     <a name="bastion_private_key">
     </a>
     <a href="#bastion_private_key">
      <code>
       bastion_private_key
      </code>
     </a>
     - The contents of an SSH key file to use for the bastion
 host. These can be loaded from a file on disk using
     <a href="/docs/language/functions/file.html">
      the
      <code>
       file
      </code>
      function
     </a>
     .
 Defaults to the value of the
     <code>
      private_key
     </code>
     field.
    </p>
   </li>
   <li>
    <p>
     <a name="bastion_certificate">
     </a>
     <a href="#bastion_certificate">
      <code>
       bastion_certificate
      </code>
     </a>
     - The contents of a signed CA Certificate. The certificate argument
 must be used in conjunction with a
     <code>
      bastion_private_key
     </code>
     . These can be loaded from
 a file on disk using the
     <a href="/docs/language/functions/file.html">
      the
      <code>
       file
      </code>
      function
     </a>
     .
    </p>
   </li>
  </ul>
 </div>
 
 <!-- ########### Generic Provisioners : file ############### -->
 <!-- ########### https://www.terraform.io/docs/language/resources/provisioners/null_resource.html ############### --
 ><!-- ########### Generic Provisioners : file ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="provisioners-without-a-resource">
    <a class="anchor" href="#provisioners-without-a-resource" name="provisioners-without-a-resource">
     »
    </a>
    Provisioners Without a Resource
   </h1>
  </div>
  <p>
   If you need to run provisioners that aren't directly associated with a specific
 resource, you can associate them with a
   <code>
    null_resource
   </code>
   .
  </p>
  <p>
   Instances of
   <a href="https://registry.terraform.io/providers/hashicorp/null/latest/docs/resources/resource">
    <code>
     null_resource
    </code>
   </a>
   are treated like normal resources, but they
 don't do anything. Like with any other resource, you can configure
   <a href="/docs/language/resources/provisioners/syntax.html">
    provisioners
   </a>
   and
   <a href="/docs/language/resources/provisioners/connection.html">
    connection
 details
   </a>
   on a
   <code>
    null_resource
   </code>
   . You can also
 use its
   <code>
    triggers
   </code>
   argument and any meta-arguments to control exactly where in
 the dependency graph its provisioners will run.
  </p>
  <h2 id="example-usage">
   <a class="anchor" href="#example-usage" name="example-usage">
    »
   </a>
   Example usage
  </h2>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">resource</span> <span class="s2">"aws_instance"</span> <span class="s2">"cluster"</span> <span class="p">{</span>
   <span class="n">count</span> <span class="o">=</span> <span class="mi">3</span>
 
   <span class="c1"># ...</span>
 <span class="p">}</span>
 
 <span class="n">resource</span> <span class="s2">"null_resource"</span> <span class="s2">"cluster"</span> <span class="p">{</span>
   <span class="c1"># Changes to any instance of the cluster requires re-provisioning</span>
   <span class="n">triggers</span> <span class="o">=</span> <span class="p">{</span>
     <span class="n">cluster_instance_ids</span> <span class="o">=</span> <span class="s2">"${join("</span><span class="p">,</span><span class="s2">", aws_instance.cluster.*.id)}"</span>
   <span class="p">}</span>
 
   <span class="c1"># Bootstrap script can run on any instance of the cluster</span>
   <span class="c1"># So we just choose the first in this case</span>
   <span class="n">connection</span> <span class="p">{</span>
     <span class="n">host</span> <span class="o">=</span> <span class="s2">"${element(aws_instance.cluster.*.public_ip, 0)}"</span>
   <span class="p">}</span>
 
   <span class="n">provisioner</span> <span class="s2">"remote-exec"</span> <span class="p">{</span>
     <span class="c1"># Bootstrap script called with private_ip of each node in the cluster</span>
     <span class="n">inline</span> <span class="o">=</span> <span class="p">[</span>
       <span class="s2">"bootstrap-cluster.sh ${join("</span> <span class="s2">", aws_instance.cluster.*.private_ip)}"</span><span class="p">,</span>
     <span class="p">]</span>
   <span class="p">}</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <h2 id="argument-reference">
   <a class="anchor" href="#argument-reference" name="argument-reference">
    »
   </a>
   Argument Reference
  </h2>
  <p>
   In addition to meta-arguments supported by all resources,
   <code>
    null_resource
   </code>
   supports the following specific arguments:
  </p>
  <ul>
   <li>
    <a name="triggers">
    </a>
    <a href="#triggers">
     <code>
      triggers
     </code>
    </a>
    - A map of values which should cause this set of provisioners to
 re-run. Values are meant to be interpolated references to variables or
 attributes of other resources.
   </li>
  </ul>
 </div>
 
 <!-- ########### Generic Provisioners : local-exec ############### -->
 <!-- ########### https://www.terraform.io/docs/language/resources/provisioners/file.html ############### --
 ><!-- ########### Generic Provisioners : local-exec ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="file-provisioner">
    <a class="anchor" href="#file-provisioner" name="file-provisioner">
     »
    </a>
    File Provisioner
   </h1>
   <div id="inner-quicknav">
    <span id="inner-quicknav-trigger">
     Jump to Section
     <svg height="5" width="9" xmlns="http://www.w3.org/2000/svg">
      <path d="M8.811 1.067a.612.612 0 0 0 0-.884.655.655 0 0 0-.908 0L4.5 3.491 1.097.183a.655.655 0 0 0-.909 0 .615.615 0 0 0 0 .884l3.857 3.75a.655.655 0 0 0 .91 0l3.856-3.75z" fill-rule="evenodd">
      </path>
     </svg>
    </span>
    <ul class="dropdown">
     <li class="level-h2">
      <a href="#example-usage">
       »
 Example usage
      </a>
     </li>
     <li class="level-h2">
      <a href="#argument-reference">
       »
 Argument Reference
      </a>
     </li>
     <li class="level-h2">
      <a href="#directory-uploads">
       »
 Directory Uploads
      </a>
     </li>
    </ul>
   </div>
  </div>
  <p>
   The
   <code>
    file
   </code>
   provisioner is used to copy files or directories from the machine
 executing Terraform to the newly created resource. The
   <code>
    file
   </code>
   provisioner
 supports both
   <code>
    ssh
   </code>
   and
   <code>
    winrm
   </code>
   type
   <a href="/docs/language/resources/provisioners/connection.html">
    connections
   </a>
   .
  </p>
  <div class="alert alert-info" role="alert">
   <p>
    <strong>
     Note:
    </strong>
    Provisioners should only be used as a last resort. For most
 common situations there are better alternatives. For more information, see
    <a href="./">
     the main Provisioners page
    </a>
    .
   </p>
  </div>
  <h2 id="example-usage">
   <a class="anchor" href="#example-usage" name="example-usage">
    »
   </a>
   Example usage
  </h2>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">resource</span> <span class="s2">"aws_instance"</span> <span class="s2">"web"</span> <span class="p">{</span>
   <span class="c1"># ...</span>
 
   <span class="c1"># Copies the myapp.conf file to /etc/myapp.conf</span>
   <span class="n">provisioner</span> <span class="s2">"file"</span> <span class="p">{</span>
     <span class="n">source</span>      <span class="o">=</span> <span class="s2">"conf/myapp.conf"</span>
     <span class="n">destination</span> <span class="o">=</span> <span class="s2">"/etc/myapp.conf"</span>
   <span class="p">}</span>
 
   <span class="c1"># Copies the string in content into /tmp/file.log</span>
   <span class="n">provisioner</span> <span class="s2">"file"</span> <span class="p">{</span>
     <span class="n">content</span>     <span class="o">=</span> <span class="s2">"ami used: ${self.ami}"</span>
     <span class="n">destination</span> <span class="o">=</span> <span class="s2">"/tmp/file.log"</span>
   <span class="p">}</span>
 
   <span class="c1"># Copies the configs.d folder to /etc/configs.d</span>
   <span class="n">provisioner</span> <span class="s2">"file"</span> <span class="p">{</span>
     <span class="n">source</span>      <span class="o">=</span> <span class="s2">"conf/configs.d"</span>
     <span class="n">destination</span> <span class="o">=</span> <span class="s2">"/etc"</span>
   <span class="p">}</span>
 
   <span class="c1"># Copies all files and folders in apps/app1 to D:/IIS/webapp1</span>
   <span class="n">provisioner</span> <span class="s2">"file"</span> <span class="p">{</span>
     <span class="n">source</span>      <span class="o">=</span> <span class="s2">"apps/app1/"</span>
     <span class="n">destination</span> <span class="o">=</span> <span class="s2">"D:/IIS/webapp1"</span>
   <span class="p">}</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <h2 id="argument-reference">
   <a class="anchor" href="#argument-reference" name="argument-reference">
    »
   </a>
   Argument Reference
  </h2>
  <p>
   The following arguments are supported:
  </p>
  <ul>
   <li>
    <p>
     <a name="source">
     </a>
     <a href="#source">
      <code>
       source
      </code>
     </a>
     - This is the source file or folder. It can be specified as
 relative to the current working directory or as an absolute path. This
 attribute cannot be specified with
     <code>
      content
     </code>
     .
    </p>
   </li>
   <li>
    <p>
     <a name="content">
     </a>
     <a href="#content">
      <code>
       content
      </code>
     </a>
     - This is the content to copy on the destination. If destination is a file,
 the content will be written on that file, in case of a directory a file named
     <code>
      tf-file-content
     </code>
     is created. It's recommended to use a file as the destination. A
     <a href="https://registry.terraform.io/providers/hashicorp/template/latest/docs/data-sources/file">
      <code>
       template_file
      </code>
     </a>
     might be referenced in here, or
 any interpolation syntax. This attribute cannot be specified with
     <code>
      source
     </code>
     .
    </p>
   </li>
   <li>
    <p>
     <a name="destination">
     </a>
     <a href="#destination">
      <code>
       destination
      </code>
     </a>
     - (Required) This is the destination path. It must be specified as an
 absolute path.
    </p>
   </li>
  </ul>
  <h2 id="directory-uploads">
   <a class="anchor" href="#directory-uploads" name="directory-uploads">
    »
   </a>
   Directory Uploads
  </h2>
  <p>
   The file provisioner is also able to upload a complete directory to the remote machine.
 When uploading a directory, there are a few important things you should know.
  </p>
  <p>
   First, when using the
   <code>
    ssh
   </code>
   connection type the destination directory must already exist.
 If you need to create it, use a remote-exec provisioner just prior to the file provisioner
 in order to create the directory. When using the
   <code>
    winrm
   </code>
   connection type the destination
 directory will be created for you if it doesn't already exist.
  </p>
  <p>
   Next, the existence of a trailing slash on the source path will determine whether the
 directory name will be embedded within the destination, or whether the destination will
 be created. An example explains this best:
  </p>
  <p>
   If the source is
   <code>
    /foo
   </code>
   (no trailing slash), and the destination is
   <code>
    /tmp
   </code>
   , then the contents
 of
   <code>
    /foo
   </code>
   on the local machine will be uploaded to
   <code>
    /tmp/foo
   </code>
   on the remote machine. The
   <code>
    foo
   </code>
   directory on the remote machine will be created by Terraform.
  </p>
  <p>
   If the source, however, is
   <code>
    /foo/
   </code>
   (a trailing slash is present), and the destination is
   <code>
    /tmp
   </code>
   , then the contents of
   <code>
    /foo
   </code>
   will be uploaded directly into
   <code>
    /tmp
   </code>
   .
  </p>
  <p>
   This behavior was adopted from the standard behavior of
   <a href="https://linux.die.net/man/1/rsync">
    rsync
   </a>
   .
  </p>
  <div class="alert alert-info" role="alert">
   <p>
    <strong>
     Note:
    </strong>
    Under the covers, rsync may or may not be used.
   </p>
  </div>
 </div>
 
 <!-- ########### Generic Provisioners : remote-exec ############### -->
 <!-- ########### https://www.terraform.io/docs/language/resources/provisioners/local-exec.html ############### --
 ><!-- ########### Generic Provisioners : remote-exec ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="local-exec-provisioner">
    <a class="anchor" href="#local-exec-provisioner" name="local-exec-provisioner">
     »
    </a>
    local-exec Provisioner
   </h1>
   <div id="inner-quicknav">
    <span id="inner-quicknav-trigger">
     Jump to Section
     <svg height="5" width="9" xmlns="http://www.w3.org/2000/svg">
      <path d="M8.811 1.067a.612.612 0 0 0 0-.884.655.655 0 0 0-.908 0L4.5 3.491 1.097.183a.655.655 0 0 0-.909 0 .615.615 0 0 0 0 .884l3.857 3.75a.655.655 0 0 0 .91 0l3.856-3.75z" fill-rule="evenodd">
      </path>
     </svg>
    </span>
    <ul class="dropdown">
     <li class="level-h2">
      <a href="#example-usage">
       »
 Example usage
      </a>
     </li>
     <li class="level-h2">
      <a href="#argument-reference">
       »
 Argument Reference
      </a>
     </li>
     <li class="level-h3">
      <a href="#interpreter-examples">
       »
 Interpreter Examples
      </a>
     </li>
    </ul>
   </div>
  </div>
  <p>
   The
   <code>
    local-exec
   </code>
   provisioner invokes a local executable after a resource is
 created. This invokes a process on the machine running Terraform, not on the
 resource. See the
   <code>
    remote-exec
   </code>
   <a href="/docs/language/resources/provisioners/remote-exec.html">
    provisioner
   </a>
   to run commands on the
 resource.
  </p>
  <p>
   Note that even though the resource will be fully created when the provisioner is
 run, there is no guarantee that it will be in an operable state - for example
 system services such as
   <code>
    sshd
   </code>
   may not be started yet on compute resources.
  </p>
  <div class="alert alert-info" role="alert">
   <p>
    <strong>
     Note:
    </strong>
    Provisioners should only be used as a last resort. For most
 common situations there are better alternatives. For more information, see
    <a href="./">
     the main Provisioners page
    </a>
    .
   </p>
  </div>
  <h2 id="example-usage">
   <a class="anchor" href="#example-usage" name="example-usage">
    »
   </a>
   Example usage
  </h2>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">resource</span> <span class="s2">"aws_instance"</span> <span class="s2">"web"</span> <span class="p">{</span>
   <span class="c1"># ...</span>
 
   <span class="n">provisioner</span> <span class="s2">"local-exec"</span> <span class="p">{</span>
     <span class="n">command</span> <span class="o">=</span> <span class="s2">"echo ${aws_instance.web.private_ip} &gt;&gt; private_ips.txt"</span>
   <span class="p">}</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <h2 id="argument-reference">
   <a class="anchor" href="#argument-reference" name="argument-reference">
    »
   </a>
   Argument Reference
  </h2>
  <p>
   The following arguments are supported:
  </p>
  <ul>
   <li>
    <p>
     <a name="command">
     </a>
     <a href="#command">
      <code>
       command
      </code>
     </a>
     - (Required) This is the command to execute. It can be provided
 as a relative path to the current working directory or as an absolute path.
 It is evaluated in a shell, and can use environment variables or Terraform
 variables.
    </p>
   </li>
   <li>
    <p>
     <a name="working_dir">
     </a>
     <a href="#working_dir">
      <code>
       working_dir
      </code>
     </a>
     - (Optional) If provided, specifies the working directory where
     <code>
      command
     </code>
     will be executed. It can be provided as as a relative path to the
 current working directory or as an absolute path. The directory must exist.
    </p>
   </li>
   <li>
    <p>
     <a name="interpreter">
     </a>
     <a href="#interpreter">
      <code>
       interpreter
      </code>
     </a>
     - (Optional) If provided, this is a list of interpreter
 arguments used to execute the command. The first argument is the
 interpreter itself. It can be provided as a relative path to the current
 working directory or as an absolute path.  The remaining arguments are
 appended prior to the command.  This allows building command lines of the
 form "/bin/bash", "-c", "echo foo". If
     <code>
      interpreter
     </code>
     is unspecified,
 sensible defaults will be chosen based on the system OS.
    </p>
   </li>
   <li>
    <p>
     <a name="environment">
     </a>
     <a href="#environment">
      <code>
       environment
      </code>
     </a>
     - (Optional) block of key value pairs representing the
 environment of the executed command. inherits the current process environment.
    </p>
   </li>
  </ul>
  <h3 id="interpreter-examples">
   <a class="anchor" href="#interpreter-examples" name="interpreter-examples">
    »
   </a>
   Interpreter Examples
  </h3>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">resource</span> <span class="s2">"null_resource"</span> <span class="s2">"example1"</span> <span class="p">{</span>
   <span class="n">provisioner</span> <span class="s2">"local-exec"</span> <span class="p">{</span>
     <span class="n">command</span> <span class="o">=</span> <span class="s2">"open WFH, '&gt;completed.txt' and print WFH scalar localtime"</span>
     <span class="n">interpreter</span> <span class="o">=</span> <span class="p">[</span><span class="s2">"perl"</span><span class="p">,</span> <span class="s2">"-e"</span><span class="p">]</span>
   <span class="p">}</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">resource</span> <span class="s2">"null_resource"</span> <span class="s2">"example2"</span> <span class="p">{</span>
   <span class="n">provisioner</span> <span class="s2">"local-exec"</span> <span class="p">{</span>
     <span class="n">command</span> <span class="o">=</span> <span class="s2">"Get-Date &gt; completed.txt"</span>
     <span class="n">interpreter</span> <span class="o">=</span> <span class="p">[</span><span class="s2">"PowerShell"</span><span class="p">,</span> <span class="s2">"-Command"</span><span class="p">]</span>
   <span class="p">}</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">resource</span> <span class="s2">"aws_instance"</span> <span class="s2">"web"</span> <span class="p">{</span>
   <span class="c1"># ...</span>
 
   <span class="n">provisioner</span> <span class="s2">"local-exec"</span> <span class="p">{</span>
     <span class="n">command</span> <span class="o">=</span> <span class="s2">"echo $FOO $BAR $BAZ &gt;&gt; env_vars.txt"</span>
 
     <span class="n">environment</span> <span class="o">=</span> <span class="p">{</span>
       <span class="no">FOO</span> <span class="o">=</span> <span class="s2">"bar"</span>
       <span class="no">BAR</span> <span class="o">=</span> <span class="mi">1</span>
       <span class="no">BAZ</span> <span class="o">=</span> <span class="s2">"true"</span>
     <span class="p">}</span>
   <span class="p">}</span>
 <span class="p">}</span>
 </code></pre>
  </div>
 </div>
 
 <!-- ########### Vendor Provisioners : chef ############### -->
 <!-- ########### https://www.terraform.io/docs/language/resources/provisioners/remote-exec.html ############### --
 ><!-- ########### Vendor Provisioners : chef ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="remote-exec-provisioner">
    <a class="anchor" href="#remote-exec-provisioner" name="remote-exec-provisioner">
     »
    </a>
    remote-exec Provisioner
   </h1>
   <div id="inner-quicknav">
    <span id="inner-quicknav-trigger">
     Jump to Section
     <svg height="5" width="9" xmlns="http://www.w3.org/2000/svg">
      <path d="M8.811 1.067a.612.612 0 0 0 0-.884.655.655 0 0 0-.908 0L4.5 3.491 1.097.183a.655.655 0 0 0-.909 0 .615.615 0 0 0 0 .884l3.857 3.75a.655.655 0 0 0 .91 0l3.856-3.75z" fill-rule="evenodd">
      </path>
     </svg>
    </span>
    <ul class="dropdown">
     <li class="level-h2">
      <a href="#example-usage">
       »
 Example usage
      </a>
     </li>
     <li class="level-h2">
      <a href="#argument-reference">
       »
 Argument Reference
      </a>
     </li>
     <li class="level-h2">
      <a href="#script-arguments">
       »
 Script Arguments
      </a>
     </li>
    </ul>
   </div>
  </div>
  <p>
   The
   <code>
    remote-exec
   </code>
   provisioner invokes a script on a remote resource after it
 is created. This can be used to run a configuration management tool, bootstrap
 into a cluster, etc. To invoke a local process, see the
   <code>
    local-exec
   </code>
   <a href="/docs/language/resources/provisioners/local-exec.html">
    provisioner
   </a>
   instead. The
   <code>
    remote-exec
   </code>
   provisioner supports both
   <code>
    ssh
   </code>
   and
   <code>
    winrm
   </code>
   type
   <a href="/docs/language/resources/provisioners/connection.html">
    connections
   </a>
   .
  </p>
  <div class="alert alert-info" role="alert">
   <p>
    <strong>
     Note:
    </strong>
    Provisioners should only be used as a last resort. For most
 common situations there are better alternatives. For more information, see
    <a href="./">
     the main Provisioners page
    </a>
    .
   </p>
  </div>
  <h2 id="example-usage">
   <a class="anchor" href="#example-usage" name="example-usage">
    »
   </a>
   Example usage
  </h2>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">resource</span> <span class="s2">"aws_instance"</span> <span class="s2">"web"</span> <span class="p">{</span>
   <span class="c1"># ...</span>
 
   <span class="n">provisioner</span> <span class="s2">"remote-exec"</span> <span class="p">{</span>
     <span class="n">inline</span> <span class="o">=</span> <span class="p">[</span>
       <span class="s2">"puppet apply"</span><span class="p">,</span>
       <span class="s2">"consul join ${aws_instance.web.private_ip}"</span><span class="p">,</span>
     <span class="p">]</span>
   <span class="p">}</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <h2 id="argument-reference">
   <a class="anchor" href="#argument-reference" name="argument-reference">
    »
   </a>
   Argument Reference
  </h2>
  <p>
   The following arguments are supported:
  </p>
  <ul>
   <li>
    <p>
     <a name="inline">
     </a>
     <a href="#inline">
      <code>
       inline
      </code>
     </a>
     - This is a list of command strings. They are executed in the order
 they are provided. This cannot be provided with
     <code>
      script
     </code>
     or
     <code>
      scripts
     </code>
     .
    </p>
   </li>
   <li>
    <p>
     <a name="script">
     </a>
     <a href="#script">
      <code>
       script
      </code>
     </a>
     - This is a path (relative or absolute) to a local script that will
 be copied to the remote resource and then executed. This cannot be provided
 with
     <code>
      inline
     </code>
     or
     <code>
      scripts
     </code>
     .
    </p>
   </li>
   <li>
    <p>
     <a name="scripts">
     </a>
     <a href="#scripts">
      <code>
       scripts
      </code>
     </a>
     - This is a list of paths (relative or absolute) to local scripts
 that will be copied to the remote resource and then executed. They are executed
 in the order they are provided. This cannot be provided with
     <code>
      inline
     </code>
     or
     <code>
      script
     </code>
     .
    </p>
   </li>
  </ul>
  <h2 id="script-arguments">
   <a class="anchor" href="#script-arguments" name="script-arguments">
    »
   </a>
   Script Arguments
  </h2>
  <p>
   You cannot pass any arguments to scripts using the
   <code>
    script
   </code>
   or
   <code>
    scripts
   </code>
   arguments to this provisioner. If you want to specify arguments,
 upload the script with the
   <a href="/docs/language/resources/provisioners/file.html">
    file provisioner
   </a>
   and then use
   <code>
    inline
   </code>
   to call it. Example:
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">resource</span> <span class="s2">"aws_instance"</span> <span class="s2">"web"</span> <span class="p">{</span>
   <span class="c1"># ...</span>
 
   <span class="n">provisioner</span> <span class="s2">"file"</span> <span class="p">{</span>
     <span class="n">source</span>      <span class="o">=</span> <span class="s2">"script.sh"</span>
     <span class="n">destination</span> <span class="o">=</span> <span class="s2">"/tmp/script.sh"</span>
   <span class="p">}</span>
 
   <span class="n">provisioner</span> <span class="s2">"remote-exec"</span> <span class="p">{</span>
     <span class="n">inline</span> <span class="o">=</span> <span class="p">[</span>
       <span class="s2">"chmod +x /tmp/script.sh"</span><span class="p">,</span>
       <span class="s2">"/tmp/script.sh args"</span><span class="p">,</span>
     <span class="p">]</span>
   <span class="p">}</span>
 <span class="p">}</span>
 </code></pre>
  </div>
 </div>
 
 <!-- ########### Vendor Provisioners : habitat ############### -->
 <!-- ########### https://www.terraform.io/docs/language/resources/provisioners/chef.html ############### --
 ><!-- ########### Vendor Provisioners : habitat ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="chef-provisioner">
    <a class="anchor" href="#chef-provisioner" name="chef-provisioner">
     »
    </a>
    Chef Provisioner
   </h1>
   <div id="inner-quicknav">
    <span id="inner-quicknav-trigger">
     Jump to Section
     <svg height="5" width="9" xmlns="http://www.w3.org/2000/svg">
      <path d="M8.811 1.067a.612.612 0 0 0 0-.884.655.655 0 0 0-.908 0L4.5 3.491 1.097.183a.655.655 0 0 0-.909 0 .615.615 0 0 0 0 .884l3.857 3.75a.655.655 0 0 0 .91 0l3.856-3.75z" fill-rule="evenodd">
      </path>
     </svg>
    </span>
    <ul class="dropdown">
     <li class="level-h2">
      <a href="#requirements">
       »
 Requirements
      </a>
     </li>
     <li class="level-h2">
      <a href="#example-usage">
       »
 Example usage
      </a>
     </li>
     <li class="level-h2">
      <a href="#argument-reference">
       »
 Argument Reference
      </a>
     </li>
    </ul>
   </div>
  </div>
  <p>
   The
   <code>
    chef
   </code>
   provisioner installs, configures and runs the Chef Client on a remote
 resource. The
   <code>
    chef
   </code>
   provisioner supports both
   <code>
    ssh
   </code>
   and
   <code>
    winrm
   </code>
   type
   <a href="/docs/language/resources/provisioners/connection.html">
    connections
   </a>
   .
  </p>
  <div class="alert alert-danger" role="alert">
   <p>
    <strong>
     Note:
    </strong>
    This provisioner has been deprecated as of Terraform 0.13.4 and will be
 removed in a future version of Terraform. For most common situations there are better
 alternatives to using provisioners. For more information, see
    <a href="./">
     the main Provisioners page
    </a>
    .
   </p>
  </div>
  <h2 id="requirements">
   <a class="anchor" href="#requirements" name="requirements">
    »
   </a>
   Requirements
  </h2>
  <p>
   The
   <code>
    chef
   </code>
   provisioner has some prerequisites for specific connection types:
  </p>
  <ul>
   <li>
    For
    <code>
     ssh
    </code>
    type connections,
    <code>
     cURL
    </code>
    must be available on the remote host.
   </li>
   <li>
    For
    <code>
     winrm
    </code>
    connections,
    <code>
     PowerShell 2.0
    </code>
    must be available on the remote host.
   </li>
  </ul>
  <p>
   <a href="https://www.chef.io/end-user-license-agreement/">
    Chef end user license agreement
   </a>
   must be accepted by setting
   <code>
    chef_license
   </code>
   to
   <code>
    accept
   </code>
   in
   <code>
    client_options
   </code>
   argument unless you are installing an old version of Chef client.
  </p>
  <p>
   Without these prerequisites, your provisioning execution will fail.
  </p>
  <h2 id="example-usage">
   <a class="anchor" href="#example-usage" name="example-usage">
    »
   </a>
   Example usage
  </h2>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">resource</span> <span class="s2">"aws_instance"</span> <span class="s2">"web"</span> <span class="p">{</span>
   <span class="c1"># ...</span>
 
   <span class="n">provisioner</span> <span class="s2">"chef"</span> <span class="p">{</span>
     <span class="n">attributes_json</span> <span class="o">=</span> <span class="o">&lt;&lt;</span><span class="no">EOF</span><span class="sh">
       {
         "key": "value",
         "app": {
           "cluster1": {
             "nodes": [
               "webserver1",
               "webserver2"
             ]
           }
         }
       }
     EOF
 
     environment     = "_default"
     client_options  = ["chef_license 'accept'"]
     run_list        = ["cookbook::recipe"]
     node_name       = "webserver1"
     secret_key      = "${file("../encrypted_data_bag_secret")}"
     server_url      = "https://chef.company.com/organizations/org1"
     recreate_client = true
     user_name       = "bork"
     user_key        = "${file("../bork.pem")}"
     version         = "15.10.13"
     # If you have a self signed cert on your chef server change this to :verify_none
     ssl_verify_mode = ":verify_peer"
   }
 }
 </span></code></pre>
  </div>
  <h2 id="argument-reference">
   <a class="anchor" href="#argument-reference" name="argument-reference">
    »
   </a>
   Argument Reference
  </h2>
  <p>
   The following arguments are supported:
  </p>
  <ul>
   <li>
    <p>
     <a name="attributes_json-string-">
     </a>
     <a href="#attributes_json-string-">
      <code>
       attributes_json (string)
      </code>
     </a>
     - (Optional) A raw JSON string with initial node attributes
 for the new node. These can also be loaded from a file on disk using
     <a href="/docs/language/functions/file.html">
      the
      <code>
       file
      </code>
      function
     </a>
     .
    </p>
   </li>
   <li>
    <p>
     <a name="channel-string-">
     </a>
     <a href="#channel-string-">
      <code>
       channel (string)
      </code>
     </a>
     - (Optional) The Chef Client release channel to install from. If not
 set, the
     <code>
      stable
     </code>
     channel will be used.
    </p>
   </li>
   <li>
    <p>
     <a name="client_options-array-">
     </a>
     <a href="#client_options-array-">
      <code>
       client_options (array)
      </code>
     </a>
     - (Optional) A list of optional Chef Client configuration
 options. See the
     <a href="https://docs.chef.io/config_rb_client.html">
      Chef Client
     </a>
     documentation
 for all available options.
    </p>
   </li>
   <li>
    <p>
     <a name="disable_reporting-boolean-">
     </a>
     <a href="#disable_reporting-boolean-">
      <code>
       disable_reporting (boolean)
      </code>
     </a>
     - (Optional) If
     <code>
      true
     </code>
     the Chef Client will not try to send
 reporting data (used by Chef Reporting) to the Chef Server (defaults to
     <code>
      false
     </code>
     ).
    </p>
   </li>
   <li>
    <p>
     <a name="environment-string-">
     </a>
     <a href="#environment-string-">
      <code>
       environment (string)
      </code>
     </a>
     - (Optional) The Chef environment the new node will be joining
 (defaults to
     <code>
      _default
     </code>
     ).
    </p>
   </li>
   <li>
    <p>
     <a name="fetch_chef_certificates-boolean-">
     </a>
     <a href="#fetch_chef_certificates-boolean-">
      <code>
       fetch_chef_certificates (boolean)
      </code>
     </a>
     (Optional) If
     <code>
      true
     </code>
     the SSL certificates configured
 on your Chef Server will be fetched and trusted. See the knife
     <a href="https://docs.chef.io/knife_ssl_fetch.html">
      ssl_fetch
     </a>
     documentation for more details.
    </p>
   </li>
   <li>
    <p>
     <a name="log_to_file-boolean-">
     </a>
     <a href="#log_to_file-boolean-">
      <code>
       log_to_file (boolean)
      </code>
     </a>
     - (Optional) If
     <code>
      true
     </code>
     , the output of the initial Chef Client run
 will be logged to a local file instead of the console. The file will be created in a
 subdirectory called
     <code>
      logfiles
     </code>
     created in your current directory. The filename will be
 the
     <code>
      node_name
     </code>
     of the new node.
    </p>
   </li>
   <li>
    <p>
     <a name="use_policyfile-boolean-">
     </a>
     <a href="#use_policyfile-boolean-">
      <code>
       use_policyfile (boolean)
      </code>
     </a>
     - (Optional) If
     <code>
      true
     </code>
     , use the policy files to bootstrap the
 node. Setting
     <code>
      policy_group
     </code>
     and
     <code>
      policy_name
     </code>
     are required if this is
     <code>
      true
     </code>
     . (defaults to
     <code>
      false
     </code>
     ).
    </p>
   </li>
   <li>
    <p>
     <a name="policy_group-string-">
     </a>
     <a href="#policy_group-string-">
      <code>
       policy_group (string)
      </code>
     </a>
     - (Optional) The name of a policy group that exists on the Chef
 server. Required if
     <code>
      use_policyfile
     </code>
     is set;
     <code>
      policy_name
     </code>
     must also be specified.
    </p>
   </li>
   <li>
    <p>
     <a name="policy_name-string-">
     </a>
     <a href="#policy_name-string-">
      <code>
       policy_name (string)
      </code>
     </a>
     - (Optional) The name of a policy, as identified by the
     <code>
      name
     </code>
     setting in a Policyfile.rb file. Required if
     <code>
      use_policyfile
     </code>
     is set;
     <code>
      policy_group
     </code>
     must also be specified.
    </p>
   </li>
   <li>
    <p>
     <a name="http_proxy-string-">
     </a>
     <a href="#http_proxy-string-">
      <code>
       http_proxy (string)
      </code>
     </a>
     - (Optional) The proxy server for Chef Client HTTP connections.
    </p>
   </li>
   <li>
    <p>
     <a name="https_proxy-string-">
     </a>
     <a href="#https_proxy-string-">
      <code>
       https_proxy (string)
      </code>
     </a>
     - (Optional) The proxy server for Chef Client HTTPS connections.
    </p>
   </li>
   <li>
    <p>
     <a name="max_retries-integer-">
     </a>
     <a href="#max_retries-integer-">
      <code>
       max_retries (integer)
      </code>
     </a>
     - (Optional) The number of times to retry the provisioning process
 after receiving an exit code in the
     <code>
      retry_on_error
     </code>
     list. Defaults to
     <code>
      0
     </code>
    </p>
   </li>
   <li>
    <p>
     <a name="named_run_list-string-">
     </a>
     <a href="#named_run_list-string-">
      <code>
       named_run_list (string)
      </code>
     </a>
     - (Optional) The name of an alternate run-list to invoke during the
 initial Chef Client run. The run-list must already exist in the Policyfile that defines
     <code>
      policy_name
     </code>
     . Only applies when
     <code>
      use_policyfile
     </code>
     is
     <code>
      true
     </code>
     .
    </p>
   </li>
   <li>
    <p>
     <a name="no_proxy-array-">
     </a>
     <a href="#no_proxy-array-">
      <code>
       no_proxy (array)
      </code>
     </a>
     - (Optional) A list of URLs that should bypass the proxy.
    </p>
   </li>
   <li>
    <p>
     <a name="node_name-string-">
     </a>
     <a href="#node_name-string-">
      <code>
       node_name (string)
      </code>
     </a>
     - (Required) The name of the node to register with the Chef Server.
    </p>
   </li>
   <li>
    <p>
     <a name="ohai_hints-array-">
     </a>
     <a href="#ohai_hints-array-">
      <code>
       ohai_hints (array)
      </code>
     </a>
     - (Optional) A list with
     <a href="https://docs.chef.io/ohai.html#hints">
      Ohai hints
     </a>
     to upload to the node.
    </p>
   </li>
   <li>
    <p>
     <a name="os_type-string-">
     </a>
     <a href="#os_type-string-">
      <code>
       os_type (string)
      </code>
     </a>
     - (Optional) The OS type of the node. Valid options are:
     <code>
      linux
     </code>
     and
     <code>
      windows
     </code>
     . If not supplied, the connection type will be used to determine the OS type (
     <code>
      ssh
     </code>
     will assume
     <code>
      linux
     </code>
     and
     <code>
      winrm
     </code>
     will assume
     <code>
      windows
     </code>
     ).
    </p>
   </li>
   <li>
    <p>
     <a name="prevent_sudo-boolean-">
     </a>
     <a href="#prevent_sudo-boolean-">
      <code>
       prevent_sudo (boolean)
      </code>
     </a>
     - (Optional) Prevent the use of the
     <code>
      sudo
     </code>
     command while installing, configuring
 and running the initial Chef Client run. This option is only used with
     <code>
      ssh
     </code>
     type
     <a href="/docs/language/resources/provisioners/connection.html">
      connections
     </a>
     .
    </p>
   </li>
   <li>
    <p>
     <a name="recreate_client-boolean-">
     </a>
     <a href="#recreate_client-boolean-">
      <code>
       recreate_client (boolean)
      </code>
     </a>
     - (Optional) If
     <code>
      true
     </code>
     , first delete any existing Chef Node and
 Client before registering the new Chef Client.
    </p>
   </li>
   <li>
    <p>
     <a name="retry_on_error-array-">
     </a>
     <a href="#retry_on_error-array-">
      <code>
       retry_on_error (array)
      </code>
     </a>
     - (Optional) The error codes upon which Terraform should
 gracefully retry the provisioning process. Intended for use with
     <a href="https://github.com/chef-boneyard/chef-rfc/blob/master/rfc062-exit-status.md">
      Chef RFC062 codes
     </a>
     .
 (Defaults to
     <code>
      [35, 37, 213]
     </code>
     )
    </p>
   </li>
   <li>
    <p>
     <a name="run_list-array-">
     </a>
     <a href="#run_list-array-">
      <code>
       run_list (array)
      </code>
     </a>
     - (Optional) A list with recipes that will be invoked during the initial
 Chef Client run. The run-list will also be saved to the Chef Server after a successful
 initial run. Required if
     <code>
      use_policyfile
     </code>
     is
     <code>
      false
     </code>
     ; ignored when
     <code>
      use_policyfile
     </code>
     is
     <code>
      true
     </code>
     (see
     <code>
      named_run_list
     </code>
     to specify a run-list defined in a Policyfile).
    </p>
   </li>
   <li>
    <p>
     <a name="secret_key-string-">
     </a>
     <a href="#secret_key-string-">
      <code>
       secret_key (string)
      </code>
     </a>
     - (Optional) The contents of the secret key that is used
 by the Chef Client to decrypt data bags on the Chef Server. The key will be uploaded to the remote
 machine. This can also be loaded from a file on disk using
     <a href="/docs/language/functions/file.html">
      the
      <code>
       file
      </code>
      function
     </a>
     .
    </p>
   </li>
   <li>
    <p>
     <a name="server_url-string-">
     </a>
     <a href="#server_url-string-">
      <code>
       server_url (string)
      </code>
     </a>
     - (Required) The URL to the Chef server. This includes the path to
 the organization. See the example.
    </p>
   </li>
   <li>
    <p>
     <a name="skip_install-boolean-">
     </a>
     <a href="#skip_install-boolean-">
      <code>
       skip_install (boolean)
      </code>
     </a>
     - (Optional) Skip the installation of Chef Client on the remote
 machine. This assumes Chef Client is already installed when you run the
     <code>
      chef
     </code>
     provisioner.
    </p>
   </li>
   <li>
    <p>
     <a name="skip_register-boolean-">
     </a>
     <a href="#skip_register-boolean-">
      <code>
       skip_register (boolean)
      </code>
     </a>
     - (Optional) Skip the registration of Chef Client on the remote
 machine. This assumes Chef Client is already registered and the private key (
     <code>
      client.pem
     </code>
     )
 is available in the default Chef configuration directory when you run the
     <code>
      chef
     </code>
     provisioner.
    </p>
   </li>
   <li>
    <p>
     <a name="ssl_verify_mode-string-">
     </a>
     <a href="#ssl_verify_mode-string-">
      <code>
       ssl_verify_mode (string)
      </code>
     </a>
     - (Optional) Used to set the verify mode for Chef Client HTTPS
 requests. The options are
     <code>
      :verify_none
     </code>
     , or
     <code>
      :verify_peer
     </code>
     which is default.
    </p>
   </li>
   <li>
    <p>
     <a name="user_name-string-">
     </a>
     <a href="#user_name-string-">
      <code>
       user_name (string)
      </code>
     </a>
     - (Required) The name of an existing Chef user to register
 the new Chef Client and optionally configure Chef Vaults.
    </p>
   </li>
   <li>
    <p>
     <a name="user_key-string-">
     </a>
     <a href="#user_key-string-">
      <code>
       user_key (string)
      </code>
     </a>
     - (Required) The contents of the user key that will be used to
 authenticate with the Chef Server. This can also be loaded from a file on disk using
     <a href="/docs/language/functions/file.html">
      the
      <code>
       file
      </code>
      function
     </a>
     .
    </p>
   </li>
   <li>
    <p>
     <a name="vault_json-string-">
     </a>
     <a href="#vault_json-string-">
      <code>
       vault_json (string)
      </code>
     </a>
     - (Optional) A raw JSON string with Chef Vaults and Items to which the new node
 should have access. These can also be loaded from a file on disk using
     <a href="/docs/language/functions/file.html">
      the
      <code>
       file
      </code>
      function
     </a>
     .
    </p>
   </li>
   <li>
    <p>
     <a name="version-string-">
     </a>
     <a href="#version-string-">
      <code>
       version (string)
      </code>
     </a>
     - (Optional) The Chef Client version to install on the remote machine.
 If not set, the latest available version will be installed.
    </p>
   </li>
   <li>
    <p>
     <a name="wait_for_retry-integer-">
     </a>
     <a href="#wait_for_retry-integer-">
      <code>
       wait_for_retry (integer)
      </code>
     </a>
     - (Optional) - Amount of time in seconds to wait before
 retrying the provisionining process after receiving an exit code in the
     <code>
      retry_on_error
     </code>
     list.  Defaults to
     <code>
      30
     </code>
     .
    </p>
   </li>
  </ul>
 </div>
 
 <!-- ########### Vendor Provisioners : puppet ############### -->
 <!-- ########### https://www.terraform.io/docs/language/resources/provisioners/habitat.html ############### --
 ><!-- ########### Vendor Provisioners : puppet ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="habitat-provisioner">
    <a class="anchor" href="#habitat-provisioner" name="habitat-provisioner">
     »
    </a>
    Habitat Provisioner
   </h1>
   <div id="inner-quicknav">
    <span id="inner-quicknav-trigger">
     Jump to Section
     <svg height="5" width="9" xmlns="http://www.w3.org/2000/svg">
      <path d="M8.811 1.067a.612.612 0 0 0 0-.884.655.655 0 0 0-.908 0L4.5 3.491 1.097.183a.655.655 0 0 0-.909 0 .615.615 0 0 0 0 .884l3.857 3.75a.655.655 0 0 0 .91 0l3.856-3.75z" fill-rule="evenodd">
      </path>
     </svg>
    </span>
    <ul class="dropdown">
     <li class="level-h2">
      <a href="#requirements">
       »
 Requirements
      </a>
     </li>
     <li class="level-h2">
      <a href="#example-usage">
       »
 Example usage
      </a>
     </li>
     <li class="level-h2">
      <a href="#argument-reference">
       »
 Argument Reference
      </a>
     </li>
     <li class="level-h3">
      <a href="#supervisor-arguments">
       »
 Supervisor Arguments
      </a>
     </li>
     <li class="level-h3">
      <a href="#service-arguments">
       »
 Service Arguments
      </a>
     </li>
    </ul>
   </div>
  </div>
  <p>
   The
   <code>
    habitat
   </code>
   provisioner installs the
   <a href="https://habitat.sh">
    Habitat
   </a>
   supervisor and loads configured services. This provisioner only supports Linux targets using the
   <code>
    ssh
   </code>
   connection type at this time.
  </p>
  <div class="alert alert-danger" role="alert">
   <p>
    <strong>
     Note:
    </strong>
    This provisioner has been deprecated as of Terraform 0.13.4 and will be
 removed in a future version of Terraform. For most common situations there are better
 alternatives to using provisioners. For more information, see
    <a href="./">
     the main Provisioners page
    </a>
    .
   </p>
  </div>
  <h2 id="requirements">
   <a class="anchor" href="#requirements" name="requirements">
    »
   </a>
   Requirements
  </h2>
  <p>
   The
   <code>
    habitat
   </code>
   provisioner has some prerequisites for specific connection types:
  </p>
  <ul>
   <li>
    For
    <code>
     ssh
    </code>
    type connections, we assume a few tools to be available on the remote host:
    <ul>
     <li>
      <a name="curl">
      </a>
      <a href="#curl">
       <code>
        curl
       </code>
      </a>
     </li>
     <li>
      <a name="tee">
      </a>
      <a href="#tee">
       <code>
        tee
       </code>
      </a>
     </li>
     <li>
      <a name="setsid">
      </a>
      <a href="#setsid">
       <code>
        setsid
       </code>
      </a>
      - Only if using the
      <code>
       unmanaged
      </code>
      service type.
     </li>
    </ul>
   </li>
  </ul>
  <p>
   Without these prerequisites, your provisioning execution will fail.
  </p>
  <h2 id="example-usage">
   <a class="anchor" href="#example-usage" name="example-usage">
    »
   </a>
   Example usage
  </h2>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">resource</span> <span class="s2">"aws_instance"</span> <span class="s2">"redis"</span> <span class="p">{</span>
   <span class="n">count</span> <span class="o">=</span> <span class="mi">3</span>
 
   <span class="n">provisioner</span> <span class="s2">"habitat"</span> <span class="p">{</span>
     <span class="n">peers</span> <span class="o">=</span> <span class="p">[</span><span class="n">aws_instance</span><span class="p">.</span><span class="nf">redis</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nf">private_ip</span><span class="p">]</span>
     <span class="n">use_sudo</span> <span class="o">=</span> <span class="kp">true</span>
     <span class="n">service_type</span> <span class="o">=</span> <span class="s2">"systemd"</span>
     <span class="n">accept_license</span> <span class="o">=</span> <span class="kp">true</span>
 
     <span class="n">service</span> <span class="p">{</span>
       <span class="nb">name</span> <span class="o">=</span> <span class="s2">"core/redis"</span>
       <span class="n">topology</span> <span class="o">=</span> <span class="s2">"leader"</span>
       <span class="n">user_toml</span> <span class="o">=</span> <span class="n">file</span><span class="p">(</span><span class="s2">"conf/redis.toml"</span><span class="p">)</span>
     <span class="p">}</span>
   <span class="p">}</span>
 <span class="p">}</span>
 
 </code></pre>
  </div>
  <h2 id="argument-reference">
   <a class="anchor" href="#argument-reference" name="argument-reference">
    »
   </a>
   Argument Reference
  </h2>
  <p>
   There are 2 configuration levels,
   <code>
    supervisor
   </code>
   and
   <code>
    service
   </code>
   .  Configuration placed directly within the
   <code>
    provisioner
   </code>
   block are supervisor configurations, and a provisioner can define zero or more services to run, and each service will have a
   <code>
    service
   </code>
   block within the
   <code>
    provisioner
   </code>
   .  A
   <code>
    service
   </code>
   block can also contain zero or more
   <code>
    bind
   </code>
   blocks to create service group bindings.
  </p>
  <h3 id="supervisor-arguments">
   <a class="anchor" href="#supervisor-arguments" name="supervisor-arguments">
    »
   </a>
   Supervisor Arguments
  </h3>
  <ul>
   <li>
    <a name="accept_license-bool-">
    </a>
    <a href="#accept_license-bool-">
     <code>
      accept_license (bool)
     </code>
    </a>
    - (Required) Set to true to accept
    <a href="https://www.chef.io/end-user-license-agreement/">
     Habitat end user license agreement
    </a>
   </li>
   <li>
    <a name="version-string-">
    </a>
    <a href="#version-string-">
     <code>
      version (string)
     </code>
    </a>
    - (Optional) The Habitat version to install on the remote machine.  If not specified, the latest available version is used.
   </li>
   <li>
    <a name="auto_update-bool-">
    </a>
    <a href="#auto_update-bool-">
     <code>
      auto_update (bool)
     </code>
    </a>
    - (Optional) If set to
    <code>
     true
    </code>
    , the supervisor will auto-update itself as soon as new releases are available on the specified
    <code>
     channel
    </code>
    .
   </li>
   <li>
    <a name="http_disable-bool-">
    </a>
    <a href="#http_disable-bool-">
     <code>
      http_disable (bool)
     </code>
    </a>
    - (Optional) If set to
    <code>
     true
    </code>
    , disables the supervisor HTTP listener entirely.
   </li>
   <li>
    <a name="peer-string-">
    </a>
    <a href="#peer-string-">
     <code>
      peer (string)
     </code>
    </a>
    - (Optional, deprecated) IP addresses or FQDN's for other Habitat supervisors to peer with, like:
    <code>
     --peer 1.2.3.4 --peer 5.6.7.8
    </code>
    . (Defaults to none)
   </li>
   <li>
    <a name="peers-array-">
    </a>
    <a href="#peers-array-">
     <code>
      peers (array)
     </code>
    </a>
    - (Optional) A list of IP or FQDN's of other supervisor instance(s) to peer with. (Defaults to none)
   </li>
   <li>
    <a name="service_type-string-">
    </a>
    <a href="#service_type-string-">
     <code>
      service_type (string)
     </code>
    </a>
    - (Optional) Method used to run the Habitat supervisor.  Valid options are
    <code>
     unmanaged
    </code>
    and
    <code>
     systemd
    </code>
    .  (Defaults to
    <code>
     systemd
    </code>
    )
   </li>
   <li>
    <a name="service_name-string-">
    </a>
    <a href="#service_name-string-">
     <code>
      service_name (string)
     </code>
    </a>
    - (Optional) The name of the Habitat supervisor service, if using an init system such as
    <code>
     systemd
    </code>
    . (Defaults to
    <code>
     hab-supervisor
    </code>
    )
   </li>
   <li>
    <a name="use_sudo-bool-">
    </a>
    <a href="#use_sudo-bool-">
     <code>
      use_sudo (bool)
     </code>
    </a>
    - (Optional) Use
    <code>
     sudo
    </code>
    when executing remote commands.  Required when the user specified in the
    <code>
     connection
    </code>
    block is not
    <code>
     root
    </code>
    .  (Defaults to
    <code>
     true
    </code>
    )
   </li>
   <li>
    <a name="permanent_peer-bool-">
    </a>
    <a href="#permanent_peer-bool-">
     <code>
      permanent_peer (bool)
     </code>
    </a>
    - (Optional) Marks this supervisor as a permanent peer.  (Defaults to false)
   </li>
   <li>
    <a name="listen_ctl-string-">
    </a>
    <a href="#listen_ctl-string-">
     <code>
      listen_ctl (string)
     </code>
    </a>
    - (Optional) The listen address for the countrol gateway system (Defaults to 127.0.0.1:9632)
   </li>
   <li>
    <a name="listen_gossip-string-">
    </a>
    <a href="#listen_gossip-string-">
     <code>
      listen_gossip (string)
     </code>
    </a>
    - (Optional) The listen address for the gossip system (Defaults to 0.0.0.0:9638)
   </li>
   <li>
    <a name="listen_http-string-">
    </a>
    <a href="#listen_http-string-">
     <code>
      listen_http (string)
     </code>
    </a>
    - (Optional) The listen address for the HTTP gateway (Defaults to 0.0.0.0:9631)
   </li>
   <li>
    <a name="ring_key-string-">
    </a>
    <a href="#ring_key-string-">
     <code>
      ring_key (string)
     </code>
    </a>
    - (Optional) The name of the ring key for encrypting gossip ring communication (Defaults to no encryption)
   </li>
   <li>
    <a name="ring_key_content-string-">
    </a>
    <a href="#ring_key_content-string-">
     <code>
      ring_key_content (string)
     </code>
    </a>
    - (Optional) The key content.  Only needed if using ring encryption and want the provisioner to take care of uploading and importing it.  Easiest to source from a file (eg
    <code>
     ring_key_content = "${file("conf/foo-123456789.sym.key")}"
    </code>
    ) (Defaults to none)
   </li>
   <li>
    <a name="ctl_secret-string-">
    </a>
    <a href="#ctl_secret-string-">
     <code>
      ctl_secret (string)
     </code>
    </a>
    - (Optional) Specify a secret to use (from
    <code>
     hab sup secret generate
    </code>
    ) for control gateway communication between hab client(s) and the supervisor.  (Defaults to none)
   </li>
   <li>
    <a name="url-string-">
    </a>
    <a href="#url-string-">
     <code>
      url (string)
     </code>
    </a>
    - (Optional) The URL of a Builder service to download packages and receive updates from.  (Defaults to
    <a href="https://bldr.habitat.sh">
     https://bldr.habitat.sh
    </a>
    )
   </li>
   <li>
    <a name="channel-string-">
    </a>
    <a href="#channel-string-">
     <code>
      channel (string)
     </code>
    </a>
    - (Optional) The release channel in the Builder service to use. (Defaults to
    <code>
     stable
    </code>
    )
   </li>
   <li>
    <a name="events-string-">
    </a>
    <a href="#events-string-">
     <code>
      events (string)
     </code>
    </a>
    - (Optional) Name of the service group running a Habitat EventSrv to forward Supervisor and service event data to. (Defaults to none)
   </li>
   <li>
    <a name="organization-string-">
    </a>
    <a href="#organization-string-">
     <code>
      organization (string)
     </code>
    </a>
    - (Optional) The organization that the Supervisor and it's subsequent services are part of. (Defaults to
    <code>
     default
    </code>
    )
   </li>
   <li>
    <a name="gateway_auth_token-string-">
    </a>
    <a href="#gateway_auth_token-string-">
     <code>
      gateway_auth_token (string)
     </code>
    </a>
    - (Optional) The http gateway authorization token (Defaults to none)
   </li>
   <li>
    <a name="builder_auth_token-string-">
    </a>
    <a href="#builder_auth_token-string-">
     <code>
      builder_auth_token (string)
     </code>
    </a>
    - (Optional) The builder authorization token when using a private origin. (Defaults to none)
   </li>
  </ul>
  <h3 id="service-arguments">
   <a class="anchor" href="#service-arguments" name="service-arguments">
    »
   </a>
   Service Arguments
  </h3>
  <ul>
   <li>
    <a name="name-string-">
    </a>
    <a href="#name-string-">
     <code>
      name (string)
     </code>
    </a>
    - (Required) The Habitat package identifier of the service to run. (ie
    <code>
     core/haproxy
    </code>
    or
    <code>
     core/redis/3.2.4/20171002182640
    </code>
    )
   </li>
   <li>
    <a name="binds-array-">
    </a>
    <a href="#binds-array-">
     <code>
      binds (array)
     </code>
    </a>
    - (Optional) An array of bind specifications. (ie
    <code>
     binds = ["backend:nginx.default"]
    </code>
    )
   </li>
   <li>
    <a name="bind">
    </a>
    <a href="#bind">
     <code>
      bind
     </code>
    </a>
    - (Optional) An alternative way of declaring binds.  This method can be easier to deal with when populating values from other values or variable inputs without having to do string interpolation. The following example is equivalent to
    <code>
     binds = ["backend:nginx.default"]
    </code>
    :
   </li>
  </ul>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">bind</span> <span class="p">{</span>
   <span class="k">alias</span> <span class="o">=</span> <span class="s2">"backend"</span>
   <span class="n">service</span> <span class="o">=</span> <span class="s2">"nginx"</span>
   <span class="n">group</span> <span class="o">=</span> <span class="s2">"default"</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <ul>
   <li>
    <a name="topology-string-">
    </a>
    <a href="#topology-string-">
     <code>
      topology (string)
     </code>
    </a>
    - (Optional) Topology to start service in. Possible values
    <code>
     standalone
    </code>
    or
    <code>
     leader
    </code>
    .  (Defaults to
    <code>
     standalone
    </code>
    )
   </li>
   <li>
    <a name="strategy-string-">
    </a>
    <a href="#strategy-string-">
     <code>
      strategy (string)
     </code>
    </a>
    - (Optional) Update strategy to use. Possible values
    <code>
     at-once
    </code>
    ,
    <code>
     rolling
    </code>
    or
    <code>
     none
    </code>
    .  (Defaults to
    <code>
     none
    </code>
    )
   </li>
   <li>
    <a name="user_toml-string-">
    </a>
    <a href="#user_toml-string-">
     <code>
      user_toml (string)
     </code>
    </a>
    - (Optional) TOML formatted user configuration for the service. Easiest to source from a file (eg
    <code>
     user_toml = "${file("conf/redis.toml")}"
    </code>
    ).  (Defaults to none)
   </li>
   <li>
    <a name="channel-string--1">
    </a>
    <a href="#channel-string--1">
     <code>
      channel (string)
     </code>
    </a>
    - (Optional) The release channel in the Builder service to use. (Defaults to
    <code>
     stable
    </code>
    )
   </li>
   <li>
    <a name="group-string-">
    </a>
    <a href="#group-string-">
     <code>
      group (string)
     </code>
    </a>
    - (Optional) The service group to join.  (Defaults to
    <code>
     default
    </code>
    )
   </li>
   <li>
    <a name="url-string--1">
    </a>
    <a href="#url-string--1">
     <code>
      url (string)
     </code>
    </a>
    - (Optional) The URL of a Builder service to download packages and receive updates from.  (Defaults to
    <a href="https://bldr.habitat.sh">
     https://bldr.habitat.sh
    </a>
    )
   </li>
   <li>
    <a name="application-string-">
    </a>
    <a href="#application-string-">
     <code>
      application (string)
     </code>
    </a>
    - (Optional) The application name.  (Defaults to none)
   </li>
   <li>
    <a name="environment-string-">
    </a>
    <a href="#environment-string-">
     <code>
      environment (string)
     </code>
    </a>
    - (Optional) The environment name.  (Defaults to none)
   </li>
   <li>
    <a name="service_key-string-">
    </a>
    <a href="#service_key-string-">
     <code>
      service_key (string)
     </code>
    </a>
    - (Optional) The key content of a service private key, if using service group encryption.  Easiest to source from a file (eg
    <code>
     service_key = "${file("conf/redis.default@org-123456789.box.key")}"
    </code>
    ) (Defaults to none)
   </li>
  </ul>
 </div>
 
 <!-- ########### Vendor Provisioners : salt-masterless ############### -->
 <!-- ########### https://www.terraform.io/docs/language/resources/provisioners/puppet.html ############### --
 ><!-- ########### Vendor Provisioners : salt-masterless ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="puppet-provisioner">
    <a class="anchor" href="#puppet-provisioner" name="puppet-provisioner">
     »
    </a>
    Puppet Provisioner
   </h1>
   <div id="inner-quicknav">
    <span id="inner-quicknav-trigger">
     Jump to Section
     <svg height="5" width="9" xmlns="http://www.w3.org/2000/svg">
      <path d="M8.811 1.067a.612.612 0 0 0 0-.884.655.655 0 0 0-.908 0L4.5 3.491 1.097.183a.655.655 0 0 0-.909 0 .615.615 0 0 0 0 .884l3.857 3.75a.655.655 0 0 0 .91 0l3.856-3.75z" fill-rule="evenodd">
      </path>
     </svg>
    </span>
    <ul class="dropdown">
     <li class="level-h2">
      <a href="#requirements">
       »
 Requirements
      </a>
     </li>
     <li class="level-h2">
      <a href="#example-usage">
       »
 Example usage
      </a>
     </li>
     <li class="level-h2">
      <a href="#argument-reference">
       »
 Argument Reference
      </a>
     </li>
    </ul>
   </div>
  </div>
  <p>
   The
   <code>
    puppet
   </code>
   provisioner installs, configures and runs the Puppet agent on a
 remote resource. The
   <code>
    puppet
   </code>
   provisioner supports both
   <code>
    ssh
   </code>
   and
   <code>
    winrm
   </code>
   type
   <a href="/docs/language/resources/provisioners/connection.html">
    connections
   </a>
   .
  </p>
  <div class="alert alert-danger" role="alert">
   <p>
    <strong>
     Note:
    </strong>
    This provisioner has been deprecated as of Terraform 0.13.4 and will be
 removed in a future version of Terraform. For most common situations there are better
 alternatives to using provisioners. For more information, see
    <a href="./">
     the main Provisioners page
    </a>
    .
   </p>
  </div>
  <h2 id="requirements">
   <a class="anchor" href="#requirements" name="requirements">
    »
   </a>
   Requirements
  </h2>
  <p>
   The
   <code>
    puppet
   </code>
   provisioner has some prerequisites for specific connection types:
  </p>
  <ul>
   <li>
    For
    <code>
     ssh
    </code>
    type connections,
    <code>
     cURL
    </code>
    must be available on the remote host.
   </li>
   <li>
    For
    <code>
     winrm
    </code>
    connections,
    <code>
     PowerShell 2.0
    </code>
    must be available on the remote host.
   </li>
  </ul>
  <p>
   Without these prerequisites, your provisioning execution will fail.
  </p>
  <p>
   Additionally, the
   <code>
    puppet
   </code>
   provisioner requires
   <a href="https://puppet.com/docs/bolt/latest/bolt.html">
    Bolt
   </a>
   to be installed on your workstation
 with the following
   <a href="https://puppet.com/docs/bolt/latest/bolt_installing_modules.html#install-modules">
    modules
 installed
   </a>
  </p>
  <ul>
   <li>
    <a name="danieldreier-autosign">
    </a>
    <a href="#danieldreier-autosign">
     <code>
      danieldreier/autosign
     </code>
    </a>
   </li>
   <li>
    <a name="puppetlabs-puppet_agent">
    </a>
    <a href="#puppetlabs-puppet_agent">
     <code>
      puppetlabs/puppet_agent
     </code>
    </a>
   </li>
  </ul>
  <h2 id="example-usage">
   <a class="anchor" href="#example-usage" name="example-usage">
    »
   </a>
   Example usage
  </h2>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">resource</span> <span class="s2">"aws_instance"</span> <span class="s2">"web"</span> <span class="p">{</span>
   <span class="c1"># ...</span>
 
   <span class="n">provisioner</span> <span class="s2">"puppet"</span> <span class="p">{</span>
     <span class="n">server</span>             <span class="o">=</span> <span class="n">aws_instance</span><span class="p">.</span><span class="nf">puppetmaster</span><span class="p">.</span><span class="nf">public_dns</span>
     <span class="n">server_user</span>        <span class="o">=</span> <span class="s2">"ubuntu"</span>
     <span class="n">extension_requests</span> <span class="o">=</span> <span class="p">{</span>
       <span class="n">pp_role</span> <span class="o">=</span> <span class="s2">"webserver"</span>
     <span class="p">}</span>
   <span class="p">}</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <h2 id="argument-reference">
   <a class="anchor" href="#argument-reference" name="argument-reference">
    »
   </a>
   Argument Reference
  </h2>
  <p>
   The following arguments are supported:
  </p>
  <ul>
   <li>
    <p>
     <a name="server-string-">
     </a>
     <a href="#server-string-">
      <code>
       server (string)
      </code>
     </a>
     - (Required) The FQDN of the Puppet master that the agent
 is to connect to.
    </p>
   </li>
   <li>
    <p>
     <a name="server_user-string-">
     </a>
     <a href="#server_user-string-">
      <code>
       server_user (string)
      </code>
     </a>
     - (Optional) The user that Bolt should connect to the
 server as (defaults to
     <code>
      root
     </code>
     ).
    </p>
   </li>
   <li>
    <p>
     <a name="os_type-string-">
     </a>
     <a href="#os_type-string-">
      <code>
       os_type (string)
      </code>
     </a>
     - (Optional) The OS type of the resource. Valid options
 are:
     <code>
      linux
     </code>
     and
     <code>
      windows
     </code>
     . If not supplied, the connection type will be used
 to determine the OS type (
     <code>
      ssh
     </code>
     will assume
     <code>
      linux
     </code>
     and
     <code>
      winrm
     </code>
     will assume
     <code>
      windows
     </code>
     ).
    </p>
   </li>
   <li>
    <p>
     <a name="use_sudo-boolean-">
     </a>
     <a href="#use_sudo-boolean-">
      <code>
       use_sudo (boolean)
      </code>
     </a>
     - (Optional) If
     <code>
      true
     </code>
     , commands run on the resource
 will have their privileges elevated with sudo (defaults to
     <code>
      true
     </code>
     when the OS
 type is
     <code>
      linux
     </code>
     and
     <code>
      false
     </code>
     when the OS type is
     <code>
      windows
     </code>
     ).
    </p>
   </li>
   <li>
    <p>
     <a name="autosign-boolean-">
     </a>
     <a href="#autosign-boolean-">
      <code>
       autosign (boolean)
      </code>
     </a>
     - (Optional) Set to
     <code>
      true
     </code>
     if the Puppet master is using an autosigner such as
     <a href="https://danieldreier.github.io/autosign">
      Daniel Dreier's policy-based autosigning
 tool
     </a>
     . If
     <code>
      false
     </code>
     new agent certificate requests will have to be signed manually (defaults to
     <code>
      true
     </code>
     ).
    </p>
   </li>
   <li>
    <p>
     <a name="open_source-boolean-">
     </a>
     <a href="#open_source-boolean-">
      <code>
       open_source (boolean)
      </code>
     </a>
     - (Optional) If
     <code>
      true
     </code>
     the provisioner uses an open source Puppet compatible agent install method (push via the Bolt agent install task). If
     <code>
      false
     </code>
     the simplified Puppet Enterprise installer will pull the agent from the Puppet master (defaults to
     <code>
      true
     </code>
     ).
    </p>
   </li>
   <li>
    <p>
     <a name="certname-string-">
     </a>
     <a href="#certname-string-">
      <code>
       certname (string)
      </code>
     </a>
     - (Optional) The Subject CN used when requesting
 a certificate from the Puppet master CA (defaults to the FQDN of the
 resource).
    </p>
   </li>
   <li>
    <p>
     <a name="extension_requests-map-">
     </a>
     <a href="#extension_requests-map-">
      <code>
       extension_requests (map)
      </code>
     </a>
     - (Optional) A map of
     <a href="https://puppet.com/docs/puppet/latest/ssl_attributes_extensions.html#concept-932">
      extension 
 requests
     </a>
     to be embedded in the certificate signing request before it is sent to the
 Puppet master CA and then transferred to the final certificate when the CSR
 is signed. These become available during Puppet agent runs as
     <a href="https://puppet.com/docs/puppet/latest/lang_facts_and_builtin_vars.html#trusted-facts">
      trusted facts
     </a>
     . Friendly names for common extensions such as pp_role and pp_environment have
     <a href="https://puppet.com/docs/puppet/latest/ssl_attributes_extensions.html#recommended-oids-for-extensions">
      been predefined
     </a>
     .
    </p>
   </li>
   <li>
    <p>
     <a name="custom_attributes-map-">
     </a>
     <a href="#custom_attributes-map-">
      <code>
       custom_attributes (map)
      </code>
     </a>
     - (Optional) A map of
     <a href="https://puppet.com/docs/puppet/latest/ssl_attributes_extensions.html#concept-5488">
      custom
 attributes
     </a>
     to be embedded in the certificate signing request before it is sent to the
 Puppet master CA.
    </p>
   </li>
   <li>
    <p>
     <a name="environment-string-">
     </a>
     <a href="#environment-string-">
      <code>
       environment (string)
      </code>
     </a>
     - (Optional) The name of the Puppet environment that the
 Puppet agent will be running in (defaults to
     <code>
      production
     </code>
     ).
    </p>
   </li>
   <li>
    <p>
     <a name="bolt_timeout-string-">
     </a>
     <a href="#bolt_timeout-string-">
      <code>
       bolt_timeout (string)
      </code>
     </a>
     - (Optional) The timeout to wait for Bolt tasks to
 complete. This should be specified as a string like
     <code>
      30s
     </code>
     or
     <code>
      5m
     </code>
     (defaults
 to
     <code>
      5m
     </code>
     - 5 minutes).
    </p>
   </li>
  </ul>
 </div>
 
 <!-- ########### Vendor Provisioners : Data Sources ############### -->
 <!-- ########### https://www.terraform.io/docs/language/resources/provisioners/salt-masterless.html ############### --
 ><!-- ########### Vendor Provisioners : Data Sources ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="salt-masterless-provisioner">
    <a class="anchor" href="#salt-masterless-provisioner" name="salt-masterless-provisioner">
     »
    </a>
    Salt Masterless Provisioner
   </h1>
   <div id="inner-quicknav">
    <span id="inner-quicknav-trigger">
     Jump to Section
     <svg height="5" width="9" xmlns="http://www.w3.org/2000/svg">
      <path d="M8.811 1.067a.612.612 0 0 0 0-.884.655.655 0 0 0-.908 0L4.5 3.491 1.097.183a.655.655 0 0 0-.909 0 .615.615 0 0 0 0 .884l3.857 3.75a.655.655 0 0 0 .91 0l3.856-3.75z" fill-rule="evenodd">
      </path>
     </svg>
    </span>
    <ul class="dropdown">
     <li class="level-h2">
      <a href="#requirements">
       »
 Requirements
      </a>
     </li>
     <li class="level-h2">
      <a href="#example-usage">
       »
 Example usage
      </a>
     </li>
     <li class="level-h2">
      <a href="#argument-reference">
       »
 Argument Reference
      </a>
     </li>
    </ul>
   </div>
  </div>
  <p>
   Type:
   <code>
    salt-masterless
   </code>
  </p>
  <p>
   The
   <code>
    salt-masterless
   </code>
   Terraform provisioner provisions machines built by Terraform
 using
   <a href="http://saltstack.com/">
    Salt
   </a>
   states, without connecting to a Salt master. The
   <code>
    salt-masterless
   </code>
   provisioner supports
   <code>
    ssh
   </code>
   <a href="/docs/language/resources/provisioners/connection.html">
    connections
   </a>
   .
  </p>
  <div class="alert alert-danger" role="alert">
   <p>
    <strong>
     Note:
    </strong>
    This provisioner has been deprecated as of Terraform 0.13.4 and will be
 removed in a future version of Terraform. For most common situations there are better
 alternatives to using provisioners. For more information, see
    <a href="./">
     the main Provisioners page
    </a>
    .
   </p>
  </div>
  <h2 id="requirements">
   <a class="anchor" href="#requirements" name="requirements">
    »
   </a>
   Requirements
  </h2>
  <p>
   The
   <code>
    salt-masterless
   </code>
   provisioner has some prerequisites.
   <code>
    cURL
   </code>
   must be available on the remote host.
  </p>
  <h2 id="example-usage">
   <a class="anchor" href="#example-usage" name="example-usage">
    »
   </a>
   Example usage
  </h2>
  <p>
   The example below is fully functional.
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code>
 <span class="n">provisioner</span> <span class="s2">"salt-masterless"</span> <span class="p">{</span>
     <span class="s2">"local_state_tree"</span> <span class="o">=</span> <span class="s2">"/srv/salt"</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <h2 id="argument-reference">
   <a class="anchor" href="#argument-reference" name="argument-reference">
    »
   </a>
   Argument Reference
  </h2>
  <p>
   The reference of available configuration options is listed below. The only
 required argument is the path to your local salt state tree.
  </p>
  <p>
   Optional:
  </p>
  <ul>
   <li>
    <p>
     <a name="bootstrap_args">
     </a>
     <a href="#bootstrap_args">
      <code>
       bootstrap_args
      </code>
     </a>
     (string) - Arguments to send to the bootstrap script. Usage
 is somewhat documented on
     <a href="https://github.com/saltstack/salt-bootstrap">
      github
     </a>
     , but the
     <a href="https://github.com/saltstack/salt-bootstrap/blob/develop/bootstrap-salt.sh">
      script
 itself
     </a>
     has more detailed usage instructions. By default, no arguments are sent to
 the script.
    </p>
   </li>
   <li>
    <p>
     <a name="disable_sudo">
     </a>
     <a href="#disable_sudo">
      <code>
       disable_sudo
      </code>
     </a>
     (boolean) - By default, the bootstrap install command is prefixed with
     <code>
      sudo
     </code>
     . When using a
 Docker builder, you will likely want to pass
     <code>
      true
     </code>
     since
     <code>
      sudo
     </code>
     is often not pre-installed.
    </p>
   </li>
   <li>
    <p>
     <a name="remote_pillar_roots">
     </a>
     <a href="#remote_pillar_roots">
      <code>
       remote_pillar_roots
      </code>
     </a>
     (string) - The path to your remote
     <a href="http://docs.saltstack.com/ref/configuration/master.html#pillar-configuration">
      pillar
 roots
     </a>
     .
 default:
     <code>
      /srv/pillar
     </code>
     . This option cannot be used with
     <code>
      minion_config
     </code>
     .
    </p>
   </li>
   <li>
    <p>
     <a name="remote_state_tree">
     </a>
     <a href="#remote_state_tree">
      <code>
       remote_state_tree
      </code>
     </a>
     (string) - The path to your remote
     <a href="http://docs.saltstack.com/ref/states/highstate.html#the-salt-state-tree">
      state
 tree
     </a>
     .
 default:
     <code>
      /srv/salt
     </code>
     . This option cannot be used with
     <code>
      minion_config
     </code>
     .
    </p>
   </li>
   <li>
    <p>
     <a name="local_pillar_roots">
     </a>
     <a href="#local_pillar_roots">
      <code>
       local_pillar_roots
      </code>
     </a>
     (string) - The path to your local
     <a href="http://docs.saltstack.com/ref/configuration/master.html#pillar-configuration">
      pillar
 roots
     </a>
     .
 This will be uploaded to the
     <code>
      remote_pillar_roots
     </code>
     on the remote.
    </p>
   </li>
   <li>
    <p>
     <a name="local_state_tree">
     </a>
     <a href="#local_state_tree">
      <code>
       local_state_tree
      </code>
     </a>
     (string) - The path to your local
     <a href="http://docs.saltstack.com/ref/states/highstate.html#the-salt-state-tree">
      state
 tree
     </a>
     .
 This will be uploaded to the
     <code>
      remote_state_tree
     </code>
     on the remote.
    </p>
   </li>
   <li>
    <p>
     <a name="custom_state">
     </a>
     <a href="#custom_state">
      <code>
       custom_state
      </code>
     </a>
     (string) - A state to be run instead of
     <code>
      state.highstate
     </code>
     .
 Defaults to
     <code>
      state.highstate
     </code>
     if unspecified.
    </p>
   </li>
   <li>
    <p>
     <a name="minion_config_file">
     </a>
     <a href="#minion_config_file">
      <code>
       minion_config_file
      </code>
     </a>
     (string) - The path to your local
     <a href="http://docs.saltstack.com/ref/configuration/minion.html">
      minion config
 file
     </a>
     . This will be
 uploaded to the
     <code>
      /etc/salt
     </code>
     on the remote. This option overrides the
     <code>
      remote_state_tree
     </code>
     or
     <code>
      remote_pillar_roots
     </code>
     options.
    </p>
   </li>
   <li>
    <p>
     <a name="skip_bootstrap">
     </a>
     <a href="#skip_bootstrap">
      <code>
       skip_bootstrap
      </code>
     </a>
     (boolean) - By default the salt provisioner runs
     <a href="https://github.com/saltstack/salt-bootstrap">
      salt
 bootstrap
     </a>
     to install salt. Set
 this to true to skip this step.
    </p>
   </li>
   <li>
    <p>
     <a name="temp_config_dir">
     </a>
     <a href="#temp_config_dir">
      <code>
       temp_config_dir
      </code>
     </a>
     (string) - Where your local state tree will be copied
 before moving to the
     <code>
      /srv/salt
     </code>
     directory. Default is
     <code>
      /tmp/salt
     </code>
     .
    </p>
   </li>
   <li>
    <p>
     <a name="no_exit_on_failure">
     </a>
     <a href="#no_exit_on_failure">
      <code>
       no_exit_on_failure
      </code>
     </a>
     (boolean) - Terraform will exit if the
     <code>
      salt-call
     </code>
     command
 fails. Set this option to true to ignore Salt failures.
    </p>
   </li>
   <li>
    <p>
     <a name="log_level">
     </a>
     <a href="#log_level">
      <code>
       log_level
      </code>
     </a>
     (string) - Set the logging level for the
     <code>
      salt-call
     </code>
     run.
    </p>
   </li>
   <li>
    <p>
     <a name="salt_call_args">
     </a>
     <a href="#salt_call_args">
      <code>
       salt_call_args
      </code>
     </a>
     (string) - Additional arguments to pass directly to
     <code>
      salt-call
     </code>
     . See
     <a href="https://docs.saltstack.com/ref/cli/salt-call.html">
      salt-call
     </a>
     documentation for more
 information. By default no additional arguments (besides the ones Terraform generates)
 are passed to
     <code>
      salt-call
     </code>
     .
    </p>
   </li>
   <li>
    <p>
     <a name="salt_bin_dir">
     </a>
     <a href="#salt_bin_dir">
      <code>
       salt_bin_dir
      </code>
     </a>
     (string) - Path to the
     <code>
      salt-call
     </code>
     executable. Useful if it is not
 on the PATH.
    </p>
   </li>
  </ul>
 </div>
 
 <!-- ########### Providers : Overview ############### -->
 <!-- ########### https://www.terraform.io/docs/language/data-sources/index.html ############### --
 ><!-- ########### Providers : Overview ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="data-sources">
    <a class="anchor" href="#data-sources" name="data-sources">
     »
    </a>
    Data Sources
   </h1>
   <div id="inner-quicknav">
    <span id="inner-quicknav-trigger">
     Jump to Section
     <svg height="5" width="9" xmlns="http://www.w3.org/2000/svg">
      <path d="M8.811 1.067a.612.612 0 0 0 0-.884.655.655 0 0 0-.908 0L4.5 3.491 1.097.183a.655.655 0 0 0-.909 0 .615.615 0 0 0 0 .884l3.857 3.75a.655.655 0 0 0 .91 0l3.856-3.75z" fill-rule="evenodd">
      </path>
     </svg>
    </span>
    <ul class="dropdown">
     <li class="level-h2">
      <a href="#using-data-sources">
       »
 Using Data Sources
      </a>
     </li>
     <li class="level-h2">
      <a href="#data-source-arguments">
       »
 Data Source Arguments
      </a>
     </li>
     <li class="level-h2">
      <a href="#data-resource-behavior">
       »
 Data Resource Behavior
      </a>
     </li>
     <li class="level-h2">
      <a href="#local-only-data-sources">
       »
 Local-only Data Sources
      </a>
     </li>
     <li class="level-h2">
      <a href="#data-resource-dependencies">
       »
 Data Resource Dependencies
      </a>
     </li>
     <li class="level-h2">
      <a href="#multiple-resource-instances">
       »
 Multiple Resource Instances
      </a>
     </li>
     <li class="level-h2">
      <a href="#selecting-a-non-default-provider-configuration">
       »
 Selecting a Non-default Provider Configuration
      </a>
     </li>
     <li class="level-h2">
      <a href="#lifecycle-customizations">
       »
 Lifecycle Customizations
      </a>
     </li>
     <li class="level-h2">
      <a href="#example">
       »
 Example
      </a>
     </li>
     <li class="level-h2">
      <a href="#description">
       »
 Description
      </a>
     </li>
     <li class="level-h2">
      <a href="#meta-arguments">
       »
 Meta-Arguments
      </a>
     </li>
     <li class="level-h3">
      <a href="#non-default-provider-configurations">
       »
 Non-Default Provider Configurations
      </a>
     </li>
     <li class="level-h2">
      <a href="#data-source-lifecycle">
       »
 Data Source Lifecycle
      </a>
     </li>
    </ul>
   </div>
  </div>
  <p>
   <em>
    Data sources
   </em>
   allow data to be fetched or computed for use elsewhere
 in Terraform configuration. Use of data sources allows a Terraform
 configuration to make use of information defined outside of Terraform,
 or defined by another separate Terraform configuration.
  </p>
  <p>
   Each
   <a href="/docs/language/providers/index.html">
    provider
   </a>
   may offer data sources
 alongside its set of
   <a href="/docs/language/resources/index.html">
    resource
   </a>
   types.
  </p>
  <h2 id="using-data-sources">
   <a class="anchor" href="#using-data-sources" name="using-data-sources">
    »
   </a>
   Using Data Sources
  </h2>
  <p>
   A data source is accessed via a special kind of resource known as a
   <em>
    data resource
   </em>
   , declared using a
   <code>
    data
   </code>
   block:
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">data</span> <span class="s2">"aws_ami"</span> <span class="s2">"example"</span> <span class="p">{</span>
   <span class="n">most_recent</span> <span class="o">=</span> <span class="kp">true</span>
 
   <span class="n">owners</span> <span class="o">=</span> <span class="p">[</span><span class="s2">"self"</span><span class="p">]</span>
   <span class="n">tags</span> <span class="o">=</span> <span class="p">{</span>
     <span class="no">Name</span>   <span class="o">=</span> <span class="s2">"app-server"</span>
     <span class="no">Tested</span> <span class="o">=</span> <span class="s2">"true"</span>
   <span class="p">}</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <p>
   A
   <code>
    data
   </code>
   block requests that Terraform read from a given data source ("aws_ami")
 and export the result under the given local name ("example"). The name is used
 to refer to this resource from elsewhere in the same Terraform module, but has
 no significance outside of the scope of a module.
  </p>
  <p>
   The data source and name together serve as an identifier for a given
 resource and so must be unique within a module.
  </p>
  <p>
   Within the block body (between
   <code>
    {
   </code>
   and
   <code>
    }
   </code>
   ) are query constraints defined by
 the data source. Most arguments in this section depend on the
 data source, and indeed in this example
   <code>
    most_recent
   </code>
   ,
   <code>
    owners
   </code>
   and
   <code>
    tags
   </code>
   are
 all arguments defined specifically for
   <a href="https://registry.terraform.io/providers/hashicorp/aws/latest/docs/data-sources/ami">
    the
    <code>
     aws_ami
    </code>
    data source
   </a>
   .
  </p>
  <p>
   When distinguishing from data resources, the primary kind of resource (as declared
 by a
   <code>
    resource
   </code>
   block) is known as a
   <em>
    managed resource
   </em>
   . Both kinds of resources
 take arguments and export attributes for use in configuration, but while
 managed resources cause Terraform to create, update, and delete infrastructure
 objects, data resources cause Terraform only to
   <em>
    read
   </em>
   objects. For brevity,
 managed resources are often referred to just as "resources" when the meaning
 is clear from context.
  </p>
  <h2 id="data-source-arguments">
   <a class="anchor" href="#data-source-arguments" name="data-source-arguments">
    »
   </a>
   Data Source Arguments
  </h2>
  <p>
   Each data resource is associated with a single data source, which determines
 the kind of object (or objects) it reads and what query constraint arguments
 are available.
  </p>
  <p>
   Each data source in turn belongs to a
   <a href="/docs/language/providers/index.html">
    provider
   </a>
   ,
 which is a plugin for Terraform that offers a collection of resource types and
 data sources that most often belong to a single cloud or on-premises
 infrastructure platform.
  </p>
  <p>
   Most of the items within the body of a
   <code>
    data
   </code>
   block are defined by and
 specific to the selected data source, and these arguments can make full
 use of
   <a href="/docs/language/expressions/index.html">
    expressions
   </a>
   and other dynamic
 Terraform language features.
  </p>
  <p>
   However, there are some "meta-arguments" that are defined by Terraform itself
 and apply across all data sources. These arguments often have additional
 restrictions on what language features can be used with them, and are described
 in more detail in the following sections.
  </p>
  <h2 id="data-resource-behavior">
   <a class="anchor" href="#data-resource-behavior" name="data-resource-behavior">
    »
   </a>
   Data Resource Behavior
  </h2>
  <p>
   If the query constraint arguments for a data resource refer only to constant
 values or values that are already known, the data resource will be read and its
 state updated during Terraform's "refresh" phase, which runs prior to creating a plan.
 This ensures that the retrieved data is available for use during planning and
 so Terraform's plan will show the actual values obtained.
  </p>
  <p>
   Query constraint arguments may refer to values that cannot be determined until
 after configuration is applied, such as the id of a managed resource that has
 not been created yet. In this case, reading from the data source is deferred
 until the apply phase, and any references to the results of the data resource
 elsewhere in configuration will themselves be unknown until after the
 configuration has been applied.
  </p>
  <h2 id="local-only-data-sources">
   <a class="anchor" href="#local-only-data-sources" name="local-only-data-sources">
    »
   </a>
   Local-only Data Sources
  </h2>
  <p>
   While many data sources correspond to an infrastructure object type that
 is accessed via a remote network API, some specialized data sources operate
 only within Terraform itself, calculating some results and exposing them
 for use elsewhere.
  </p>
  <p>
   For example, local-only data sources exist for
   <a href="https://registry.terraform.io/providers/hashicorp/template/latest/docs/data-sources/file">
    rendering templates
   </a>
   ,
   <a href="https://registry.terraform.io/providers/hashicorp/local/latest/docs/data-sources/file">
    reading local files
   </a>
   , and
   <a href="https://registry.terraform.io/providers/hashicorp/aws/latest/docs/data-sources/iam_policy_document">
    rendering AWS IAM policies
   </a>
   .
  </p>
  <p>
   The behavior of local-only data sources is the same as all other data
 sources, but their result data exists only temporarily during a Terraform
 operation, and is re-calculated each time a new plan is created.
  </p>
  <h2 id="data-resource-dependencies">
   <a class="anchor" href="#data-resource-dependencies" name="data-resource-dependencies">
    »
   </a>
   Data Resource Dependencies
  </h2>
  <p>
   Data resources have the same dependency resolution behavior
   <a href="/docs/language/resources/behavior.html#resource-dependencies">
    as defined for managed resources
   </a>
   .
 Setting the
   <code>
    depends_on
   </code>
   meta-argument within
   <code>
    data
   </code>
   blocks defers reading of
 the data source until after all changes to the dependencies have been applied.
  </p>
  <div class="alert alert-warning" role="alert">
   <p>
    <strong>
     NOTE:
    </strong>
    <strong>
     In Terraform 0.12 and earlier
    </strong>
    , due to the data resource behavior of deferring the read until the apply phase when depending on values that are not yet known, using
    <code>
     depends_on
    </code>
    with
    <code>
     data
    </code>
    resources will force the read to always be deferred to the apply phase, and therefore a configuration that uses
    <code>
     depends_on
    </code>
    with a
    <code>
     data
    </code>
    resource can never converge. Due to this behavior, we do not recommend using
    <code>
     depends_on
    </code>
    with data resources.
   </p>
  </div>
  <h2 id="multiple-resource-instances">
   <a class="anchor" href="#multiple-resource-instances" name="multiple-resource-instances">
    »
   </a>
   Multiple Resource Instances
  </h2>
  <p>
   Data resources support
   <a href="/docs/language/meta-arguments/count.html">
    <code>
     count
    </code>
   </a>
   and
   <a href="/docs/language/meta-arguments/for_each.html">
    <code>
     for_each
    </code>
   </a>
   meta-arguments as defined for managed resources, with the same syntax and behavior.
  </p>
  <p>
   As with managed resources, when
   <code>
    count
   </code>
   or
   <code>
    for_each
   </code>
   is present it is important to
 distinguish the resource itself from the multiple resource
   <em>
    instances
   </em>
   it
 creates. Each instance will separately read from its data source with its
 own variant of the constraint arguments, producing an indexed result.
  </p>
  <h2 id="selecting-a-non-default-provider-configuration">
   <a class="anchor" href="#selecting-a-non-default-provider-configuration" name="selecting-a-non-default-provider-configuration">
    »
   </a>
   Selecting a Non-default Provider Configuration
  </h2>
  <p>
   Data resources support
   <a href="/docs/language/meta-arguments/resource-provider.html">
    the
    <code>
     provider
    </code>
    meta-argument
   </a>
   as defined for managed resources, with the same syntax and behavior.
  </p>
  <h2 id="lifecycle-customizations">
   <a class="anchor" href="#lifecycle-customizations" name="lifecycle-customizations">
    »
   </a>
   Lifecycle Customizations
  </h2>
  <p>
   Data resources do not currently have any customization settings available
 for their lifecycle, but the
   <code>
    lifecycle
   </code>
   nested block is reserved in case
 any are added in future versions.
  </p>
  <h2 id="example">
   <a class="anchor" href="#example" name="example">
    »
   </a>
   Example
  </h2>
  <p>
   A data source configuration looks like the following:
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="c1"># Find the latest available AMI that is tagged with Component = web</span>
 <span class="n">data</span> <span class="s2">"aws_ami"</span> <span class="s2">"web"</span> <span class="p">{</span>
   <span class="n">filter</span> <span class="p">{</span>
     <span class="nb">name</span>   <span class="o">=</span> <span class="s2">"state"</span>
     <span class="n">values</span> <span class="o">=</span> <span class="p">[</span><span class="s2">"available"</span><span class="p">]</span>
   <span class="p">}</span>
 
   <span class="n">filter</span> <span class="p">{</span>
     <span class="nb">name</span>   <span class="o">=</span> <span class="s2">"tag:Component"</span>
     <span class="n">values</span> <span class="o">=</span> <span class="p">[</span><span class="s2">"web"</span><span class="p">]</span>
   <span class="p">}</span>
 
   <span class="n">most_recent</span> <span class="o">=</span> <span class="kp">true</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <h2 id="description">
   <a class="anchor" href="#description" name="description">
    »
   </a>
   Description
  </h2>
  <p>
   The
   <code>
    data
   </code>
   block creates a data instance of the given
   <em>
    type
   </em>
   (first
 block label) and
   <em>
    name
   </em>
   (second block label). The combination of the type
 and name must be unique.
  </p>
  <p>
   Within the block (the
   <code>
    { }
   </code>
   ) is configuration for the data instance. The
 configuration is dependent on the type, and is documented for each
 data source in the
   <a href="/docs/providers/index.html">
    providers section
   </a>
   .
  </p>
  <p>
   Each data instance will export one or more attributes, which can be
 used in other resources as reference expressions of the form
   <code>
    data.&lt;TYPE&gt;.&lt;NAME&gt;.&lt;ATTRIBUTE&gt;
   </code>
   . For example:
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">resource</span> <span class="s2">"aws_instance"</span> <span class="s2">"web"</span> <span class="p">{</span>
   <span class="n">ami</span>           <span class="o">=</span> <span class="n">data</span><span class="p">.</span><span class="nf">aws_ami</span><span class="p">.</span><span class="nf">web</span><span class="p">.</span><span class="nf">id</span>
   <span class="n">instance_type</span> <span class="o">=</span> <span class="s2">"t1.micro"</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <h2 id="meta-arguments">
   <a class="anchor" href="#meta-arguments" name="meta-arguments">
    »
   </a>
   Meta-Arguments
  </h2>
  <p>
   As data sources are essentially a read only subset of resources, they also
 support the same
   <a href="/docs/language/resources/syntax.html#meta-arguments">
    meta-arguments
   </a>
   of resources
 with the exception of the
   <a href="/docs/language/meta-arguments/lifecycle.html">
    <code>
     lifecycle
    </code>
    configuration block
   </a>
   .
  </p>
  <h3 id="non-default-provider-configurations">
   <a class="anchor" href="#non-default-provider-configurations" name="non-default-provider-configurations">
    »
   </a>
   Non-Default Provider Configurations
  </h3>
  <p>
   Similarly to
   <a href="/docs/language/resources/index.html">
    resources
   </a>
   , when
 a module has multiple configurations for the same provider you can specify which
 configuration to use with the
   <code>
    provider
   </code>
   meta-argument:
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">data</span> <span class="s2">"aws_ami"</span> <span class="s2">"web"</span> <span class="p">{</span>
   <span class="n">provider</span> <span class="o">=</span> <span class="n">aws</span><span class="p">.</span><span class="nf">west</span>
 
   <span class="c1"># ...</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <p>
   See
   <a href="/docs/language/meta-arguments/resource-provider.html">
    The Resource
    <code>
     provider
    </code>
    Meta-Argument
   </a>
   for more information.
  </p>
  <h2 id="data-source-lifecycle">
   <a class="anchor" href="#data-source-lifecycle" name="data-source-lifecycle">
    »
   </a>
   Data Source Lifecycle
  </h2>
  <p>
   If the arguments of a data instance contain no references to computed values,
 such as attributes of resources that have not yet been created, then the
 data instance will be read and its state updated during Terraform's "refresh"
 phase, which by default runs prior to creating a plan. This ensures that the
 retrieved data is available for use during planning and the diff will show
 the real values obtained.
  </p>
  <p>
   Data instance arguments may refer to computed values, in which case the
 attributes of the instance itself cannot be resolved until all of its
 arguments are defined. In this case, refreshing the data instance will be
 deferred until the "apply" phase, and all interpolations of the data instance
 attributes will show as "computed" in the plan since the values are not yet
 known.
  </p>
 </div>
 
 <!-- ########### Providers : Provider Requirements ############### -->
 <!-- ########### https://www.terraform.io/docs/language/providers/index.html ############### --
 ><!-- ########### Providers : Provider Requirements ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="providers">
    <a class="anchor" href="#providers" name="providers">
     »
    </a>
    Providers
   </h1>
   <div id="inner-quicknav">
    <span id="inner-quicknav-trigger">
     Jump to Section
     <svg height="5" width="9" xmlns="http://www.w3.org/2000/svg">
      <path d="M8.811 1.067a.612.612 0 0 0 0-.884.655.655 0 0 0-.908 0L4.5 3.491 1.097.183a.655.655 0 0 0-.909 0 .615.615 0 0 0 0 .884l3.857 3.75a.655.655 0 0 0 .91 0l3.856-3.75z" fill-rule="evenodd">
      </path>
     </svg>
    </span>
    <ul class="dropdown">
     <li class="level-h2">
      <a href="#what-providers-do">
       »
 What Providers Do
      </a>
     </li>
     <li class="level-h2">
      <a href="#where-providers-come-from">
       »
 Where Providers Come From
      </a>
     </li>
     <li class="level-h2">
      <a href="#how-to-use-providers">
       »
 How to Use Providers
      </a>
     </li>
     <li class="level-h2">
      <a href="#provider-installation">
       »
 Provider Installation
      </a>
     </li>
     <li class="level-h2">
      <a href="#how-to-find-providers">
       »
 How to Find Providers
      </a>
     </li>
     <li class="level-h2">
      <a href="#how-to-develop-providers">
       »
 How to Develop Providers
      </a>
     </li>
    </ul>
   </div>
  </div>
  <p>
   Terraform relies on plugins called "providers" to interact with remote systems.
  </p>
  <p>
   Terraform configurations must declare which providers they require so that
 Terraform can install and use them. Additionally, some providers require
 configuration (like endpoint URLs or cloud regions) before they can be used.
  </p>
  <h2 id="what-providers-do">
   <a class="anchor" href="#what-providers-do" name="what-providers-do">
    »
   </a>
   What Providers Do
  </h2>
  <p>
   Each provider adds a set of
   <a href="/docs/language/resources/index.html">
    resource types
   </a>
   and/or
   <a href="/docs/language/data-sources/index.html">
    data sources
   </a>
   that Terraform can
 manage.
  </p>
  <p>
   Every resource type is implemented by a provider; without providers, Terraform
 can't manage any kind of infrastructure.
  </p>
  <p>
   Most providers configure a specific infrastructure platform (either cloud or
 self-hosted). Providers can also offer local utilities for tasks like
 generating random numbers for unique resource names.
  </p>
  <h2 id="where-providers-come-from">
   <a class="anchor" href="#where-providers-come-from" name="where-providers-come-from">
    »
   </a>
   Where Providers Come From
  </h2>
  <p>
   Providers are distributed separately from Terraform itself, and each provider
 has its own release cadence and version numbers.
  </p>
  <p>
   The
   <a href="https://registry.terraform.io/browse/providers">
    Terraform Registry
   </a>
   is the main directory of publicly available Terraform providers, and hosts
 providers for most major infrastructure platforms.
  </p>
  <h2 id="how-to-use-providers">
   <a class="anchor" href="#how-to-use-providers" name="how-to-use-providers">
    »
   </a>
   How to Use Providers
  </h2>
  <p>
   To use resources from a given provider, you need to include some information
 about it in your configuration. See the following pages for details:
  </p>
  <ul>
   <li>
    <p>
     <a href="/docs/language/providers/requirements.html">
      Provider Requirements
     </a>
     documents how to declare providers so Terraform can install them.
    </p>
   </li>
   <li>
    <p>
     <a href="/docs/language/providers/configuration.html">
      Provider Configuration
     </a>
     documents how to configure settings for providers.
    </p>
   </li>
   <li>
    <p>
     <a href="/docs/language/dependency-lock.html">
      Dependency Lock File
     </a>
     documents an additional HCL file that can be included with a configuration,
 which tells Terraform to always use a specific set of provider versions.
    </p>
   </li>
  </ul>
  <h2 id="provider-installation">
   <a class="anchor" href="#provider-installation" name="provider-installation">
    »
   </a>
   Provider Installation
  </h2>
  <ul>
   <li>
    <p>
     Terraform Cloud and Terraform Enterprise install providers as part of every run.
    </p>
   </li>
   <li>
    <p>
     Terraform CLI finds and installs providers when
     <a href="/docs/cli/init/index.html">
      initializing a working directory
     </a>
     . It can
 automatically download providers from a Terraform registry, or load them from
 a local mirror or cache. If you are using a persistent working directory, you
 must reinitialize whenever you change a configuration's providers.
    </p>
    <p>
     To save time and bandwidth, Terraform CLI supports an optional plugin
 cache. You can enable the cache using the
     <code>
      plugin_cache_dir
     </code>
     setting in
     <a href="/docs/cli/config/config-file.html">
      the CLI configuration file
     </a>
     .
    </p>
   </li>
  </ul>
  <p>
   To ensure Terraform always installs the same provider versions for a given
 configuration, you can use Terraform CLI to create a
   <a href="/docs/language/dependency-lock.html">
    dependency lock file
   </a>
   and commit it to version control along with your configuration. If a lock file
 is present, Terraform Cloud, CLI, and Enterprise will all obey it when
 installing providers.
  </p>
  <blockquote>
   <p>
    <strong>
     Hands-on:
    </strong>
    Try the
    <a href="https://learn.hashicorp.com/tutorials/terraform/provider-versioning?in=terraform/configuration-language&amp;utm_source=WEBSITE&amp;utm_medium=WEB_IO&amp;utm_offer=ARTICLE_PAGE&amp;utm_content=DOCS">
     Lock and Upgrade Provider Versions
    </a>
    tutorial on HashiCorp Learn.
   </p>
  </blockquote>
  <h2 id="how-to-find-providers">
   <a class="anchor" href="#how-to-find-providers" name="how-to-find-providers">
    »
   </a>
   How to Find Providers
  </h2>
  <p>
   To find providers for the infrastructure platforms you use, browse
   <a href="https://registry.terraform.io/browse/providers">
    the providers section of the Terraform Registry
   </a>
   .
  </p>
  <p>
   Some providers on the Registry are developed and published by HashiCorp, some
 are published by platform maintainers, and some are published by users and
 volunteers. The provider listings use the following badges to indicate who
 develops and maintains a given provider.
  </p>
  <table border="0" style="border-collapse: collapse; width: 100%;">
   <tbody>
    <tr style="height: 21px;">
     <td style="width: 12.4839%; height: 21px;">
      <strong>
       Tier
      </strong>
     </td>
     <td style="width: 55.7271%; height: 21px;">
      <strong>
       Description
      </strong>
     </td>
     <td style="width: 31.7889%; height: 21px;">
      <strong>
       Namespace
      </strong>
     </td>
    </tr>
    <tr style="height: 21px;">
     <td style="width: 12.4839%; height: 21px;">
      <img alt="" src="/docs/registry/providers/images/official-tier-eda30790.png"/>
     </td>
     <td style="width: 55.7271%; height: 21px;">
      <i>
       <span style="font-weight: 400;">
        Official providers are owned and maintained by HashiCorp
       </span>
      </i>
     </td>
     <td style="width: 31.7889%; height: 21px;">
      <code>
       <span style="font-weight: 400;">
        hashicorp
       </span>
      </code>
     </td>
    </tr>
    <tr style="height: 21px;">
     <td style="width: 12.4839%; height: 21px;">
      <img alt="" src="/docs/registry/providers/images/verified-tier-5bafc602.png"/>
     </td>
     <td style="width: 55.7271%; height: 21px;">
      <i>
       <span style="font-weight: 400;">
        Verified providers are owned and maintained by third-party technology partners. Providers in this tier indicate HashiCorp has verified the authenticity of the Provider’s publisher, and that the partner is a member of the
       </span>
      </i>
      <a href="https://www.hashicorp.com/ecosystem/become-a-partner/">
       <i>
        <span style="font-weight: 400;">
         HashiCorp Technology Partner Program
        </span>
       </i>
      </a>
      <i>
       <span style="font-weight: 400;">
        .
       </span>
      </i>
     </td>
     <td style="width: 31.7889%; height: 21px;">
      <span style="font-weight: 400;">
       Third-party organization, e.g.
      </span>
      <code>
       <span style="font-weight: 400;">
        mongodb/mongodbatlas
       </span>
      </code>
     </td>
    </tr>
    <tr style="height: 21px;">
     <td style="width: 12.4839%; height: 21px;">
      <img alt="" src="/docs/registry/providers/images/community-tier-be0acd74.png"/>
     </td>
     <td style="width: 55.7271%; height: 21px;">
      Community providers are published to the Terraform Registry by individual maintainers, groups of maintainers, or other members of the Terraform community.
     </td>
     <td style="width: 31.7889%; height: 21px;">
      <br/>
      Maintainer’s individual or organization account, e.g.
      <code>
       DeviaVir/gsuite
      </code>
     </td>
    </tr>
    <tr style="height: 21px;">
     <td style="width: 12.4839%; height: 21px;">
      <img alt="" src="/docs/registry/providers/images/archived-tier-3afb8a22.png"/>
     </td>
     <td style="width: 55.7271%; height: 21px;">
      Archived Providers are Official or Verified Providers that are no longer maintained by HashiCorp or the community. This may occur if an API is deprecated or interest was low.
     </td>
     <td style="width: 31.7889%; height: 21px;">
      <code>
       hashicorp
      </code>
      or third-party
     </td>
    </tr>
   </tbody>
  </table>
  <h2 id="how-to-develop-providers">
   <a class="anchor" href="#how-to-develop-providers" name="how-to-develop-providers">
    »
   </a>
   How to Develop Providers
  </h2>
  <p>
   Providers are written in Go, using the Terraform Plugin SDK. For more
 information on developing providers, see:
  </p>
  <ul>
   <li>
    The
    <a href="/docs/extend/index.html">
     Extending Terraform
    </a>
    documentation
   </li>
   <li>
    The
    <a href="https://learn.hashicorp.com/collections/terraform/providers?utm_source=WEBSITE&amp;utm_medium=WEB_IO&amp;utm_offer=ARTICLE_PAGE&amp;utm_content=DOCS">
     Call APIs with Terraform Providers
    </a>
    collection on HashiCorp Learn
   </li>
  </ul>
 </div>
 
 <!-- ########### Providers : Provider Configuration ############### -->
 <!-- ########### https://www.terraform.io/docs/language/providers/requirements.html ############### --
 ><!-- ########### Providers : Provider Configuration ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="provider-requirements">
    <a class="anchor" href="#provider-requirements" name="provider-requirements">
     »
    </a>
    Provider Requirements
   </h1>
   <div id="inner-quicknav">
    <span id="inner-quicknav-trigger">
     Jump to Section
     <svg height="5" width="9" xmlns="http://www.w3.org/2000/svg">
      <path d="M8.811 1.067a.612.612 0 0 0 0-.884.655.655 0 0 0-.908 0L4.5 3.491 1.097.183a.655.655 0 0 0-.909 0 .615.615 0 0 0 0 .884l3.857 3.75a.655.655 0 0 0 .91 0l3.856-3.75z" fill-rule="evenodd">
      </path>
     </svg>
    </span>
    <ul class="dropdown">
     <li class="level-h2">
      <a href="#requiring-providers">
       »
 Requiring Providers
      </a>
     </li>
     <li class="level-h2">
      <a href="#names-and-addresses">
       »
 Names and Addresses
      </a>
     </li>
     <li class="level-h3">
      <a href="#local-names">
       »
 Local Names
      </a>
     </li>
     <li class="level-h3">
      <a href="#source-addresses">
       »
 Source Addresses
      </a>
     </li>
     <li class="level-h3">
      <a href="#handling-local-name-conflicts">
       »
 Handling Local Name Conflicts
      </a>
     </li>
     <li class="level-h2">
      <a href="#version-constraints">
       »
 Version Constraints
      </a>
     </li>
     <li class="level-h3">
      <a href="#best-practices-for-provider-versions">
       »
 Best Practices for Provider Versions
      </a>
     </li>
     <li class="level-h2">
      <a href="#built-in-providers">
       »
 Built-in Providers
      </a>
     </li>
     <li class="level-h2">
      <a href="#in-house-providers">
       »
 In-house Providers
      </a>
     </li>
     <li class="level-h2">
      <a href="#v0-12-compatible-provider-requirements">
       »
 v0.12-Compatible Provider Requirements
      </a>
     </li>
    </ul>
   </div>
  </div>
  <div class="alert alert-info" role="alert">
   <p>
    <strong>
     Note:
    </strong>
    This page is about a feature of Terraform 0.13 and later; it also
 describes how to use the more limited version of that feature that was available
 in Terraform 0.12.
   </p>
  </div>
  <p>
   Terraform relies on plugins called "providers" to interact with remote systems.
  </p>
  <p>
   Terraform configurations must declare which providers they require, so that
 Terraform can install and use them. Additionally, some providers require
 configuration (like endpoint URLs or cloud regions) before they can be used.
  </p>
  <ul>
   <li>
    <p>
     This page documents how to declare providers so Terraform can install them.
    </p>
   </li>
   <li>
    <p>
     The
     <a href="/docs/language/providers/configuration.html">
      Provider Configuration
     </a>
     page documents how to configure
 settings for providers.
    </p>
   </li>
  </ul>
  <h2 id="requiring-providers">
   <a class="anchor" href="#requiring-providers" name="requiring-providers">
    »
   </a>
   Requiring Providers
  </h2>
  <p>
   Each Terraform module must declare which providers it requires, so that
 Terraform can install and use them. Provider requirements are declared in a
   <code>
    required_providers
   </code>
   block.
  </p>
  <p>
   A provider requirement consists of a local name, a source location, and a
 version constraint:
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">terraform</span> <span class="p">{</span>
   <span class="n">required_providers</span> <span class="p">{</span>
     <span class="n">mycloud</span> <span class="o">=</span> <span class="p">{</span>
       <span class="n">source</span>  <span class="o">=</span> <span class="s2">"mycorp/mycloud"</span>
       <span class="n">version</span> <span class="o">=</span> <span class="s2">"~&gt; 1.0"</span>
     <span class="p">}</span>
   <span class="p">}</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <p>
   The
   <code>
    required_providers
   </code>
   block must be nested inside the top-level
   <a href="/docs/language/settings/index.html">
    <code>
     terraform
    </code>
    block
   </a>
   (which can also contain other settings).
  </p>
  <p>
   Each argument in the
   <code>
    required_providers
   </code>
   block enables one provider. The key
 determines the provider's
   <a href="#local-names">
    local name
   </a>
   (its unique identifier
 within this module), and the value is an object with the following elements:
  </p>
  <ul>
   <li>
    <p>
     <a name="source">
     </a>
     <a href="#source">
      <code>
       source
      </code>
     </a>
     - the global
     <a href="#source-addresses">
      source address
     </a>
     for the
 provider you intend to use, such as
     <code>
      hashicorp/aws
     </code>
     .
    </p>
   </li>
   <li>
    <p>
     <a name="version">
     </a>
     <a href="#version">
      <code>
       version
      </code>
     </a>
     - a
     <a href="#version-constraints">
      version constraint
     </a>
     specifying
 which subset of available provider versions the module is compatible with.
    </p>
   </li>
  </ul>
  <div class="alert alert-info" role="alert">
   <p>
    <strong>
     Note:
    </strong>
    The
    <code>
     name = { source, version }
    </code>
    syntax for
    <code>
     required_providers
    </code>
    was added in Terraform v0.13. Previous versions of Terraform used a version
 constraint string instead of an object (like
    <code>
     mycloud = "~&gt; 1.0"
    </code>
    ), and had no
 way to specify provider source addresses. If you want to write a module that
 works with both Terraform v0.12 and v0.13, see
    <a href="#v0-12-compatible-provider-requirements">
     v0.12-Compatible Provider
 Requirements
    </a>
    below.
   </p>
  </div>
  <h2 id="names-and-addresses">
   <a class="anchor" href="#names-and-addresses" name="names-and-addresses">
    »
   </a>
   Names and Addresses
  </h2>
  <p>
   Each provider has two identifiers:
  </p>
  <ul>
   <li>
    A unique
    <em>
     source address,
    </em>
    which is only used when requiring a provider.
   </li>
   <li>
    A
    <em>
     local name,
    </em>
    which is used everywhere else in a Terraform module.
   </li>
  </ul>
  <div class="alert alert-info" role="alert">
   <p>
    <strong>
     Note:
    </strong>
    Prior to Terraform 0.13, providers only had local names, since
 Terraform could only automatically download providers distributed by HashiCorp.
   </p>
  </div>
  <h3 id="local-names">
   <a class="anchor" href="#local-names" name="local-names">
    »
   </a>
   Local Names
  </h3>
  <p>
   Local names are module-specific, and are assigned when requiring a provider.
 Local names must be unique per-module.
  </p>
  <p>
   Outside of the
   <code>
    required_providers
   </code>
   block, Terraform configurations always refer
 to providers by their local names. For example, the following configuration
 declares
   <code>
    mycloud
   </code>
   as the local name for
   <code>
    mycorp/mycloud
   </code>
   , then uses that local
 name when
   <a href="/docs/language/providers/configuration.html">
    configuring the provider
   </a>
   :
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">terraform</span> <span class="p">{</span>
   <span class="n">required_providers</span> <span class="p">{</span>
     <span class="n">mycloud</span> <span class="o">=</span> <span class="p">{</span>
       <span class="n">source</span>  <span class="o">=</span> <span class="s2">"mycorp/mycloud"</span>
       <span class="n">version</span> <span class="o">=</span> <span class="s2">"~&gt; 1.0"</span>
     <span class="p">}</span>
   <span class="p">}</span>
 <span class="p">}</span>
 
 <span class="n">provider</span> <span class="s2">"mycloud"</span> <span class="p">{</span>
   <span class="c1"># ...</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <p>
   Users of a provider can choose any local name for it. However, nearly every
 provider has a
   <em>
    preferred local name,
   </em>
   which it uses as a prefix for all of its
 resource types. (For example, resources from
   <code>
    hashicorp/aws
   </code>
   all begin with
   <code>
    aws
   </code>
   , like
   <code>
    aws_instance
   </code>
   or
   <code>
    aws_security_group
   </code>
   .)
  </p>
  <p>
   Whenever possible, you should use a provider's preferred local name. This makes
 your configurations easier to understand, and lets you omit the
   <code>
    provider
   </code>
   meta-argument from most of your resources. (If a resource doesn't specify which
 provider configuration to use, Terraform interprets the first word of the
 resource type as a local provider name.)
  </p>
  <h3 id="source-addresses">
   <a class="anchor" href="#source-addresses" name="source-addresses">
    »
   </a>
   Source Addresses
  </h3>
  <p>
   A provider's source address is its global identifier. It also specifies the
 primary location where Terraform can download it.
  </p>
  <p>
   Source addresses consist of three parts delimited by slashes (
   <code>
    /
   </code>
   ), as
 follows:
  </p>
  <p>
   <code>
    [&lt;HOSTNAME&gt;/]&lt;NAMESPACE&gt;/&lt;TYPE&gt;
   </code>
  </p>
  <ul>
   <li>
    <p>
     <strong>
      Hostname
     </strong>
     (optional): The hostname of the Terraform registry that
 distributes the provider. If omitted, this defaults to
     <code>
      registry.terraform.io
     </code>
     , the hostname of
     <a href="https://registry.terraform.io/">
      the public Terraform Registry
     </a>
     .
    </p>
   </li>
   <li>
    <p>
     <strong>
      Namespace:
     </strong>
     An organizational namespace within the specified registry.
 For the public Terraform Registry and for Terraform Cloud's private registry,
 this represents the organization that publishes the provider. This field
 may have other meanings for other registry hosts.
    </p>
   </li>
   <li>
    <p>
     <strong>
      Type:
     </strong>
     A short name for the platform or system the provider manages. Must
 be unique within a particular namespace on a particular registry host.
    </p>
    <p>
     The type is usually the provider's preferred local name. (There are
 exceptions; for example,
     <a href="https://registry.terraform.io/providers/hashicorp/google-beta/latest">
      <code>
       hashicorp/google-beta
      </code>
     </a>
     is an alternate release channel for
     <code>
      hashicorp/google
     </code>
     , so its preferred
 local name is
     <code>
      google
     </code>
     . If in doubt, check the provider's documentation.)
    </p>
   </li>
  </ul>
  <p>
   For example,
   <a href="https://registry.terraform.io/providers/hashicorp/http">
    the official HTTP provider
   </a>
   belongs to the
   <code>
    hashicorp
   </code>
   namespace on
   <code>
    registry.terraform.io
   </code>
   , so its
 source address is
   <code>
    registry.terraform.io/hashicorp/http
   </code>
   or, more commonly, just
   <code>
    hashicorp/http
   </code>
   .
  </p>
  <p>
   The source address with all three components given explicitly is called the
 provider's
   <em>
    fully-qualified address
   </em>
   . You will see fully-qualified address in
 various outputs, like error messages, but in most cases a simplified display
 version is used. This display version omits the source host when it is the
 public registry, so you may see the shortened version
   <code>
    "hashicorp/random"
   </code>
   instead
 of
   <code>
    "registry.terraform.io/hashicorp/random"
   </code>
   .
  </p>
  <div class="alert alert-info" role="alert">
   <p>
    <strong>
     Note:
    </strong>
    If you omit the
    <code>
     source
    </code>
    argument when requiring a provider,
 Terraform uses an implied source address of
    <code>
     registry.terraform.io/hashicorp/&lt;LOCAL NAME&gt;
    </code>
    . This is a backward compatibility
 feature to support the transition to Terraform 0.13; in modules that require
 0.13 or later, we recommend using explicit source addresses for all providers.
   </p>
  </div>
  <h3 id="handling-local-name-conflicts">
   <a class="anchor" href="#handling-local-name-conflicts" name="handling-local-name-conflicts">
    »
   </a>
   Handling Local Name Conflicts
  </h3>
  <p>
   Whenever possible, we recommend using a provider's preferred local name, which
 is usually the same as the "type" portion of its source address.
  </p>
  <p>
   However, it's sometimes necessary to use two providers with the same preferred
 local name in the same module, usually when the providers are named after a
 generic infrastructure type. Terraform requires unique local names for each
 provider in a module, so you'll need to use a non-preferred name for at least
 one of them.
  </p>
  <p>
   When this happens, we recommend combining each provider's namespace with
 its type name to produce compound local names with a dash:
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">terraform</span> <span class="p">{</span>
   <span class="n">required_providers</span> <span class="p">{</span>
     <span class="c1"># In the rare situation of using two providers that</span>
     <span class="c1"># have the same type name -- "http" in this example --</span>
     <span class="c1"># use a compound local name to distinguish them.</span>
     <span class="n">hashicorp</span><span class="o">-</span><span class="n">http</span> <span class="o">=</span> <span class="p">{</span>
       <span class="n">source</span>  <span class="o">=</span> <span class="s2">"hashicorp/http"</span>
       <span class="n">version</span> <span class="o">=</span> <span class="s2">"~&gt; 2.0"</span>
     <span class="p">}</span>
     <span class="n">mycorp</span><span class="o">-</span><span class="n">http</span> <span class="o">=</span> <span class="p">{</span>
       <span class="n">source</span>  <span class="o">=</span> <span class="s2">"mycorp/http"</span>
       <span class="n">version</span> <span class="o">=</span> <span class="s2">"~&gt; 1.0"</span>
     <span class="p">}</span>
   <span class="p">}</span>
 <span class="p">}</span>
 
 <span class="c1"># References to these providers elsewhere in the</span>
 <span class="c1"># module will use these compound local names.</span>
 <span class="n">provider</span> <span class="s2">"mycorp-http"</span> <span class="p">{</span>
   <span class="c1"># ...</span>
 <span class="p">}</span>
 
 <span class="n">data</span> <span class="s2">"http"</span> <span class="s2">"example"</span> <span class="p">{</span>
   <span class="n">provider</span> <span class="o">=</span> <span class="n">hashicorp</span><span class="o">-</span><span class="n">http</span>
   <span class="c1">#...</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <p>
   Terraform won't be able to guess either provider's name from its resource types,
 so you'll need to specify a
   <code>
    provider
   </code>
   meta-argument for every affected
 resource. However, readers and maintainers of your module will be able to easily
 understand what's happening, and avoiding confusion is much more important than
 avoiding typing.
  </p>
  <h2 id="version-constraints">
   <a class="anchor" href="#version-constraints" name="version-constraints">
    »
   </a>
   Version Constraints
  </h2>
  <p>
   Each provider plugin has its own set of available versions, allowing the
 functionality of the provider to evolve over time. Each provider dependency you
 declare should have a
   <a href="/docs/language/expressions/version-constraints.html">
    version constraint
   </a>
   given in
 the
   <code>
    version
   </code>
   argument so Terraform can select a single version per provider
 that all modules are compatible with.
  </p>
  <p>
   The
   <code>
    version
   </code>
   argument is optional; if omitted, Terraform will accept any
 version of the provider as compatible. However, we strongly recommend specifying
 a version constraint for every provider your module depends on.
  </p>
  <p>
   To ensure Terraform always installs the same provider versions for a given
 configuration, you can use Terraform CLI to create a
   <a href="/docs/language/dependency-lock.html">
    dependency lock file
   </a>
   and commit it to version control along with your configuration. If a lock file
 is present, Terraform Cloud, CLI, and Enterprise will all obey it when
 installing providers.
  </p>
  <blockquote>
   <p>
    <strong>
     Hands-on:
    </strong>
    Try the
    <a href="https://learn.hashicorp.com/tutorials/terraform/provider-versioning?in=terraform/configuration-language&amp;utm_source=WEBSITE&amp;utm_medium=WEB_IO&amp;utm_offer=ARTICLE_PAGE&amp;utm_content=DOCS">
     Lock and Upgrade Provider Versions
    </a>
    tutorial on HashiCorp Learn.
   </p>
  </blockquote>
  <h3 id="best-practices-for-provider-versions">
   <a class="anchor" href="#best-practices-for-provider-versions" name="best-practices-for-provider-versions">
    »
   </a>
   Best Practices for Provider Versions
  </h3>
  <p>
   Each module should at least declare the minimum provider version it is known
 to work with, using the
   <code>
    &gt;=
   </code>
   version constraint syntax:
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">terraform</span> <span class="p">{</span>
   <span class="n">required_providers</span> <span class="p">{</span>
     <span class="n">mycloud</span> <span class="o">=</span> <span class="p">{</span>
       <span class="n">source</span>  <span class="o">=</span> <span class="s2">"hashicorp/aws"</span>
       <span class="n">version</span> <span class="o">=</span> <span class="s2">"&gt;= 1.0"</span>
     <span class="p">}</span>
   <span class="p">}</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <p>
   A module intended to be used as the root of a configuration — that is, as the
 directory where you'd run
   <code>
    terraform apply
   </code>
   — should also specify the
   <em>
    maximum
   </em>
   provider version it is intended to work with, to avoid accidental
 upgrades to incompatible new versions. The
   <code>
    ~&gt;
   </code>
   operator is a convenient
 shorthand for allowing only patch releases within a specific minor release:
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">terraform</span> <span class="p">{</span>
   <span class="n">required_providers</span> <span class="p">{</span>
     <span class="n">mycloud</span> <span class="o">=</span> <span class="p">{</span>
       <span class="n">source</span>  <span class="o">=</span> <span class="s2">"hashicorp/aws"</span>
       <span class="n">version</span> <span class="o">=</span> <span class="s2">"~&gt; 1.0.4"</span>
     <span class="p">}</span>
   <span class="p">}</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <p>
   Do not use
   <code>
    ~&gt;
   </code>
   (or other maximum-version constraints) for modules you intend to
 reuse across many configurations, even if you know the module isn't compatible
 with certain newer versions. Doing so can sometimes prevent errors, but more
 often it forces users of the module to update many modules simultaneously when
 performing routine upgrades. Specify a minimum version, document any known
 incompatibilities, and let the root module manage the maximum version.
  </p>
  <h2 id="built-in-providers">
   <a class="anchor" href="#built-in-providers" name="built-in-providers">
    »
   </a>
   Built-in Providers
  </h2>
  <p>
   While most Terraform providers are distributed separately as plugins, there
 is currently one provider that is built in to Terraform itself, which
 provides
   <a href="/docs/language/state/remote-state-data.html">
    the
    <code>
     terraform_remote_state
    </code>
    data source
   </a>
   .
  </p>
  <p>
   Because this provider is built in to Terraform, you don't need to declare it
 in the
   <code>
    required_providers
   </code>
   block in order to use its features. However, for
 consistency it
   <em>
    does
   </em>
   have a special provider source address, which is
   <code>
    terraform.io/builtin/terraform
   </code>
   . This address may sometimes appear in
 Terraform's error messages and other output in order to unambiguously refer
 to the built-in provider, as opposed to a hypothetical third-party provider
 with the type name "terraform".
  </p>
  <p>
   There is also an existing provider with the source address
   <code>
    hashicorp/terraform
   </code>
   , which is an older version of the now-built-in provider
 that was used by older versions of Terraform.
   <code>
    hashicorp/terraform
   </code>
   is not
 compatible with Terraform v0.11 or later and should never be declared in a
   <code>
    required_providers
   </code>
   block.
  </p>
  <h2 id="in-house-providers">
   <a class="anchor" href="#in-house-providers" name="in-house-providers">
    »
   </a>
   In-house Providers
  </h2>
  <p>
   Anyone can develop and distribute their own Terraform providers. See
 the
   <a href="https://learn.hashicorp.com/collections/terraform/providers?utm_source=WEBSITE&amp;utm_medium=WEB_IO&amp;utm_offer=ARTICLE_PAGE&amp;utm_content=DOCS">
    Call APIs with Terraform Providers
   </a>
   collection on HashiCorp Learn for more
 about provider development.
  </p>
  <p>
   Some organizations develop their own providers to configure
 proprietary systems, and wish to use these providers from Terraform without
 publishing them on the public Terraform Registry.
  </p>
  <p>
   One option for distributing such a provider is to run an in-house
   <em>
    private
   </em>
   registry, by implementing
   <a href="/docs/internals/provider-registry-protocol.html">
    the provider registry protocol
   </a>
   .
  </p>
  <p>
   Running an additional service just to distribute a single provider internally
 may be undesirable, so Terraform also supports
   <a href="/docs/cli/config/config-file.html#provider-installation">
    other provider installation methods
   </a>
   ,
 including placing provider plugins directly in specific directories in the
 local filesystem, via
   <em>
    filesystem mirrors
   </em>
   .
  </p>
  <p>
   All providers must have a
   <a href="#source-addresses">
    source address
   </a>
   that includes
 (or implies) the hostname of a registry, but that hostname does not need to
 provide an actual registry service. For in-house providers that you intend to
 distribute from a local filesystem directory, you can use an arbitrary hostname
 in a domain your organization controls.
  </p>
  <p>
   For example, if your corporate domain were
   <code>
    example.com
   </code>
   then you might choose
 to use
   <code>
    terraform.example.com
   </code>
   as your placeholder hostname, even if that
 hostname doesn't actually resolve in DNS. You can then choose any namespace and
 type you wish to represent your in-house provider under that hostname, giving
 a source address like
   <code>
    terraform.example.com/examplecorp/ourcloud
   </code>
   :
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">terraform</span> <span class="p">{</span>
   <span class="n">required_providers</span> <span class="p">{</span>
     <span class="n">mycloud</span> <span class="o">=</span> <span class="p">{</span>
       <span class="n">source</span>  <span class="o">=</span> <span class="s2">"terraform.example.com/examplecorp/ourcloud"</span>
       <span class="n">version</span> <span class="o">=</span> <span class="s2">"&gt;= 1.0"</span>
     <span class="p">}</span>
   <span class="p">}</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <p>
   To make version 1.0.0 of this provider available for installation from the
 local filesystem, choose one of the
   <a href="/docs/cli/config/config-file.html#implied-local-mirror-directories">
    implied local mirror directories
   </a>
   and create a directory structure under it like this:
  </p>
  <div class="highlight">
   <pre class="highlight plaintext"><code>terraform.example.com/examplecorp/ourcloud/1.0.0
 </code></pre>
  </div>
  <p>
   Under that
   <code>
    1.0.0
   </code>
   directory, create one additional directory representing the
 platform where you are running Terraform, such as
   <code>
    linux_amd64
   </code>
   for Linux on
 an AMD64/x64 processor, and then place the provider plugin executable and any
 other needed files in that directory.
  </p>
  <p>
   Thus, on a Windows system, the provider plugin executable file might be at the
 following path:
  </p>
  <div class="highlight">
   <pre class="highlight plaintext"><code>terraform.example.com/examplecorp/ourcloud/1.0.0/windows_amd64/terraform-provider-ourcloud.exe
 </code></pre>
  </div>
  <p>
   If you later decide to switch to using a real private provider registry rather
 than distribute binaries out of band, you can deploy the registry server at
   <code>
    terraform.example.com
   </code>
   and retain the same namespace and type names, in which
 case your existing modules will require no changes to locate the same provider
 using your registry server.
  </p>
  <h2 id="v0-12-compatible-provider-requirements">
   <a class="anchor" href="#v0-12-compatible-provider-requirements" name="v0-12-compatible-provider-requirements">
    »
   </a>
   v0.12-Compatible Provider Requirements
  </h2>
  <p>
   Explicit provider source addresses were introduced with Terraform v0.13, so the
 full provider requirements syntax is not supported by Terraform v0.12.
  </p>
  <p>
   However, in order to allow writing modules that are compatible with both
 Terraform v0.12 and v0.13, versions of Terraform between v0.12.26 and v0.13
 will accept but ignore the
   <code>
    source
   </code>
   argument in a
   <code>
    required_providers
   </code>
   block.
  </p>
  <p>
   Consider the following example written for Terraform v0.13:
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">terraform</span> <span class="p">{</span>
   <span class="n">required_providers</span> <span class="p">{</span>
     <span class="n">aws</span> <span class="o">=</span> <span class="p">{</span>
       <span class="n">source</span>  <span class="o">=</span> <span class="s2">"hashicorp/aws"</span>
       <span class="n">version</span> <span class="o">=</span> <span class="s2">"~&gt; 1.0"</span>
     <span class="p">}</span>
   <span class="p">}</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <p>
   Terraform v0.12.26 will accept syntax like the above but will understand it
 in the same way as the following v0.12-style syntax:
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">terraform</span> <span class="p">{</span>
   <span class="n">required_providers</span> <span class="p">{</span>
     <span class="n">aws</span> <span class="o">=</span> <span class="s2">"~&gt; 1.0"</span>
   <span class="p">}</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <p>
   In other words, Terraform v0.12.26 ignores the
   <code>
    source
   </code>
   argument and considers
 only the
   <code>
    version
   </code>
   argument, using the given
   <a href="#local-names">
    local name
   </a>
   as the
 un-namespaced provider type to install.
  </p>
  <p>
   When writing a module that is compatible with both Terraform v0.12.26 and
 Terraform v0.13.0 or later, you must follow the following additional rules so
 that both versions will select the same provider to install:
  </p>
  <ul>
   <li>
    <p>
     Use only providers that can be automatically installed by Terraform v0.12.
 Third-party providers, such as community providers in the Terraform Registry,
 cannot be selected by Terraform v0.12 because it does not support the
 hierarchical source address namespace.
    </p>
   </li>
   <li>
    <p>
     Ensure that your chosen local name exactly matches the "type" portion of the
 source address given in the
     <code>
      source
     </code>
     argument, such as both being "aws" in
 the examples above, because Terraform v0.12 will use the local name to
 determine which provider plugin to download and install.
    </p>
   </li>
   <li>
    <p>
     If the provider belongs to the
     <code>
      hashicorp
     </code>
     namespace, as with the
     <code>
      hashicorp/aws
     </code>
     provider shown above, omit the
     <code>
      source
     </code>
     argument and allow
 Terraform v0.13 to select the
     <code>
      hashicorp
     </code>
     namespace by default.
    </p>
   </li>
   <li>
    <p>
     Provider type names must always be written in lowercase. Terraform v0.13
 treats provider source addresses as case-insensitive, but Terraform v0.12
 considers its legacy-style provider names to be case-sensitive. Using
 lowercase will ensure that the name is selectable by both Terraform major
 versions.
    </p>
   </li>
  </ul>
  <p>
   This compatibility mechanism is provided as a temporary transitional aid only.
 When Terraform v0.12 detects a use of the new
   <code>
    source
   </code>
   argument it doesn't
 understand, it will emit a warning to alert the user that it is disregarding
 the source address given in that argument.
  </p>
 </div>
 
 <!-- ########### Providers : Dependency Lock File ############### -->
 <!-- ########### https://www.terraform.io/docs/language/providers/configuration.html ############### --
 ><!-- ########### Providers : Dependency Lock File ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="provider-configuration">
    <a class="anchor" href="#provider-configuration" name="provider-configuration">
     »
    </a>
    Provider Configuration
   </h1>
   <div id="inner-quicknav">
    <span id="inner-quicknav-trigger">
     Jump to Section
     <svg height="5" width="9" xmlns="http://www.w3.org/2000/svg">
      <path d="M8.811 1.067a.612.612 0 0 0 0-.884.655.655 0 0 0-.908 0L4.5 3.491 1.097.183a.655.655 0 0 0-.909 0 .615.615 0 0 0 0 .884l3.857 3.75a.655.655 0 0 0 .91 0l3.856-3.75z" fill-rule="evenodd">
      </path>
     </svg>
    </span>
    <ul class="dropdown">
     <li class="level-h2">
      <a href="#provider-configuration-1">
       »
 Provider Configuration
      </a>
     </li>
     <li class="level-h2">
      <a href="#alias-multiple-provider-configurations">
       »
 alias: Multiple Provider Configurations
      </a>
     </li>
     <li class="level-h3">
      <a href="#default-provider-configurations">
       »
 Default Provider Configurations
      </a>
     </li>
     <li class="level-h3">
      <a href="#referring-to-alternate-provider-configurations">
       »
 Referring to Alternate Provider Configurations
      </a>
     </li>
     <li class="level-h3">
      <a href="#selecting-alternate-provider-configurations">
       »
 Selecting Alternate Provider Configurations
      </a>
     </li>
     <li class="level-h2">
      <a href="#version-an-older-way-to-manage-provider-versions">
       »
 version: An Older Way to Manage Provider Versions
      </a>
     </li>
    </ul>
   </div>
  </div>
  <p>
   Terraform relies on plugins called "providers" to interact with remote systems.
  </p>
  <p>
   Terraform configurations must declare which providers they require, so that
 Terraform can install and use them. Additionally, some providers require
 configuration (like endpoint URLs or cloud regions) before they can be used.
  </p>
  <ul>
   <li>
    <p>
     This page documents how to configure settings for providers.
    </p>
   </li>
   <li>
    <p>
     The
     <a href="/docs/language/providers/requirements.html">
      Provider Requirements
     </a>
     page documents how
 to declare providers so Terraform can install them.
    </p>
   </li>
  </ul>
  <h2 id="provider-configuration-1">
   <a class="anchor" href="#provider-configuration-1" name="provider-configuration-1">
    »
   </a>
   Provider Configuration
  </h2>
  <p>
   Provider configurations belong in the root module of a Terraform configuration.
 (Child modules receive their provider configurations from the root module; for
 more information, see
   <a href="/docs/language/meta-arguments/module-providers.html">
    The Module
    <code>
     providers
    </code>
    Meta-Argument
   </a>
   and
   <a href="/docs/language/modules/develop/providers.html">
    Module Development: Providers Within Modules
   </a>
   .)
  </p>
  <p>
   A provider configuration is created using a
   <code>
    provider
   </code>
   block:
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">provider</span> <span class="s2">"google"</span> <span class="p">{</span>
   <span class="n">project</span> <span class="o">=</span> <span class="s2">"acme-app"</span>
   <span class="n">region</span>  <span class="o">=</span> <span class="s2">"us-central1"</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <p>
   The name given in the block header (
   <code>
    "google"
   </code>
   in this example) is the
   <a href="/docs/language/providers/requirements.html#local-names">
    local name
   </a>
   of the provider to
 configure. This provider should already be included in a
   <code>
    required_providers
   </code>
   block.
  </p>
  <p>
   The body of the block (between
   <code>
    {
   </code>
   and
   <code>
    }
   </code>
   ) contains configuration arguments for
 the provider. Most arguments in this section are defined by the provider itself;
 in this example both
   <code>
    project
   </code>
   and
   <code>
    region
   </code>
   are specific to the
   <code>
    google
   </code>
   provider.
  </p>
  <p>
   You can use
   <a href="/docs/language/expressions/index.html">
    expressions
   </a>
   in the values of these
 configuration arguments, but can only reference values that are known before the
 configuration is applied. This means you can safely reference input variables,
 but not attributes exported by resources (with an exception for resource
 arguments that are specified directly in the configuration).
  </p>
  <p>
   A provider's documentation should list which configuration arguments it expects.
 For providers distributed on the
   <a href="https://registry.terraform.io">
    Terraform Registry
   </a>
   , versioned documentation is
 available on each provider's page, via the "Documentation" link in the
 provider's header.
  </p>
  <p>
   Some providers can use shell environment variables (or other alternate sources,
 like VM instance profiles) as values for some of their arguments; when
 available, we recommend using this as a way to keep credentials out of your
 version-controlled Terraform code.
  </p>
  <p>
   There are also two "meta-arguments" that are defined by Terraform itself
 and available for all
   <code>
    provider
   </code>
   blocks:
  </p>
  <ul>
   <li>
    <a href="#alias-multiple-provider-configurations">
     <code>
      alias
     </code>
     , for using the same provider with different configurations for different resources
    </a>
   </li>
   <li>
    <a href="#provider-versions">
     <code>
      version
     </code>
     , which we no longer recommend
    </a>
    (use
    <a href="/docs/language/providers/requirements.html">
     provider requirements
    </a>
    instead)
   </li>
  </ul>
  <p>
   Unlike many other objects in the Terraform language, a
   <code>
    provider
   </code>
   block may
 be omitted if its contents would otherwise be empty. Terraform assumes an
 empty default configuration for any provider that is not explicitly configured.
  </p>
  <h2 id="alias-multiple-provider-configurations">
   <a class="anchor" href="#alias-multiple-provider-configurations" name="alias-multiple-provider-configurations">
    »
   </a>
   <code>
    alias
   </code>
   : Multiple Provider Configurations
  </h2>
  <p>
   You can optionally define multiple configurations for the same provider, and
 select which one to use on a per-resource or per-module basis. The primary
 reason for this is to support multiple regions for a cloud platform; other
 examples include targeting multiple Docker hosts, multiple Consul hosts, etc.
  </p>
  <p>
   To create multiple configurations for a given provider, include multiple
   <code>
    provider
   </code>
   blocks with the same provider name. For each additional non-default
 configuration, use the
   <code>
    alias
   </code>
   meta-argument to provide an extra name segment.
 For example:
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="c1"># The default provider configuration; resources that begin with `aws_` will use</span>
 <span class="c1"># it as the default, and it can be referenced as `aws`.</span>
 <span class="n">provider</span> <span class="s2">"aws"</span> <span class="p">{</span>
   <span class="n">region</span> <span class="o">=</span> <span class="s2">"us-east-1"</span>
 <span class="p">}</span>
 
 <span class="c1"># Additional provider configuration for west coast region; resources can</span>
 <span class="c1"># reference this as `aws.west`.</span>
 <span class="n">provider</span> <span class="s2">"aws"</span> <span class="p">{</span>
   <span class="k">alias</span>  <span class="o">=</span> <span class="s2">"west"</span>
   <span class="n">region</span> <span class="o">=</span> <span class="s2">"us-west-2"</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <h3 id="default-provider-configurations">
   <a class="anchor" href="#default-provider-configurations" name="default-provider-configurations">
    »
   </a>
   Default Provider Configurations
  </h3>
  <p>
   A
   <code>
    provider
   </code>
   block without an
   <code>
    alias
   </code>
   argument is the
   <em>
    default
   </em>
   configuration
 for that provider. Resources that don't set the
   <code>
    provider
   </code>
   meta-argument will
 use the default provider configuration that matches the first word of the
 resource type name. (For example, an
   <code>
    aws_instance
   </code>
   resource uses the default
   <code>
    aws
   </code>
   provider configuration unless otherwise stated.)
  </p>
  <p>
   If every explicit configuration of a provider has an alias, Terraform uses the
 implied empty configuration as that provider's default configuration. (If the
 provider has any required configuration arguments, Terraform will raise an error
 when resources default to the empty configuration.)
  </p>
  <h3 id="referring-to-alternate-provider-configurations">
   <a class="anchor" href="#referring-to-alternate-provider-configurations" name="referring-to-alternate-provider-configurations">
    »
   </a>
   Referring to Alternate Provider Configurations
  </h3>
  <p>
   When Terraform needs the name of a provider configuration, it expects a
 reference of the form
   <code>
    &lt;PROVIDER NAME&gt;.&lt;ALIAS&gt;
   </code>
   . In the example above,
   <code>
    aws.west
   </code>
   would refer to the provider with the
   <code>
    us-west-2
   </code>
   region.
  </p>
  <p>
   These references are special expressions. Like references to other named
 entities (for example,
   <code>
    var.image_id
   </code>
   ), they aren't strings and don't need to be
 quoted. But they are only valid in specific meta-arguments of
   <code>
    resource
   </code>
   ,
   <code>
    data
   </code>
   , and
   <code>
    module
   </code>
   blocks, and can't be used in arbitrary expressions.
  </p>
  <h3 id="selecting-alternate-provider-configurations">
   <a class="anchor" href="#selecting-alternate-provider-configurations" name="selecting-alternate-provider-configurations">
    »
   </a>
   Selecting Alternate Provider Configurations
  </h3>
  <p>
   By default, resources use a default provider configuration (one without an
   <code>
    alias
   </code>
   argument) inferred from the first word of the resource type name.
  </p>
  <p>
   To use an alternate provider configuration for a resource or data source, set
 its
   <code>
    provider
   </code>
   meta-argument to a
   <code>
    &lt;PROVIDER NAME&gt;.&lt;ALIAS&gt;
   </code>
   reference:
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">resource</span> <span class="s2">"aws_instance"</span> <span class="s2">"foo"</span> <span class="p">{</span>
   <span class="n">provider</span> <span class="o">=</span> <span class="n">aws</span><span class="p">.</span><span class="nf">west</span>
 
   <span class="c1"># ...</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <p>
   To select alternate provider configurations for a child module, use its
   <code>
    providers
   </code>
   meta-argument to specify which provider configurations should be
 mapped to which local provider names inside the module:
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">module</span> <span class="s2">"aws_vpc"</span> <span class="p">{</span>
   <span class="n">source</span> <span class="o">=</span> <span class="s2">"./aws_vpc"</span>
   <span class="n">providers</span> <span class="o">=</span> <span class="p">{</span>
     <span class="n">aws</span> <span class="o">=</span> <span class="n">aws</span><span class="p">.</span><span class="nf">west</span>
   <span class="p">}</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <p>
   Modules have some special requirements when passing in providers; see
   <a href="/docs/language/meta-arguments/module-providers.html">
    The Module
    <code>
     providers
    </code>
    Meta-Argument
   </a>
   for more details. In most cases, only
   <em>
    root modules
   </em>
   should define provider
 configurations, with all child modules obtaining their provider configurations
 from their parents.
  </p>
  <p>
   <a id="provider-versions">
   </a>
  </p>
  <h2 id="version-an-older-way-to-manage-provider-versions">
   <a class="anchor" href="#version-an-older-way-to-manage-provider-versions" name="version-an-older-way-to-manage-provider-versions">
    »
   </a>
   <code>
    version
   </code>
   : An Older Way to Manage Provider Versions
  </h2>
  <p>
   The
   <code>
    version
   </code>
   meta-argument specifies a version constraint for a provider, and
 works the same way as the
   <code>
    version
   </code>
   argument in a
   <a href="/docs/language/providers/requirements.html">
    <code>
     required_providers
    </code>
    block
   </a>
   . The version
 constraint in a provider configuration is only used if
   <code>
    required_providers
   </code>
   does not include one for that provider.
  </p>
  <p>
   <strong>
    The
    <code>
     version
    </code>
    argument in provider configurations is deprecated.
   </strong>
   In Terraform 0.13 and later, version constraints should always be declared in
   <a href="/docs/language/providers/requirements.html">
    the
    <code>
     required_providers
    </code>
    block
   </a>
   . The
   <code>
    version
   </code>
   argument will be removed in a future version of Terraform.
  </p>
  <div class="alert alert-info" role="alert">
   <p>
    <strong>
     Note:
    </strong>
    The
    <code>
     version
    </code>
    meta-argument made sense before Terraform 0.13, since
 Terraform could only install providers that were distributed by HashiCorp. Now
 that Terraform can install providers from multiple sources, it makes more sense
 to keep version constraints and provider source addresses together.
   </p>
  </div>
 </div>
 
 <!-- ########### Variables and Outputs : Overview ############### -->
 <!-- ########### https://www.terraform.io/docs/language/dependency-lock.html ############### --
 ><!-- ########### Variables and Outputs : Overview ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="dependency-lock-file">
    <a class="anchor" href="#dependency-lock-file" name="dependency-lock-file">
     »
    </a>
    Dependency Lock File
   </h1>
   <div id="inner-quicknav">
    <span id="inner-quicknav-trigger">
     Jump to Section
     <svg height="5" width="9" xmlns="http://www.w3.org/2000/svg">
      <path d="M8.811 1.067a.612.612 0 0 0 0-.884.655.655 0 0 0-.908 0L4.5 3.491 1.097.183a.655.655 0 0 0-.909 0 .615.615 0 0 0 0 .884l3.857 3.75a.655.655 0 0 0 .91 0l3.856-3.75z" fill-rule="evenodd">
      </path>
     </svg>
    </span>
    <ul class="dropdown">
     <li class="level-h2">
      <a href="#lock-file-location">
       »
 Lock File Location
      </a>
     </li>
     <li class="level-h2">
      <a href="#dependency-installation-behavior">
       »
 Dependency Installation Behavior
      </a>
     </li>
     <li class="level-h3">
      <a href="#checksum-verification">
       »
 Checksum verification
      </a>
     </li>
     <li class="level-h2">
      <a href="#understanding-lock-file-changes">
       »
 Understanding Lock File Changes
      </a>
     </li>
     <li class="level-h3">
      <a href="#dependency-on-a-new-provider">
       »
 Dependency on a new provider
      </a>
     </li>
     <li class="level-h3">
      <a href="#new-version-of-an-existing-provider">
       »
 New version of an existing provider
      </a>
     </li>
     <li class="level-h3">
      <a href="#new-provider-package-checksums">
       »
 New provider package checksums
      </a>
     </li>
    </ul>
   </div>
  </div>
  <div class="alert alert-info" role="alert">
   <p>
    <strong>
     Note:
    </strong>
    This page is about a feature of Terraform 0.14 and later. Prior
 versions of Terraform did not track dependency selections at all, so the
 information here is not relevant to those versions.
   </p>
  </div>
  <blockquote>
   <p>
    <strong>
     Hands-on:
    </strong>
    Try the
    <a href="https://learn.hashicorp.com/tutorials/terraform/provider-versioning?in=terraform/configuration-language&amp;utm_source=WEBSITE&amp;utm_medium=WEB_IO&amp;utm_offer=ARTICLE_PAGE&amp;utm_content=DOCS">
     Lock and Upgrade Provider Versions
    </a>
    tutorial on HashiCorp Learn.
   </p>
  </blockquote>
  <p>
   A Terraform configuration may refer to two different kinds of external
 dependency that come from outside of its own codebase:
  </p>
  <ul>
   <li>
    <a href="/docs/language/providers/requirements.html">
     Providers
    </a>
    , which are plugins for Terraform
 that extend it with support for interacting with various external systems.
   </li>
   <li>
    <a href="/docs/language/modules/index.html">
     Modules
    </a>
    , which allow
 splitting out groups of Terraform configuration constructs (written in the
 Terraform language) into reusable abstractions.
   </li>
  </ul>
  <p>
   Both of these dependency types can be published and updated independently from
 Terraform itself and from the configurations that depend on them. For that
 reason, Terraform must determine which versions of those dependencies are
 potentially compatible with the current configuration and which versions are
 currently selected for use.
  </p>
  <p>
   <a href="/docs/language/expressions/version-constraints.html">
    Version constraints
   </a>
   within the configuration
 itself determine which versions of dependencies are
   <em>
    potentially
   </em>
   compatible,
 but after selecting a specific version of each dependency Terraform remembers
 the decisions it made in a
   <em>
    dependency lock file
   </em>
   so that it can (by default)
 make the same decisions again in future.
  </p>
  <p>
   At present, the dependency lock file tracks only
   <em>
    provider
   </em>
   dependencies.
 Terraform does not remember version selections for remote modules, and so
 Terraform will always select the newest available module version that meets
 the specified version constraints. You can use an
   <em>
    exact
   </em>
   version constraint
 to ensure that Terraform will always select the same module version.
  </p>
  <h2 id="lock-file-location">
   <a class="anchor" href="#lock-file-location" name="lock-file-location">
    »
   </a>
   Lock File Location
  </h2>
  <p>
   The dependency lock file is a file that belongs to the configuration as a
 whole, rather than to each separate module in the configuration. For that reason
 Terraform creates it and expects to find it in your current working directory
 when you run Terraform, which is also the directory containing the
   <code>
    .tf
   </code>
   files
 for the root module of your configuration.
  </p>
  <p>
   The lock file is always named
   <code>
    .terraform.lock.hcl
   </code>
   , and this name is intended
 to signify that it is a lock file for various items that Terraform caches in
 the
   <code>
    .terraform
   </code>
   subdirectory of your working directory.
  </p>
  <p>
   Terraform automatically creates or updates the dependency lock file each time
 you run
   <a href="/docs/cli/commands/init.html">
    the
    <code>
     terraform init
    </code>
    command
   </a>
   . You should
 include this file in your version control repository so that you can discuss
 potential changes to your external dependencies via code review, just as you
 would discuss potential changes to your configuration itself.
  </p>
  <p>
   The dependency lock file uses the same low-level syntax as the main Terraform
 language, but the dependency lock file is not itself a Terraform language
 configuration file. It is named with the suffix
   <code>
    .hcl
   </code>
   instead of
   <code>
    .tf
   </code>
   in
 order to signify that difference.
  </p>
  <h2 id="dependency-installation-behavior">
   <a class="anchor" href="#dependency-installation-behavior" name="dependency-installation-behavior">
    »
   </a>
   Dependency Installation Behavior
  </h2>
  <p>
   When
   <code>
    terraform init
   </code>
   is working on installing all of the providers needed for
 a configuration, Terraform considers both the version constraints in the
 configuration
   <em>
    and
   </em>
   the version selections recorded in the lock file.
  </p>
  <p>
   If a particular provider has no existing recorded selection, Terraform will
 select the newest available version that matches the given version constraint,
 and then update the lock file to include that selection.
  </p>
  <p>
   If a particular provider already has a selection recorded in the lock file,
 Terraform will always re-select that version for installation, even if a
 newer version has become available. You can override that behavior by adding
 the
   <code>
    -upgrade
   </code>
   option when you run
   <code>
    terraform init
   </code>
   , in which case Terraform
 will disregard the existing selections and once again select the newest
 available version matching the version constraint.
  </p>
  <p>
   If a particular
   <code>
    terraform init
   </code>
   call makes changes to the lock file, Terraform
 will mention that as part of its output:
  </p>
  <div class="highlight">
   <pre class="highlight plaintext"><code>Terraform has made some changes to the provider dependency selections recorded
 in the .terraform.lock.hcl file. Review those changes and commit them to your
 version control system if they represent changes you intended to make.
 </code></pre>
  </div>
  <p>
   When you see this message, you can use your version control system to
   <a href="#understanding-lock-file-changes">
    review the changes Terraform has proposed in the file
   </a>
   ,
 and if they represent changes you made intentionally you can send the change
 through your team's usual code review process.
  </p>
  <h3 id="checksum-verification">
   <a class="anchor" href="#checksum-verification" name="checksum-verification">
    »
   </a>
   Checksum verification
  </h3>
  <p>
   Terraform will also verify that each package it installs matches at least one
 of the checksums it previously recorded in the lock file, if any, returning an
 error if none of the checksums match:
  </p>
  <div class="highlight">
   <pre class="highlight plaintext"><code>Error: Failed to install provider
 
 Error while installing hashicorp/azurerm v2.1.0: the current package for
 registry.terraform.io/hashicorp/azurerm 2.1.0 doesn't match any of the
 checksums previously recorded in the dependency lock file.
 </code></pre>
  </div>
  <p>
   This checksum verification is intended to represent a
   <em>
    <a href="https://en.wikipedia.org/wiki/Trust_on_first_use">
     trust on first use
    </a>
   </em>
   approach. When you add a new provider for the first time you can verify it
 in whatever way you choose or any way you are required to by relevant
 regulations, and then trust that Terraform will raise an error if a future
 run of
   <code>
    terraform init
   </code>
   encounters a non-matching package for the same
 provider version.
  </p>
  <p>
   There are two special considerations with the "trust on first use" model:
  </p>
  <ul>
   <li>
    <p>
     If you install a provider from an origin registry which provides checksums
 that are signed with a cryptographic signature, Terraform will treat all
 of the signed checksums as valid as long as one checksum matches. The lock
 file will therefore include checksums for both the package you installed for
 your current platform
     <em>
      and
     </em>
     any other packages that might be available for
 other platforms.
    </p>
    <p>
     In this case, the
     <code>
      terraform init
     </code>
     output will include the fingerprint of
 the key that signed the checksums, with a message like
     <code>
      (signed by a HashiCorp partner, key ID DC9FC6B1FCE47986)
     </code>
     . You may wish to
 confirm that you trust the holder of the given key before committing the
 lock file containing the signed checksums, or to retrieve and verify the
 full set of available packages for the given provider version.
    </p>
   </li>
   <li>
    <p>
     If you install a provider for the first time using an alternative
 installation method, such as a filesystem or network mirror, Terraform will
 not be able to verify the checksums for any platform other than the one
 where you ran
     <code>
      terraform init
     </code>
     , and so it will not record the checksums
 for other platforms and so the configuration will not be usable on any other
 platform.
    </p>
    <p>
     To avoid this problem you can pre-populate checksums for a variety of
 different platforms in your lock file using
     <a href="/docs/cli/commands/providers/lock.html">
      the
      <code>
       terraform providers lock
      </code>
      command
     </a>
     ,
 which will then allow future calls to
     <code>
      terraform init
     </code>
     to verify that the
 packages available in your chosen mirror match the official packages from
 the provider's origin registry.
    </p>
   </li>
  </ul>
  <h2 id="understanding-lock-file-changes">
   <a class="anchor" href="#understanding-lock-file-changes" name="understanding-lock-file-changes">
    »
   </a>
   Understanding Lock File Changes
  </h2>
  <p>
   Because the dependency lock file is primarily maintained automatically by
 Terraform itself, rather than being updated manually by you or your team,
 your version control system may show you that the file has changed.
  </p>
  <p>
   There are a few different types of changes that Terraform can potentially make
 to your lock file, which you may need to understand in order to review the
 propsed changes. The following sections will describe these common situations.
  </p>
  <h3 id="dependency-on-a-new-provider">
   <a class="anchor" href="#dependency-on-a-new-provider" name="dependency-on-a-new-provider">
    »
   </a>
   Dependency on a new provider
  </h3>
  <p>
   If you add a new entry to the
   <a href="/docs/language/providers/requirements.html">
    provider requirements
   </a>
   for any module in your
 configuration, or if you add an external module that includes a new provider
 dependency itself,
   <code>
    terraform init
   </code>
   will respond to that by selecting the
 newest version of that provider which meets all of the version constraints
 in the configuration, and it will record its decision as a new
   <code>
    provider
   </code>
   block in the dependency lock file.
  </p>
  <div class="highlight">
   <pre class="highlight diff"><code><span class="gd">--- .terraform.lock.hcl 2020-10-07 16:12:07.539570634 -0700
 </span><span class="gi">+++ .terraform.lock.hcl 2020-10-07 16:12:15.267487237 -0700
 </span><span class="p">@@ -6,6 +6,26 @@</span>
    ]
  }
 
 +provider "registry.terraform.io/hashicorp/azurerm" {
 <span class="gi">+  version     = "2.30.0"
 +  constraints = "~&gt; 2.12"
 +  hashes = [
 +    "h1:FJwsuowaG5CIdZ0WQyFZH9r6kIJeRKts9+GcRsTz1+Y=",
 +    "h1:c/ntSXrDYM1mUir2KufijYebPcwKqS9CRGd3duDSGfY=",
 +    "h1:yre4Ph76g9H84MbuhZ2z5MuldjSA4FsrX6538O7PCcY=",
 +    "zh:04f0a50bb2ba92f3bea6f0a9e549ace5a4c13ef0cbb6975494cac0ef7d4acb43",
 +    "zh:2082e12548ebcdd6fd73580e83f626ed4ed13f8cdfd51205d8696ffe54f30734",
 +    "zh:246bcc449e9a92679fb30f3c0a77f05513886565e2dcc66b16c4486f51533064",
 +    "zh:24de3930625ac9014594d79bfa42d600eca65e9022b9668b54bfd0d924e21d14",
 +    "zh:2a22893a576ff6f268d9bf81cf4a56406f7ba79f77826f6df51ee787f6d2840a",
 +    "zh:2b27485e19c2aaa9f15f29c4cff46154a9720647610171e30fc6c18ddc42ec28",
 +    "zh:435f24ce1fb2b63f7f02aa3c84ac29c5757cd29ec4d297ed0618423387fe7bd4",
 +    "zh:7d99725923de5240ff8b34b5510569aa4ebdc0bdb27b7bac2aa911a8037a3893",
 +    "zh:7e3b5d0af3b7411dd9dc65ec9ab6caee8c191aee0fa7f20fc4f51716e67f50c0",
 +    "zh:da0af4552bef5a29b88f6a0718253f3bf71ce471c959816eb7602b0dadb469ca",
 +  ]
 +}
 +
 </span> provider "registry.terraform.io/newrelic/newrelic" {
    version     = "2.1.2"
    constraints = "~&gt; 2.1.1"
 </code></pre>
  </div>
  <p>
   The new lock file entry records several pieces of information:
  </p>
  <ul>
   <li>
    <a name="version">
    </a>
    <a href="#version">
     <code>
      version
     </code>
    </a>
    : the exact version that Terraform selected based on the version
 constraints in the configuration.
   </li>
   <li>
    <a name="constraints">
    </a>
    <a href="#constraints">
     <code>
      constraints
     </code>
    </a>
    : all of the version constraints that Terraform considered when
 making this selection. (Terraform doesn't actually use this information to
 make installation decisions, but includes it to help explain to human readers
 how the previous decision was made.)
   </li>
   <li>
    <a name="hashes">
    </a>
    <a href="#hashes">
     <code>
      hashes
     </code>
    </a>
    : a number of checksums that are all considered to be valid for
 packages implementing the selected version of this provider on different
 platforms. The meaning of these hashes is explained more under
    <em>
     <a href="#new-provider-package-checksums">
      New provider package checksums
     </a>
    </em>
    below.
   </li>
  </ul>
  <h3 id="new-version-of-an-existing-provider">
   <a class="anchor" href="#new-version-of-an-existing-provider" name="new-version-of-an-existing-provider">
    »
   </a>
   New version of an existing provider
  </h3>
  <p>
   If you run
   <code>
    terraform init -upgrade
   </code>
   to ask Terraform to consider newer provider
 versions that still match the configured version constraints, Terraform may
 then select a newer version for a provider and update its existing
   <code>
    provider
   </code>
   block to reflect that change.
  </p>
  <div class="highlight">
   <pre class="highlight diff"><code><span class="gd">--- .terraform.lock.hcl 2020-10-07 16:44:25.819579509 -0700
 </span><span class="gi">+++ .terraform.lock.hcl 2020-10-07 16:43:42.785665945 -0700
 </span><span class="p">@@ -7,22 +7,22 @@</span>
  }
 
  provider "registry.terraform.io/hashicorp/azurerm" {
 <span class="gd">-  version     = "2.1.0"
 -  constraints = "~&gt; 2.1.0"
 </span><span class="gi">+  version     = "2.0.0"
 +  constraints = "2.0.0"
 </span>   hashes      = [
 <span class="gd">-    "h1:EOJImaEaVThWasdqnJjfYc6/P8N/MRAq1J7avx5ZbV4=",
 -    "zh:0015b491cf9151235e57e35ea6b89381098e61bd923f56dffc86026d58748880",
 -    "zh:4c5682ba1e0fc7e2e602d3f103af1638f868c31fe80cc1a884a97f6dad6e1c11",
 -    "zh:57bac885b108c91ade4a41590062309c832c9ab6bf6a68046161636fcaef1499",
 -    "zh:5810d48f574c0e363c969b3f45276369c8f0a35b34d6202fdfceb7b85b3ac597",
 -    "zh:5c6e37a44462b8662cf9bdd29ce30523712a45c27c5d4711738705be0785db41",
 -    "zh:64548940a3387aa3a752e709ee9eb9982fa820fe60eb60e5f212cc1d2c58549e",
 -    "zh:7f46749163da17330bbb5293dc825333c86304baa0a7c6256650ac536b4567c8",
 -    "zh:8f8970f2df75ac43ffdd112055ee069d8bd1030f7eb4367cc4cf494a1fa802c3",
 -    "zh:9ad693d00dc5d7d455d06faba70e716bce727c6706f7293288e87fd7956b8fe0",
 -    "zh:b6e3cb55e6aec62b47edd0d2bd5e14bd6a2bcfdac65930a6e9e819934734c57b",
 -    "zh:d6a3f3b9b05c28ecf3919e9e7afa185805a6d7442fc4b3eedba749c2731d1f0e",
 -    "zh:d81fb624a357c57c7ea457ce543d865b39b12f26c2edd58a2f7cd43326c91010",
 </span><span class="gi">+    "h1:bigGXBoRbp7dv79bEEn+aaju8575qEXHQ57XHVPJeB8=",
 +    "zh:09c603c8904ca4a5bc19e82335afbc2837dcc4bee81e395f9daccef2f2cba1c8",
 +    "zh:194a919d4836d6c6d4ce598d0c66cce00ddc0d0b5c40d01bb32789964d818b42",
 +    "zh:1f269627df4e266c4e0ef9ee2486534caa3c8bea91a201feda4bca525005aa0a",
 +    "zh:2bae3071bd5f8e553355c4b3a547d6efe1774a828142b762e9a4e85f79be7f63",
 +    "zh:6c98dfa5c3468e8d02e2b3af7c4a8a14a5d469ce5a642909643b413a17ca338b",
 +    "zh:7af78f61666fd45fbf428161c061ea2623162d601b79dc71d6a5158756853ffa",
 +    "zh:883c2df86ae9ba2a5c167cf5c2c7deca0239171a224d6d335f0fd6dd9c283830",
 +    "zh:a2028379078577d8ff5ecfca6e8a8b25a25ffb1686de0ee52a7fe8011783488b",
 +    "zh:abe6ef399552fd3861a454a839cd978c1d15735658fdc00f9054435aff0f4620",
 +    "zh:c30b1bf14077913c3cdf34979b1434dbb1353cb5995eb3956b191c50538b64a9",
 +    "zh:ca64ae2ad9793e5631e3b0b9327f7cb22cb5d8e9de57be7d85821791b1d5a375",
 +    "zh:fffe56904a38109bb8d613b02808a177c3ddfac19f03b3aac799281fea38f475",
 </span>   ]
  }
 </code></pre>
  </div>
  <p>
   The primary effect of selecting a new provider version is to change the
 value of
   <code>
    version
   </code>
   in the
   <code>
    provider
   </code>
   block. If the upgrade came along with
 a change to the configured version constraints, Terraform will also record
 that change in the
   <code>
    constraints
   </code>
   value.
  </p>
  <p>
   Because each version has its own set of distribution packages, switching to
 a new version will also tend to replace all of the values in
   <code>
    hashes
   </code>
   , to
 reflect the checksums of the packages for the new version.
  </p>
  <h3 id="new-provider-package-checksums">
   <a class="anchor" href="#new-provider-package-checksums" name="new-provider-package-checksums">
    »
   </a>
   New provider package checksums
  </h3>
  <p>
   A more subtle change you may see in a
   <code>
    provider
   </code>
   block is the addition of
 new checksums that were not previously recorded, even though nothing else
 in the
   <code>
    provider
   </code>
   block has changed:
  </p>
  <div class="highlight">
   <pre class="highlight diff"><code><span class="gd">--- .terraform.lock.hcl 2020-10-07 17:24:23.397892140 -0700
 </span><span class="gi">+++ .terraform.lock.hcl 2020-10-07 17:24:57.423130253 -0700
 </span><span class="p">@@ -10,6 +10,7 @@</span>
    version     = "2.1.0"
    constraints = "~&gt; 2.1.0"
    hashes = [
 <span class="gi">+    "h1:1xvaS5D8B8t6J6XmXxX8spo97tAzjhacjedFX1B47Fk=",
 </span>     "h1:EOJImaEaVThWasdqnJjfYc6/P8N/MRAq1J7avx5ZbV4=",
      "zh:0015b491cf9151235e57e35ea6b89381098e61bd923f56dffc86026d58748880",
      "zh:4c5682ba1e0fc7e2e602d3f103af1638f868c31fe80cc1a884a97f6dad6e1c11",
 </code></pre>
  </div>
  <p>
   The addition of a new checksum into the
   <code>
    hashes
   </code>
   value represents Terraform
 gradually transitioning between different
   <em>
    hashing schemes
   </em>
   . The
   <code>
    h1:
   </code>
   and
   <code>
    zh:
   </code>
   prefixes on these values represent different hashing schemes, each
 of which represents calculating a checksum using a different algorithm.
 We may occasionally introduce new hashing schemes if we learn of limitations
 in the existing schemes or if a new scheme offers some considerable
 additional benefit.
  </p>
  <p>
   The two hashing schemes currently supported are:
  </p>
  <ul>
   <li>
    <p>
     <a name="zh-">
     </a>
     <a href="#zh-">
      <code>
       zh:
      </code>
     </a>
     : a mnemonic for "zip hash", this is a legacy hash format which is
 part of the Terraform provider registry protocol and is therefore used for
 providers that you install directly from an origin registry.
    </p>
    <p>
     This hashing scheme captures a SHA256 hash of each of the official
     <code>
      .zip
     </code>
     packages indexed in the origin registry. This is an effective scheme for
 verifying the official release packages when installed from a registry, but
 it's not suitable for verifying packages that come from other
     <a href="/docs/cli/config/config-file.html#provider-installation">
      provider installation methods
     </a>
     ,
 such as filesystem mirrors using the unpacked directory layout.
    </p>
   </li>
   <li>
    <p>
     <a name="h1-">
     </a>
     <a href="#h1-">
      <code>
       h1:
      </code>
     </a>
     : a mnemonic for "hash scheme 1", which is the current preferred hashing
 scheme.
    </p>
    <p>
     Hash scheme 1 is also a SHA256 hash, but is one computed from the
     <em>
      contents
     </em>
     of the provider distribution package, rather than of the
     <code>
      .zip
     </code>
     archive
 it's contained within. This scheme therefore has the advantage that it can
 be calculated for an official
     <code>
      .zip
     </code>
     file, an unpacked directory with the
 same contents, or a recompressed
     <code>
      .zip
     </code>
     file which contains the same files
 but potentially different metadata or compression schemes.
    </p>
    <p>
     Due to the limited scope of the
     <code>
      zh:
     </code>
     scheme, Terraform will
 opportunistically add in the corresponding
     <code>
      h1:
     </code>
     checksums as it learns
 of them, which is what caused the addition of a second
     <code>
      h1:
     </code>
     checksum
 in the example change shown above.
    </p>
   </li>
  </ul>
  <p>
   Terraform will add a new hash to an existing provider only if the hash is
 calculated from a package that
   <em>
    also
   </em>
   matches one of the existing hashes. In
 the above example, Terraform installed a
   <code>
    hashicorp/azurerm
   </code>
   package for a
 different platform than that which produced the original
   <code>
    h1:
   </code>
   checksum, but was
 able to match it against one of the
   <code>
    zh:
   </code>
   checksums recorded previously.
 After confirming the
   <code>
    zh:
   </code>
   checksum match, Terraform then recorded the
 corresponding
   <code>
    h1:
   </code>
   checksum in order to gradually migrate from the old scheme
 to the new scheme.
  </p>
  <p>
   When installing a particular provider for the first time (where there is no
 existing
   <code>
    provider
   </code>
   block for it), Terraform will pre-populate the
   <code>
    hashes
   </code>
   value with any checksums that are covered by the provider developer's
 cryptographic signature, which usually covers all of the available packages
 for that provider version across all supported platforms. However, because
 the provider registry protocol still uses the
   <code>
    zh:
   </code>
   scheme, the initial set
 will consist primarily of hashes using that scheme, which Terraform will then
 upgrade opportunistically as you install the packages on different platforms.
  </p>
  <p>
   If you wish to avoid ongoing additions of new
   <code>
    h1:
   </code>
   hashes as you work with
 your configuration on new target platforms, or if you are installing providers
 from a mirror that therefore can't provide official signed checksums, you
 can ask Terraform to pre-populate hashes for a chosen set of platforms
 using
   <a href="/docs/cli/commands/providers/lock.html">
    the
    <code>
     terraform providers lock
    </code>
    command
   </a>
   :
  </p>
  <div class="highlight">
   <pre class="highlight plaintext"><code>terraform providers lock \
   -platform=linux_arm64 \
   -platform=linux_amd64 \
   -platform=darwin_amd64 \
   -platform=windows_amd64
 </code></pre>
  </div>
  <p>
   The above command will download and verify the official packages for all of
 the required providers across all four of the given platforms, and then record
 both
   <code>
    zh:
   </code>
   and
   <code>
    h1:
   </code>
   checksums for each of them in the lock file, thus avoiding
 the case where Terraform will learn about a
   <code>
    h1:
   </code>
   equivalent only at a later
 time. See the
   <code>
    terraform providers lock
   </code>
   documentation for more information on
 this command.
  </p>
 </div>
 
 <!-- ########### Variables and Outputs : Input Variables ############### -->
 <!-- ########### https://www.terraform.io/docs/language/values/index.html ############### --
 ><!-- ########### Variables and Outputs : Input Variables ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="variables-and-outputs">
    <a class="anchor" href="#variables-and-outputs" name="variables-and-outputs">
     »
    </a>
    Variables and Outputs
   </h1>
  </div>
  <p>
   The Terraform language includes a few kinds of blocks for requesting or
 publishing named values.
  </p>
  <ul>
   <li>
    <p>
     <a href="/docs/language/values/variables.html">
      Input Variables
     </a>
     serve as parameters for
 a Terraform module, so users can customize behavior without editing the source.
    </p>
   </li>
   <li>
    <p>
     <a href="/docs/language/values/outputs.html">
      Output Values
     </a>
     are like return values for a
 Terraform module.
    </p>
   </li>
   <li>
    <p>
     <a href="/docs/language/values/locals.html">
      Local Values
     </a>
     are a convenience feature for
 assigning a short name to an expression.
    </p>
   </li>
  </ul>
 </div>
 
 <!-- ########### Variables and Outputs : Output Values ############### -->
 <!-- ########### https://www.terraform.io/docs/language/values/variables.html ############### --
 ><!-- ########### Variables and Outputs : Output Values ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="input-variables">
    <a class="anchor" href="#input-variables" name="input-variables">
     »
    </a>
    Input Variables
   </h1>
   <div id="inner-quicknav">
    <span id="inner-quicknav-trigger">
     Jump to Section
     <svg height="5" width="9" xmlns="http://www.w3.org/2000/svg">
      <path d="M8.811 1.067a.612.612 0 0 0 0-.884.655.655 0 0 0-.908 0L4.5 3.491 1.097.183a.655.655 0 0 0-.909 0 .615.615 0 0 0 0 .884l3.857 3.75a.655.655 0 0 0 .91 0l3.856-3.75z" fill-rule="evenodd">
      </path>
     </svg>
    </span>
    <ul class="dropdown">
     <li class="level-h2">
      <a href="#declaring-an-input-variable">
       »
 Declaring an Input Variable
      </a>
     </li>
     <li class="level-h2">
      <a href="#arguments">
       »
 Arguments
      </a>
     </li>
     <li class="level-h3">
      <a href="#default-values">
       »
 Default values
      </a>
     </li>
     <li class="level-h3">
      <a href="#type-constraints">
       »
 Type Constraints
      </a>
     </li>
     <li class="level-h3">
      <a href="#input-variable-documentation">
       »
 Input Variable Documentation
      </a>
     </li>
     <li class="level-h3">
      <a href="#custom-validation-rules">
       »
 Custom Validation Rules
      </a>
     </li>
     <li class="level-h3">
      <a href="#suppressing-values-in-cli-output">
       »
 Suppressing Values in CLI Output
      </a>
     </li>
     <li class="level-h4">
      <a href="#cases-where-terraform-may-disclose-a-sensitive-variable">
       »
 Cases where Terraform may disclose a sensitive variable
      </a>
     </li>
     <li class="level-h2">
      <a href="#using-input-variable-values">
       »
 Using Input Variable Values
      </a>
     </li>
     <li class="level-h2">
      <a href="#assigning-values-to-root-module-variables">
       »
 Assigning Values to Root Module Variables
      </a>
     </li>
     <li class="level-h3">
      <a href="#variables-on-the-command-line">
       »
 Variables on the Command Line
      </a>
     </li>
     <li class="level-h3">
      <a href="#variable-definitions-tfvars-files">
       »
 Variable Definitions (.tfvars) Files
      </a>
     </li>
     <li class="level-h3">
      <a href="#environment-variables">
       »
 Environment Variables
      </a>
     </li>
     <li class="level-h3">
      <a href="#complex-typed-values">
       »
 Complex-typed Values
      </a>
     </li>
     <li class="level-h3">
      <a href="#variable-definition-precedence">
       »
 Variable Definition Precedence
      </a>
     </li>
    </ul>
   </div>
  </div>
  <blockquote>
   <p>
    <strong>
     Hands-on:
    </strong>
    Try the
    <a href="https://learn.hashicorp.com/tutorials/terraform/variables?in=terraform/configuration-language&amp;utm_source=WEBSITE&amp;utm_medium=WEB_IO&amp;utm_offer=ARTICLE_PAGE&amp;utm_content=DOCS">
     Customize Terraform Configuration with Variables
    </a>
    tutorial on HashiCorp Learn.
   </p>
  </blockquote>
  <p>
   Input variables serve as parameters for a Terraform module, allowing aspects
 of the module to be customized without altering the module's own source code,
 and allowing modules to be shared between different configurations.
  </p>
  <p>
   When you declare variables in the root module of your configuration, you can
 set their values using CLI options and environment variables.
 When you declare them in
   <a href="/docs/language/modules/index.html">
    child modules
   </a>
   ,
 the calling module should pass values in the
   <code>
    module
   </code>
   block.
  </p>
  <p>
   If you're familiar with traditional programming languages, it can be useful to
 compare Terraform modules to function definitions:
  </p>
  <ul>
   <li>
    Input variables are like function arguments.
   </li>
   <li>
    <a href="/docs/language/values/outputs.html">
     Output values
    </a>
    are like function return values.
   </li>
   <li>
    <a href="/docs/language/values/locals.html">
     Local values
    </a>
    are like a function's temporary local variables.
   </li>
  </ul>
  <div class="alert alert-info" role="alert">
   <p>
    <strong>
     Note:
    </strong>
    For brevity, input variables are often referred to as just
 "variables" or "Terraform variables" when it is clear from context what sort of
 variable is being discussed. Other kinds of variables in Terraform include
    <em>
     environment variables
    </em>
    (set by the shell where Terraform runs) and
    <em>
     expression
 variables
    </em>
    (used to indirectly represent a value in an
    <a href="/docs/language/expressions/index.html">
     expression
    </a>
    ).
   </p>
  </div>
  <h2 id="declaring-an-input-variable">
   <a class="anchor" href="#declaring-an-input-variable" name="declaring-an-input-variable">
    »
   </a>
   Declaring an Input Variable
  </h2>
  <p>
   Each input variable accepted by a module must be declared using a
   <code>
    variable
   </code>
   block:
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">variable</span> <span class="s2">"image_id"</span> <span class="p">{</span>
   <span class="n">type</span> <span class="o">=</span> <span class="n">string</span>
 <span class="p">}</span>
 
 <span class="n">variable</span> <span class="s2">"availability_zone_names"</span> <span class="p">{</span>
   <span class="n">type</span>    <span class="o">=</span> <span class="n">list</span><span class="p">(</span><span class="n">string</span><span class="p">)</span>
   <span class="n">default</span> <span class="o">=</span> <span class="p">[</span><span class="s2">"us-west-1a"</span><span class="p">]</span>
 <span class="p">}</span>
 
 <span class="n">variable</span> <span class="s2">"docker_ports"</span> <span class="p">{</span>
   <span class="n">type</span> <span class="o">=</span> <span class="n">list</span><span class="p">(</span><span class="n">object</span><span class="p">({</span>
     <span class="n">internal</span> <span class="o">=</span> <span class="n">number</span>
     <span class="n">external</span> <span class="o">=</span> <span class="n">number</span>
     <span class="n">protocol</span> <span class="o">=</span> <span class="n">string</span>
   <span class="p">}))</span>
   <span class="n">default</span> <span class="o">=</span> <span class="p">[</span>
     <span class="p">{</span>
       <span class="n">internal</span> <span class="o">=</span> <span class="mi">8300</span>
       <span class="n">external</span> <span class="o">=</span> <span class="mi">8300</span>
       <span class="n">protocol</span> <span class="o">=</span> <span class="s2">"tcp"</span>
     <span class="p">}</span>
   <span class="p">]</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <p>
   The label after the
   <code>
    variable
   </code>
   keyword is a name for the variable, which must
 be unique among all variables in the same module. This name is used to
 assign a value to the variable from outside and to reference the variable's
 value from within the module.
  </p>
  <p>
   The name of a variable can be any valid
   <a href="/docs/language/syntax/configuration.html#identifiers">
    identifier
   </a>
   <em>
    except
   </em>
   the following:
   <code>
    source
   </code>
   ,
   <code>
    version
   </code>
   ,
   <code>
    providers
   </code>
   ,
   <code>
    count
   </code>
   ,
   <code>
    for_each
   </code>
   ,
   <code>
    lifecycle
   </code>
   ,
   <code>
    depends_on
   </code>
   ,
   <code>
    locals
   </code>
   .
  </p>
  <p>
   These names are reserved for meta-arguments in
   <a href="/docs/language/modules/syntax.html">
    module configuration blocks
   </a>
   , and cannot be
 declared as variable names.
  </p>
  <h2 id="arguments">
   <a class="anchor" href="#arguments" name="arguments">
    »
   </a>
   Arguments
  </h2>
  <p>
   Terraform CLI defines the following optional arguments for variable declarations:
  </p>
  <ul>
   <li>
    <a href="#default-values">
     <code>
      default
     </code>
    </a>
    - A default value which then makes the variable optional.
   </li>
   <li>
    <a href="#type-constraints">
     <code>
      type
     </code>
    </a>
    - This argument specifies what value types are accepted for the variable.
   </li>
   <li>
    <a href="#input-variable-documentation">
     <code>
      description
     </code>
    </a>
    - This specifies the input variable's documentation.
   </li>
   <li>
    <a href="#custom-validation-rules">
     <code>
      validation
     </code>
    </a>
    - A block to define validation rules, usually in addition to type constraints.
   </li>
   <li>
    <a href="#suppressing-values-in-cli-output">
     <code>
      sensitive
     </code>
    </a>
    - Limits Terraform UI output when the variable is used in configuration.
   </li>
  </ul>
  <h3 id="default-values">
   <a class="anchor" href="#default-values" name="default-values">
    »
   </a>
   Default values
  </h3>
  <p>
   The variable declaration can also include a
   <code>
    default
   </code>
   argument. If present,
 the variable is considered to be
   <em>
    optional
   </em>
   and the default value will be used
 if no value is set when calling the module or running Terraform. The
   <code>
    default
   </code>
   argument requires a literal value and cannot reference other objects in the
 configuration.
  </p>
  <h3 id="type-constraints">
   <a class="anchor" href="#type-constraints" name="type-constraints">
    »
   </a>
   Type Constraints
  </h3>
  <p>
   The
   <code>
    type
   </code>
   argument in a
   <code>
    variable
   </code>
   block allows you to restrict the
   <a href="/docs/language/expressions/types.html">
    type of value
   </a>
   that will be accepted as
 the value for a variable. If no type constraint is set then a value of any type
 is accepted.
  </p>
  <p>
   While type constraints are optional, we recommend specifying them; they
 can serve as helpful reminders for users of the module, and they
 allow Terraform to return a helpful error message if the wrong type is used.
  </p>
  <p>
   Type constraints are created from a mixture of type keywords and type
 constructors. The supported type keywords are:
  </p>
  <ul>
   <li>
    <a name="string">
    </a>
    <a href="#string">
     <code>
      string
     </code>
    </a>
   </li>
   <li>
    <a name="number">
    </a>
    <a href="#number">
     <code>
      number
     </code>
    </a>
   </li>
   <li>
    <a name="bool">
    </a>
    <a href="#bool">
     <code>
      bool
     </code>
    </a>
   </li>
  </ul>
  <p>
   The type constructors allow you to specify complex types such as
 collections:
  </p>
  <ul>
   <li>
    <a name="list-lt-type-gt-">
    </a>
    <a href="#list-lt-type-gt-">
     <code>
      list(&lt;TYPE&gt;)
     </code>
    </a>
   </li>
   <li>
    <a name="set-lt-type-gt-">
    </a>
    <a href="#set-lt-type-gt-">
     <code>
      set(&lt;TYPE&gt;)
     </code>
    </a>
   </li>
   <li>
    <a name="map-lt-type-gt-">
    </a>
    <a href="#map-lt-type-gt-">
     <code>
      map(&lt;TYPE&gt;)
     </code>
    </a>
   </li>
   <li>
    <a name="object-lt-attr-name-gt-lt-type-gt-">
    </a>
    <a href="#object-lt-attr-name-gt-lt-type-gt-">
     <code>
      object({&lt;ATTR NAME&gt; = &lt;TYPE&gt;, ... })
     </code>
    </a>
   </li>
   <li>
    <a name="tuple-lt-type-gt-">
    </a>
    <a href="#tuple-lt-type-gt-">
     <code>
      tuple([&lt;TYPE&gt;, ...])
     </code>
    </a>
   </li>
  </ul>
  <p>
   The keyword
   <code>
    any
   </code>
   may be used to indicate that any type is acceptable. For
 more information on the meaning and behavior of these different types, as well
 as detailed information about automatic conversion of complex types, see
   <a href="/docs/language/expressions/types.html">
    Type Constraints
   </a>
   .
  </p>
  <p>
   If both the
   <code>
    type
   </code>
   and
   <code>
    default
   </code>
   arguments are specified, the given default
 value must be convertible to the specified type.
  </p>
  <h3 id="input-variable-documentation">
   <a class="anchor" href="#input-variable-documentation" name="input-variable-documentation">
    »
   </a>
   Input Variable Documentation
  </h3>
  <p>
   Because the input variables of a module are part of its user interface, you can
 briefly describe the purpose of each variable using the optional
   <code>
    description
   </code>
   argument:
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">variable</span> <span class="s2">"image_id"</span> <span class="p">{</span>
   <span class="n">type</span>        <span class="o">=</span> <span class="n">string</span>
   <span class="n">description</span> <span class="o">=</span> <span class="s2">"The id of the machine image (AMI) to use for the server."</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <p>
   The description should concisely explain the purpose
 of the variable and what kind of value is expected. This description string
 might be included in documentation about the module, and so it should be written
 from the perspective of the user of the module rather than its maintainer. For
 commentary for module maintainers, use comments.
  </p>
  <h3 id="custom-validation-rules">
   <a class="anchor" href="#custom-validation-rules" name="custom-validation-rules">
    »
   </a>
   Custom Validation Rules
  </h3>
  <div class="alert alert-info" role="alert">
   <p>
    This feature was introduced in Terraform CLI v0.13.0.
   </p>
  </div>
  <p>
   In addition to Type Constraints as described above, a module author can specify
 arbitrary custom validation rules for a particular variable using a
   <code>
    validation
   </code>
   block nested within the corresponding
   <code>
    variable
   </code>
   block:
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">variable</span> <span class="s2">"image_id"</span> <span class="p">{</span>
   <span class="n">type</span>        <span class="o">=</span> <span class="n">string</span>
   <span class="n">description</span> <span class="o">=</span> <span class="s2">"The id of the machine image (AMI) to use for the server."</span>
 
   <span class="n">validation</span> <span class="p">{</span>
     <span class="n">condition</span>     <span class="o">=</span> <span class="n">length</span><span class="p">(</span><span class="n">var</span><span class="p">.</span><span class="nf">image_id</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">4</span> <span class="o">&amp;&amp;</span> <span class="n">substr</span><span class="p">(</span><span class="n">var</span><span class="p">.</span><span class="nf">image_id</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span> <span class="o">==</span> <span class="s2">"ami-"</span>
     <span class="n">error_message</span> <span class="o">=</span> <span class="s2">"The image_id value must be a valid AMI id, starting with </span><span class="se">\"</span><span class="s2">ami-</span><span class="se">\"</span><span class="s2">."</span>
   <span class="p">}</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <p>
   The
   <code>
    condition
   </code>
   argument is an expression that must use the value of the
 variable to return
   <code>
    true
   </code>
   if the value is valid, or
   <code>
    false
   </code>
   if it is invalid.
 The expression can refer only to the variable that the condition applies to,
 and
   <em>
    must not
   </em>
   produce errors.
  </p>
  <p>
   If the failure of an expression is the basis of the validation decision, use
   <a href="/docs/language/functions/can.html">
    the
    <code>
     can
    </code>
    function
   </a>
   to detect such errors. For example:
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">variable</span> <span class="s2">"image_id"</span> <span class="p">{</span>
   <span class="n">type</span>        <span class="o">=</span> <span class="n">string</span>
   <span class="n">description</span> <span class="o">=</span> <span class="s2">"The id of the machine image (AMI) to use for the server."</span>
 
   <span class="n">validation</span> <span class="p">{</span>
     <span class="c1"># regex(...) fails if it cannot find a match</span>
     <span class="n">condition</span>     <span class="o">=</span> <span class="n">can</span><span class="p">(</span><span class="n">regex</span><span class="p">(</span><span class="s2">"^ami-"</span><span class="p">,</span> <span class="n">var</span><span class="p">.</span><span class="nf">image_id</span><span class="p">))</span>
     <span class="n">error_message</span> <span class="o">=</span> <span class="s2">"The image_id value must be a valid AMI id, starting with </span><span class="se">\"</span><span class="s2">ami-</span><span class="se">\"</span><span class="s2">."</span>
   <span class="p">}</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <p>
   If
   <code>
    condition
   </code>
   evaluates to
   <code>
    false
   </code>
   , Terraform will produce an error message
 that includes the sentences given in
   <code>
    error_message
   </code>
   . The error message string
 should be at least one full sentence explaining the constraint that failed,
 using a sentence structure similar to the above examples.
  </p>
  <h3 id="suppressing-values-in-cli-output">
   <a class="anchor" href="#suppressing-values-in-cli-output" name="suppressing-values-in-cli-output">
    »
   </a>
   Suppressing Values in CLI Output
  </h3>
  <div class="alert alert-info" role="alert">
   <p>
    This feature was introduced in Terraform v0.14.0.
   </p>
  </div>
  <blockquote>
   <p>
    <strong>
     Hands-on:
    </strong>
    Try the
    <a href="https://learn.hashicorp.com/tutorials/terraform/sensitive-variables?in=terraform/configuration-language&amp;utm_source=WEBSITE&amp;utm_medium=WEB_IO&amp;utm_offer=ARTICLE_PAGE&amp;utm_content=DOCS">
     Protect Sensitive Input Variables
    </a>
    tutorial on HashiCorp Learn.
   </p>
  </blockquote>
  <p>
   Setting a variable as
   <code>
    sensitive
   </code>
   prevents Terraform from showing its value in the
   <code>
    plan
   </code>
   or
   <code>
    apply
   </code>
   output, when that variable is used within a configuration.
  </p>
  <p>
   Sensitive values are still recorded in the
   <a href="/docs/language/state/index.html">
    state
   </a>
   , and so will be visible to anyone who is able to access the state data. For more information, see
   <a href="/docs/language/state/sensitive-data.html">
    <em>
     Sensitive Data in State
    </em>
   </a>
   .
  </p>
  <p>
   A provider can define
   <a href="/docs/extend/best-practices/sensitive-state.html#using-the-sensitive-flag">
    an attribute as sensitive
   </a>
   , which prevents the value of that attribute from being displayed in logs or regular output. The
   <code>
    sensitive
   </code>
   argument on variables allows users to replicate this behavior for values in their configuration, by defining a variable as
   <code>
    sensitive
   </code>
   .
  </p>
  <p>
   Define a variable as sensitive by setting the
   <code>
    sensitive
   </code>
   argument to
   <code>
    true
   </code>
   :
  </p>
  <div class="highlight">
   <pre class="highlight plaintext"><code>variable "user_information" {
   type = object({
     name    = string
     address = string
   })
   sensitive = true
 }
 
 resource "some_resource" "a" {
   name    = var.user_information.name
   address = var.user_information.address
 }
 </code></pre>
  </div>
  <p>
   Using this variable throughout your configuration will obfuscate the value from display in
   <code>
    plan
   </code>
   or
   <code>
    apply
   </code>
   output:
  </p>
  <div class="highlight">
   <pre class="highlight plaintext"><code>Terraform will perform the following actions:
 
   # some_resource.a will be created
   + resource "some_resource" "a" {
       + name    = (sensitive)
       + address = (sensitive)
     }
 
 Plan: 1 to add, 0 to change, 0 to destroy.
 </code></pre>
  </div>
  <p>
   In some cases where a sensitive variable is used in a nested block, the whole block can be redacted. This happens with resources which can have multiple blocks of the same type, where the values must be unique. This looks like:
  </p>
  <div class="highlight">
   <pre class="highlight plaintext"><code># main.tf
 
 resource "some_resource" "a" {
   nested_block {
     user_information  = var.user_information # a sensitive variable
     other_information = "not sensitive data"
   }
 }
 
 # CLI output
 
 Terraform will perform the following actions:
 
   # some_resource.a will be updated in-place
   ~ resource "some_resource" "a" {
       ~ nested_block {
           # At least one attribute in this block is (or was) sensitive,
           # so its contents will not be displayed.
         }
     }
 
 </code></pre>
  </div>
  <h4 id="cases-where-terraform-may-disclose-a-sensitive-variable">
   <a class="anchor" href="#cases-where-terraform-may-disclose-a-sensitive-variable" name="cases-where-terraform-may-disclose-a-sensitive-variable">
    »
   </a>
   Cases where Terraform may disclose a sensitive variable
  </h4>
  <p>
   A
   <code>
    sensitive
   </code>
   variable is a configuration-centered concept, and values are sent to providers without any obfuscation. A provider error could disclose a value if that value is included in the error message. For example, a provider might return the following error even if "foo" is a sensitive value:
   <code>
    "Invalid value 'foo' for field"
   </code>
  </p>
  <p>
   If a resource attribute is used as, or part of, the provider-defined resource id, an
   <code>
    apply
   </code>
   will disclose the value. In the example below, the
   <code>
    prefix
   </code>
   attribute has been set to a sensitive variable, but then that value ("jae") is later disclosed as part of the resource id:
  </p>
  <div class="highlight">
   <pre class="highlight plaintext"><code>  # random_pet.animal will be created
   + resource "random_pet" "animal" {
       + id        = (known after apply)
       + length    = 2
       + prefix    = (sensitive)
       + separator = "-"
     }
 
 Plan: 1 to add, 0 to change, 0 to destroy.
 
 ...
 
 random_pet.animal: Creating...
 random_pet.animal: Creation complete after 0s [id=jae-known-mongoose]
 </code></pre>
  </div>
  <h2 id="using-input-variable-values">
   <a class="anchor" href="#using-input-variable-values" name="using-input-variable-values">
    »
   </a>
   Using Input Variable Values
  </h2>
  <p>
   Within the module that declared a variable, its value can be accessed from
 within
   <a href="/docs/language/expressions/index.html">
    expressions
   </a>
   as
   <code>
    var.&lt;NAME&gt;
   </code>
   ,
 where
   <code>
    &lt;NAME&gt;
   </code>
   matches the label given in the declaration block:
  </p>
  <div class="alert alert-info" role="alert">
   <p>
    <strong>
     Note:
    </strong>
    Input variables are
    <em>
     created
    </em>
    by a
    <code>
     variable
    </code>
    block, but you
    <em>
     reference
    </em>
    them as attributes on an object named
    <code>
     var
    </code>
    .
   </p>
  </div>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">resource</span> <span class="s2">"aws_instance"</span> <span class="s2">"example"</span> <span class="p">{</span>
   <span class="n">instance_type</span> <span class="o">=</span> <span class="s2">"t2.micro"</span>
   <span class="n">ami</span>           <span class="o">=</span> <span class="n">var</span><span class="p">.</span><span class="nf">image_id</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <p>
   The value assigned to a variable can only be accessed in expressions within
 the module where it was declared.
  </p>
  <h2 id="assigning-values-to-root-module-variables">
   <a class="anchor" href="#assigning-values-to-root-module-variables" name="assigning-values-to-root-module-variables">
    »
   </a>
   Assigning Values to Root Module Variables
  </h2>
  <p>
   When variables are declared in the root module of your configuration, they
 can be set in a number of ways:
  </p>
  <ul>
   <li>
    <a href="/docs/cloud/workspaces/variables.html">
     In a Terraform Cloud workspace
    </a>
    .
   </li>
   <li>
    Individually, with the
    <code>
     -var
    </code>
    command line option.
   </li>
   <li>
    In variable definitions (
    <code>
     .tfvars
    </code>
    ) files, either specified on the command line
 or automatically loaded.
   </li>
   <li>
    As environment variables.
   </li>
  </ul>
  <p>
   The following sections describe these options in more detail. This section does
 not apply to
   <em>
    child
   </em>
   modules, where values for input variables are instead
 assigned in the configuration of their parent module, as described in
   <a href="/docs/language/modules/index.html">
    <em>
     Modules
    </em>
   </a>
   .
  </p>
  <h3 id="variables-on-the-command-line">
   <a class="anchor" href="#variables-on-the-command-line" name="variables-on-the-command-line">
    »
   </a>
   Variables on the Command Line
  </h3>
  <p>
   To specify individual variables on the command line, use the
   <code>
    -var
   </code>
   option
 when running the
   <code>
    terraform plan
   </code>
   and
   <code>
    terraform apply
   </code>
   commands:
  </p>
  <div class="highlight">
   <pre class="highlight plaintext"><code>terraform apply -var="image_id=ami-abc123"
 terraform apply -var='image_id_list=["ami-abc123","ami-def456"]' -var="instance_type=t2.micro"
 terraform apply -var='image_id_map={"us-east-1":"ami-abc123","us-east-2":"ami-def456"}'
 </code></pre>
  </div>
  <p>
   The
   <code>
    -var
   </code>
   option can be used any number of times in a single command.
  </p>
  <p>
   <a id="variable-files">
   </a>
  </p>
  <h3 id="variable-definitions-tfvars-files">
   <a class="anchor" href="#variable-definitions-tfvars-files" name="variable-definitions-tfvars-files">
    »
   </a>
   Variable Definitions (
   <code>
    .tfvars
   </code>
   ) Files
  </h3>
  <p>
   To set lots of variables, it is more convenient to specify their values in
 a
   <em>
    variable definitions file
   </em>
   (with a filename ending in either
   <code>
    .tfvars
   </code>
   or
   <code>
    .tfvars.json
   </code>
   ) and then specify that file on the command line with
   <code>
    -var-file
   </code>
   :
  </p>
  <div class="highlight">
   <pre class="highlight plaintext"><code>terraform apply -var-file="testing.tfvars"
 </code></pre>
  </div>
  <div class="alert alert-info" role="alert">
   <p>
    <strong>
     Note:
    </strong>
    This is how Terraform Cloud passes
    <a href="/docs/cloud/workspaces/variables.html">
     workspace variables
    </a>
    to Terraform.
   </p>
  </div>
  <p>
   A variable definitions file uses the same basic syntax as Terraform language
 files, but consists only of variable name assignments:
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">image_id</span> <span class="o">=</span> <span class="s2">"ami-abc123"</span>
 <span class="n">availability_zone_names</span> <span class="o">=</span> <span class="p">[</span>
   <span class="s2">"us-east-1a"</span><span class="p">,</span>
   <span class="s2">"us-west-1c"</span><span class="p">,</span>
 <span class="p">]</span>
 </code></pre>
  </div>
  <p>
   Terraform also automatically loads a number of variable definitions files
 if they are present:
  </p>
  <ul>
   <li>
    Files named exactly
    <code>
     terraform.tfvars
    </code>
    or
    <code>
     terraform.tfvars.json
    </code>
    .
   </li>
   <li>
    Any files with names ending in
    <code>
     .auto.tfvars
    </code>
    or
    <code>
     .auto.tfvars.json
    </code>
    .
   </li>
  </ul>
  <p>
   Files whose names end with
   <code>
    .json
   </code>
   are parsed instead as JSON objects, with
 the root object properties corresponding to variable names:
  </p>
  <div class="highlight">
   <pre class="highlight json"><code><span class="p">{</span><span class="w">
   </span><span class="nl">"image_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ami-abc123"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"availability_zone_names"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"us-west-1a"</span><span class="p">,</span><span class="w"> </span><span class="s2">"us-west-1c"</span><span class="p">]</span><span class="w">
 </span><span class="p">}</span><span class="w">
 </span></code></pre>
  </div>
  <h3 id="environment-variables">
   <a class="anchor" href="#environment-variables" name="environment-variables">
    »
   </a>
   Environment Variables
  </h3>
  <p>
   As a fallback for the other ways of defining variables, Terraform searches
 the environment of its own process for environment variables named
   <code>
    TF_VAR_
   </code>
   followed by the name of a declared variable.
  </p>
  <p>
   This can be useful when running Terraform in automation, or when running a
 sequence of Terraform commands in succession with the same variables.
 For example, at a
   <code>
    bash
   </code>
   prompt on a Unix system:
  </p>
  <div class="highlight">
   <pre class="highlight plaintext"><code>$ export TF_VAR_image_id=ami-abc123
 $ terraform plan
 ...
 </code></pre>
  </div>
  <p>
   On operating systems where environment variable names are case-sensitive,
 Terraform matches the variable name exactly as given in configuration, and
 so the required environment variable name will usually have a mix of upper
 and lower case letters as in the above example.
  </p>
  <h3 id="complex-typed-values">
   <a class="anchor" href="#complex-typed-values" name="complex-typed-values">
    »
   </a>
   Complex-typed Values
  </h3>
  <p>
   When variable values are provided in a variable definitions file, you can use
 Terraform's usual syntax for
   <a href="/docs/language/expressions/types.html#literal-expressions">
    literal expressions
   </a>
   to assign complex-typed values, like lists and maps.
  </p>
  <p>
   Some special rules apply to the
   <code>
    -var
   </code>
   command line option and to environment
 variables. For convenience, Terraform defaults to interpreting
   <code>
    -var
   </code>
   and
 environment variable values as literal strings, which do not need to be quoted:
  </p>
  <div class="highlight">
   <pre class="highlight plaintext"><code>$ export TF_VAR_image_id=ami-abc123
 </code></pre>
  </div>
  <p>
   However, if a root module variable uses a
   <a href="#type-constraints">
    type constraint
   </a>
   to require a complex value (list, set, map, object, or tuple), Terraform will
 instead attempt to parse its value using the same syntax used within variable
 definitions files, which requires careful attention to the string escaping rules
 in your shell:
  </p>
  <div class="highlight">
   <pre class="highlight plaintext"><code>$ export TF_VAR_availability_zone_names='["us-west-1b","us-west-1d"]'
 </code></pre>
  </div>
  <p>
   For readability, and to avoid the need to worry about shell escaping, we
 recommend always setting complex variable values via variable definitions files.
  </p>
  <h3 id="variable-definition-precedence">
   <a class="anchor" href="#variable-definition-precedence" name="variable-definition-precedence">
    »
   </a>
   Variable Definition Precedence
  </h3>
  <p>
   The above mechanisms for setting variables can be used together in any
 combination. If the same variable is assigned multiple values, Terraform uses
 the
   <em>
    last
   </em>
   value it finds, overriding any previous values. Note that the same
 variable cannot be assigned multiple values within a single source.
  </p>
  <p>
   Terraform loads variables in the following order, with later sources taking
 precedence over earlier ones:
  </p>
  <ul>
   <li>
    Environment variables
   </li>
   <li>
    The
    <code>
     terraform.tfvars
    </code>
    file, if present.
   </li>
   <li>
    The
    <code>
     terraform.tfvars.json
    </code>
    file, if present.
   </li>
   <li>
    Any
    <code>
     *.auto.tfvars
    </code>
    or
    <code>
     *.auto.tfvars.json
    </code>
    files, processed in lexical order
 of their filenames.
   </li>
   <li>
    Any
    <code>
     -var
    </code>
    and
    <code>
     -var-file
    </code>
    options on the command line, in the order they
 are provided. (This includes variables set by a Terraform Cloud
 workspace.)
   </li>
  </ul>
  <div class="alert alert-warning" role="alert">
   <p>
    <strong>
     Important:
    </strong>
    In Terraform 0.12 and later, variables with map and object
 values behave the same way as other variables: the last value found overrides
 the previous values. This is a change from previous versions of Terraform, which
 would
    <em>
     merge
    </em>
    map values instead of overriding them.
   </p>
  </div>
 </div>
 
 <!-- ########### Variables and Outputs : Local Values ############### -->
 <!-- ########### https://www.terraform.io/docs/language/values/outputs.html ############### --
 ><!-- ########### Variables and Outputs : Local Values ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="output-values">
    <a class="anchor" href="#output-values" name="output-values">
     »
    </a>
    Output Values
   </h1>
   <div id="inner-quicknav">
    <span id="inner-quicknav-trigger">
     Jump to Section
     <svg height="5" width="9" xmlns="http://www.w3.org/2000/svg">
      <path d="M8.811 1.067a.612.612 0 0 0 0-.884.655.655 0 0 0-.908 0L4.5 3.491 1.097.183a.655.655 0 0 0-.909 0 .615.615 0 0 0 0 .884l3.857 3.75a.655.655 0 0 0 .91 0l3.856-3.75z" fill-rule="evenodd">
      </path>
     </svg>
    </span>
    <ul class="dropdown">
     <li class="level-h2">
      <a href="#declaring-an-output-value">
       »
 Declaring an Output Value
      </a>
     </li>
     <li class="level-h2">
      <a href="#accessing-child-module-outputs">
       »
 Accessing Child Module Outputs
      </a>
     </li>
     <li class="level-h2">
      <a href="#optional-arguments">
       »
 Optional Arguments
      </a>
     </li>
     <li class="level-h3">
      <a href="#description-output-value-documentation">
       »
 description — Output Value Documentation
      </a>
     </li>
     <li class="level-h3">
      <a href="#sensitive-suppressing-values-in-cli-output">
       »
 sensitive — Suppressing Values in CLI Output
      </a>
     </li>
     <li class="level-h3">
      <a href="#depends_on-explicit-output-dependencies">
       »
 depends_on — Explicit Output Dependencies
      </a>
     </li>
    </ul>
   </div>
  </div>
  <blockquote>
   <p>
    <strong>
     Hands-on:
    </strong>
    Try the
    <a href="https://learn.hashicorp.com/tutorials/terraform/outputs?in=terraform/configuration-language&amp;utm_source=WEBSITE&amp;utm_medium=WEB_IO&amp;utm_offer=ARTICLE_PAGE&amp;utm_content=DOCS">
     Output Data From
 Terraform
    </a>
    tutorial on HashiCorp Learn.
   </p>
  </blockquote>
  <p>
   Output values are like the return values of a Terraform module, and have several
 uses:
  </p>
  <ul>
   <li>
    A child module can use outputs to expose a subset of its resource attributes
 to a parent module.
   </li>
   <li>
    A root module can use outputs to print certain values in the CLI output after
 running
    <code>
     terraform apply
    </code>
    .
   </li>
   <li>
    When using
    <a href="/docs/language/state/remote.html">
     remote state
    </a>
    , root module outputs can be
 accessed by other configurations via a
    <a href="/docs/language/state/remote-state-data.html">
     <code>
      terraform_remote_state
     </code>
     data source
    </a>
    .
   </li>
  </ul>
  <p>
   Resource instances managed by Terraform each export attributes whose values
 can be used elsewhere in configuration. Output values are a way to expose some
 of that information to the user of your module.
  </p>
  <div class="alert alert-info" role="alert">
   <p>
    <strong>
     Note:
    </strong>
    For brevity, output values are often referred to as just "outputs"
 when the meaning is clear from context.
   </p>
  </div>
  <h2 id="declaring-an-output-value">
   <a class="anchor" href="#declaring-an-output-value" name="declaring-an-output-value">
    »
   </a>
   Declaring an Output Value
  </h2>
  <p>
   Each output value exported by a module must be declared using an
   <code>
    output
   </code>
   block:
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">output</span> <span class="s2">"instance_ip_addr"</span> <span class="p">{</span>
   <span class="n">value</span> <span class="o">=</span> <span class="n">aws_instance</span><span class="p">.</span><span class="nf">server</span><span class="p">.</span><span class="nf">private_ip</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <p>
   The label immediately after the
   <code>
    output
   </code>
   keyword is the name, which must be a
 valid
   <a href="/docs/language/syntax/configuration.html#identifiers">
    identifier
   </a>
   . In a root module, this name is
 displayed to the user; in a child module, it can be used to access the output's
 value.
  </p>
  <p>
   The
   <code>
    value
   </code>
   argument takes an
   <a href="/docs/language/expressions/index.html">
    expression
   </a>
   whose result is to be returned to the user. In this example, the expression
 refers to the
   <code>
    private_ip
   </code>
   attribute exposed by an
   <code>
    aws_instance
   </code>
   resource
 defined elsewhere in this module (not shown). Any valid expression is allowed
 as an output value.
  </p>
  <div class="alert alert-info" role="alert">
   <p>
    <strong>
     Note:
    </strong>
    Outputs are only rendered when Terraform applies your plan. Running
    <code>
     terraform plan
    </code>
    will not render outputs.
   </p>
  </div>
  <h2 id="accessing-child-module-outputs">
   <a class="anchor" href="#accessing-child-module-outputs" name="accessing-child-module-outputs">
    »
   </a>
   Accessing Child Module Outputs
  </h2>
  <p>
   In a parent module, outputs of child modules are available in expressions as
   <code>
    module.&lt;MODULE NAME&gt;.&lt;OUTPUT NAME&gt;
   </code>
   . For example, if a child module named
   <code>
    web_server
   </code>
   declared an output named
   <code>
    instance_ip_addr
   </code>
   , you could access that
 value as
   <code>
    module.web_server.instance_ip_addr
   </code>
   .
  </p>
  <h2 id="optional-arguments">
   <a class="anchor" href="#optional-arguments" name="optional-arguments">
    »
   </a>
   Optional Arguments
  </h2>
  <p>
   <code>
    output
   </code>
   blocks can optionally include
   <code>
    description
   </code>
   ,
   <code>
    sensitive
   </code>
   , and
   <code>
    depends_on
   </code>
   arguments, which are described in the following sections.
  </p>
  <p>
   <a id="description">
   </a>
  </p>
  <h3 id="description-output-value-documentation">
   <a class="anchor" href="#description-output-value-documentation" name="description-output-value-documentation">
    »
   </a>
   <code>
    description
   </code>
   — Output Value Documentation
  </h3>
  <p>
   Because the output values of a module are part of its user interface, you can
 briefly describe the purpose of each value using the optional
   <code>
    description
   </code>
   argument:
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">output</span> <span class="s2">"instance_ip_addr"</span> <span class="p">{</span>
   <span class="n">value</span>       <span class="o">=</span> <span class="n">aws_instance</span><span class="p">.</span><span class="nf">server</span><span class="p">.</span><span class="nf">private_ip</span>
   <span class="n">description</span> <span class="o">=</span> <span class="s2">"The private IP address of the main server instance."</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <p>
   The description should concisely explain the
 purpose of the output and what kind of value is expected. This description
 string might be included in documentation about the module, and so it should be
 written from the perspective of the user of the module rather than its
 maintainer. For commentary for module maintainers, use comments.
  </p>
  <p>
   <a id="sensitive">
   </a>
  </p>
  <h3 id="sensitive-suppressing-values-in-cli-output">
   <a class="anchor" href="#sensitive-suppressing-values-in-cli-output" name="sensitive-suppressing-values-in-cli-output">
    »
   </a>
   <code>
    sensitive
   </code>
   — Suppressing Values in CLI Output
  </h3>
  <p>
   An output can be marked as containing sensitive material using the optional
   <code>
    sensitive
   </code>
   argument:
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">output</span> <span class="s2">"db_password"</span> <span class="p">{</span>
   <span class="n">value</span>       <span class="o">=</span> <span class="n">aws_db_instance</span><span class="p">.</span><span class="nf">db</span><span class="p">.</span><span class="nf">password</span>
   <span class="n">description</span> <span class="o">=</span> <span class="s2">"The password for logging in to the database."</span>
   <span class="n">sensitive</span>   <span class="o">=</span> <span class="kp">true</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <p>
   Setting an output value as sensitive prevents Terraform from showing its value
 in
   <code>
    plan
   </code>
   and
   <code>
    apply
   </code>
   . In the following scenario, our root module has an output declared as sensitive
 and a module call with a sensitive output, which we then use in a resource attribute.
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="c1"># main.tf</span>
 
 <span class="n">module</span> <span class="s2">"foo"</span> <span class="p">{</span>
   <span class="n">source</span> <span class="o">=</span> <span class="s2">"./mod"</span>
 <span class="p">}</span>
 
 <span class="n">resource</span> <span class="s2">"test_instance"</span> <span class="s2">"x"</span> <span class="p">{</span>
   <span class="n">some_attribute</span> <span class="o">=</span> <span class="n">module</span><span class="p">.</span><span class="nf">mod</span><span class="p">.</span><span class="nf">a</span> <span class="c1"># resource attribute references a sensitive output</span>
 <span class="p">}</span>
 
 <span class="n">output</span> <span class="s2">"out"</span> <span class="p">{</span>
   <span class="n">value</span>     <span class="o">=</span> <span class="s2">"xyz"</span>
   <span class="n">sensitive</span> <span class="o">=</span> <span class="kp">true</span>
 <span class="p">}</span>
 
 <span class="c1"># mod/main.tf, our module containing a sensitive output</span>
 
 <span class="n">output</span> <span class="s2">"a"</span> <span class="p">{</span>
   <span class="n">value</span>     <span class="o">=</span> <span class="s2">"secret"</span>
   <span class="n">sensitive</span> <span class="o">=</span> <span class="kp">true</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <p>
   When we run a
   <code>
    plan
   </code>
   or
   <code>
    apply
   </code>
   , the sensitive value is redacted from output:
  </p>
  <div class="highlight">
   <pre class="highlight plaintext"><code># CLI output
 
 Terraform will perform the following actions:
 
   # test_instance.x will be created
   + resource "test_instance" "x" {
       + some_attribute    = (sensitive)
     }
 
 Plan: 1 to add, 0 to change, 0 to destroy.
 
 Changes to Outputs:
   + out = (sensitive value)
 </code></pre>
  </div>
  <div class="alert alert-info" role="alert">
   <p>
    <strong>
     Note:
    </strong>
    In Terraform versions prior to Terraform 0.14, setting an output value in the root module as sensitive would prevent Terraform from showing its value in the list of outputs at the end of
    <code>
     terraform apply
    </code>
    . However, the value could still display in the CLI output for other reasons, like if the value is referenced in an expression for a resource argument.
   </p>
  </div>
  <p>
   Sensitive output values are still recorded in the
   <a href="/docs/language/state/index.html">
    state
   </a>
   , and so will be visible to anyone who is able
 to access the state data. For more information, see
   <a href="/docs/language/state/sensitive-data.html">
    <em>
     Sensitive Data in State
    </em>
   </a>
   .
  </p>
  <p>
   <a id="depends_on">
   </a>
  </p>
  <h3 id="depends_on-explicit-output-dependencies">
   <a class="anchor" href="#depends_on-explicit-output-dependencies" name="depends_on-explicit-output-dependencies">
    »
   </a>
   <code>
    depends_on
   </code>
   — Explicit Output Dependencies
  </h3>
  <p>
   Since output values are just a means for passing data out of a module, it is
 usually not necessary to worry about their relationships with other nodes in
 the dependency graph.
  </p>
  <p>
   However, when a parent module accesses an output value exported by one of its
 child modules, the dependencies of that output value allow Terraform to
 correctly determine the dependencies between resources defined in different
 modules.
  </p>
  <p>
   Just as with
   <a href="/docs/language/resources/behavior.html#resource-dependencies">
    resource dependencies
   </a>
   ,
 Terraform analyzes the
   <code>
    value
   </code>
   expression for an output value and automatically
 determines a set of dependencies, but in less-common cases there are
 dependencies that cannot be recognized implicitly. In these rare cases, the
   <code>
    depends_on
   </code>
   argument can be used to create additional explicit dependencies:
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">output</span> <span class="s2">"instance_ip_addr"</span> <span class="p">{</span>
   <span class="n">value</span>       <span class="o">=</span> <span class="n">aws_instance</span><span class="p">.</span><span class="nf">server</span><span class="p">.</span><span class="nf">private_ip</span>
   <span class="n">description</span> <span class="o">=</span> <span class="s2">"The private IP address of the main server instance."</span>
 
   <span class="n">depends_on</span> <span class="o">=</span> <span class="p">[</span>
     <span class="c1"># Security group rule must be created before this IP address could</span>
     <span class="c1"># actually be used, otherwise the services will be unreachable.</span>
     <span class="n">aws_security_group_rule</span><span class="p">.</span><span class="nf">local_access</span><span class="p">,</span>
   <span class="p">]</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <p>
   The
   <code>
    depends_on
   </code>
   argument should be used only as a last resort. When using it,
 always include a comment explaining why it is being used, to help future
 maintainers understand the purpose of the additional dependency.
  </p>
 </div>
 
 <!-- ########### Modules : Overview ############### -->
 <!-- ########### https://www.terraform.io/docs/language/values/locals.html ############### --
 ><!-- ########### Modules : Overview ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="local-values">
    <a class="anchor" href="#local-values" name="local-values">
     »
    </a>
    Local Values
   </h1>
   <div id="inner-quicknav">
    <span id="inner-quicknav-trigger">
     Jump to Section
     <svg height="5" width="9" xmlns="http://www.w3.org/2000/svg">
      <path d="M8.811 1.067a.612.612 0 0 0 0-.884.655.655 0 0 0-.908 0L4.5 3.491 1.097.183a.655.655 0 0 0-.909 0 .615.615 0 0 0 0 .884l3.857 3.75a.655.655 0 0 0 .91 0l3.856-3.75z" fill-rule="evenodd">
      </path>
     </svg>
    </span>
    <ul class="dropdown">
     <li class="level-h2">
      <a href="#declaring-a-local-value">
       »
 Declaring a Local Value
      </a>
     </li>
     <li class="level-h2">
      <a href="#using-local-values">
       »
 Using Local Values
      </a>
     </li>
     <li class="level-h2">
      <a href="#when-to-use-local-values">
       »
 When To Use Local Values
      </a>
     </li>
    </ul>
   </div>
  </div>
  <blockquote>
   <p>
    <strong>
     Hands-on:
    </strong>
    Try the
    <a href="https://learn.hashicorp.com/tutorials/terraform/locals?in=terraform/configuration-language&amp;utm_source=WEBSITE&amp;utm_medium=WEB_IO&amp;utm_offer=ARTICLE_PAGE&amp;utm_content=DOCS">
     Simplify Terraform Configuration with
 Locals
    </a>
    tutorial on HashiCorp Learn.
   </p>
  </blockquote>
  <p>
   A local value assigns a name to an
   <a href="/docs/language/expressions/index.html">
    expression
   </a>
   ,
 so you can use it multiple times within a module without repeating
 it.
  </p>
  <p>
   If you're familiar with traditional programming languages, it can be useful to
 compare Terraform modules to function definitions:
  </p>
  <ul>
   <li>
    <a href="/docs/language/values/variables.html">
     Input variables
    </a>
    are like function arguments.
   </li>
   <li>
    <a href="/docs/language/values/outputs.html">
     Output values
    </a>
    are like function return values.
   </li>
   <li>
    Local values are like a function's temporary local variables.
   </li>
  </ul>
  <div class="alert alert-info" role="alert">
   <p>
    <strong>
     Note:
    </strong>
    For brevity, local values are often referred to as just "locals"
 when the meaning is clear from context.
   </p>
  </div>
  <h2 id="declaring-a-local-value">
   <a class="anchor" href="#declaring-a-local-value" name="declaring-a-local-value">
    »
   </a>
   Declaring a Local Value
  </h2>
  <p>
   A set of related local values can be declared together in a single
   <code>
    locals
   </code>
   block:
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">locals</span> <span class="p">{</span>
   <span class="n">service_name</span> <span class="o">=</span> <span class="s2">"forum"</span>
   <span class="n">owner</span>        <span class="o">=</span> <span class="s2">"Community Team"</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <p>
   The expressions in local values are not limited to literal constants; they can
 also reference other values in the module in order to transform or combine them,
 including variables, resource attributes, or other local values:
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">locals</span> <span class="p">{</span>
   <span class="c1"># Ids for multiple sets of EC2 instances, merged together</span>
   <span class="n">instance_ids</span> <span class="o">=</span> <span class="n">concat</span><span class="p">(</span><span class="n">aws_instance</span><span class="p">.</span><span class="nf">blue</span><span class="p">.</span><span class="nf">*</span><span class="p">.</span><span class="nf">id</span><span class="p">,</span> <span class="n">aws_instance</span><span class="p">.</span><span class="nf">green</span><span class="p">.</span><span class="nf">*</span><span class="p">.</span><span class="nf">id</span><span class="p">)</span>
 <span class="p">}</span>
 
 <span class="n">locals</span> <span class="p">{</span>
   <span class="c1"># Common tags to be assigned to all resources</span>
   <span class="n">common_tags</span> <span class="o">=</span> <span class="p">{</span>
     <span class="no">Service</span> <span class="o">=</span> <span class="n">local</span><span class="p">.</span><span class="nf">service_name</span>
     <span class="no">Owner</span>   <span class="o">=</span> <span class="n">local</span><span class="p">.</span><span class="nf">owner</span>
   <span class="p">}</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <h2 id="using-local-values">
   <a class="anchor" href="#using-local-values" name="using-local-values">
    »
   </a>
   Using Local Values
  </h2>
  <p>
   Once a local value is declared, you can reference it in
   <a href="/docs/language/expressions/index.html">
    expressions
   </a>
   as
   <code>
    local.&lt;NAME&gt;
   </code>
   .
  </p>
  <div class="alert alert-info" role="alert">
   <p>
    <strong>
     Note:
    </strong>
    Local values are
    <em>
     created
    </em>
    by a
    <code>
     locals
    </code>
    block (plural), but you
    <em>
     reference
    </em>
    them as attributes on an object named
    <code>
     local
    </code>
    (singular). Make sure
 to leave off the "s" when referencing a local value!
   </p>
  </div>
  <div class="highlight">
   <pre class="highlight plaintext"><code>resource "aws_instance" "example" {
   # ...
 
   tags = local.common_tags
 }
 </code></pre>
  </div>
  <p>
   A local value can only be accessed in expressions within the module where it
 was declared.
  </p>
  <h2 id="when-to-use-local-values">
   <a class="anchor" href="#when-to-use-local-values" name="when-to-use-local-values">
    »
   </a>
   When To Use Local Values
  </h2>
  <p>
   Local values can be helpful to avoid repeating the same values or expressions
 multiple times in a configuration, but if overused they can also make a
 configuration hard to read by future maintainers by hiding the actual values
 used.
  </p>
  <p>
   Use local values only in moderation, in situations where a single value or
 result is used in many places
   <em>
    and
   </em>
   that value is likely to be changed in
 future. The ability to easily change the value in a central place is the key
 advantage of local values.
  </p>
 </div>
 
 <!-- ########### Modules : Module Blocks ############### -->
 <!-- ########### https://www.terraform.io/docs/language/modules/index.html ############### --
 ><!-- ########### Modules : Module Blocks ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="modules">
    <a class="anchor" href="#modules" name="modules">
     »
    </a>
    Modules
   </h1>
   <div id="inner-quicknav">
    <span id="inner-quicknav-trigger">
     Jump to Section
     <svg height="5" width="9" xmlns="http://www.w3.org/2000/svg">
      <path d="M8.811 1.067a.612.612 0 0 0 0-.884.655.655 0 0 0-.908 0L4.5 3.491 1.097.183a.655.655 0 0 0-.909 0 .615.615 0 0 0 0 .884l3.857 3.75a.655.655 0 0 0 .91 0l3.856-3.75z" fill-rule="evenodd">
      </path>
     </svg>
    </span>
    <ul class="dropdown">
     <li class="level-h2">
      <a href="#the-root-module">
       »
 The Root Module
      </a>
     </li>
     <li class="level-h2">
      <a href="#child-modules">
       »
 Child Modules
      </a>
     </li>
     <li class="level-h2">
      <a href="#published-modules">
       »
 Published Modules
      </a>
     </li>
     <li class="level-h2">
      <a href="#using-modules">
       »
 Using Modules
      </a>
     </li>
     <li class="level-h2">
      <a href="#developing-modules">
       »
 Developing Modules
      </a>
     </li>
    </ul>
   </div>
  </div>
  <blockquote>
   <p>
    <strong>
     Hands-on:
    </strong>
    Try the
    <a href="https://learn.hashicorp.com/collections/terraform/modules?utm_source=WEBSITE&amp;utm_medium=WEB_IO&amp;utm_offer=ARTICLE_PAGE&amp;utm_content=DOCS">
     Reuse Configuration with Modules
    </a>
    collection on HashiCorp Learn.
   </p>
  </blockquote>
  <p>
   <em>
    Modules
   </em>
   are containers for multiple resources that are used together. A module
 consists of a collection of
   <code>
    .tf
   </code>
   and/or
   <code>
    .tf.json
   </code>
   files kept together in a
 directory.
  </p>
  <p>
   Modules are the main way to package and reuse resource configurations with
 Terraform.
  </p>
  <h2 id="the-root-module">
   <a class="anchor" href="#the-root-module" name="the-root-module">
    »
   </a>
   The Root Module
  </h2>
  <p>
   Every Terraform configuration has at least one module, known as its
   <em>
    root module
   </em>
   , which consists of the resources defined in the
   <code>
    .tf
   </code>
   files in
 the main working directory.
  </p>
  <h2 id="child-modules">
   <a class="anchor" href="#child-modules" name="child-modules">
    »
   </a>
   Child Modules
  </h2>
  <p>
   A Terraform module (usually the root module of a configuration) can
   <em>
    call
   </em>
   other
 modules to include their resources into the configuration. A module that has
 been called by another module is often referred to as a
   <em>
    child module.
   </em>
  </p>
  <p>
   Child modules can be called multiple times within the same configuration, and
 multiple configurations can use the same child module.
  </p>
  <h2 id="published-modules">
   <a class="anchor" href="#published-modules" name="published-modules">
    »
   </a>
   Published Modules
  </h2>
  <p>
   In addition to modules from the local filesystem, Terraform can load modules
 from a public or private registry. This makes it possible to publish modules for
 others to use, and to use modules that others have published.
  </p>
  <p>
   The
   <a href="https://registry.terraform.io/browse/modules">
    Terraform Registry
   </a>
   hosts a
 broad collection of publicly available Terraform modules for configuring many
 kinds of common infrastructure. These modules are free to use, and Terraform can
 download them automatically if you specify the appropriate source and version in
 a module call block.
  </p>
  <p>
   Also, members of your organization might produce modules specifically crafted
 for your own infrastructure needs.
   <a href="/docs/cloud/index.html">
    Terraform Cloud
   </a>
   and
   <a href="/docs/enterprise/index.html">
    Terraform Enterprise
   </a>
   both include a private
 module registry for sharing modules internally within your organization.
  </p>
  <h2 id="using-modules">
   <a class="anchor" href="#using-modules" name="using-modules">
    »
   </a>
   Using Modules
  </h2>
  <ul>
   <li>
    <p>
     <a href="/docs/language/modules/syntax.html">
      Module Blocks
     </a>
     documents the syntax for
 calling a child module from a parent module, including meta-arguments like
     <code>
      for_each
     </code>
     .
    </p>
   </li>
   <li>
    <p>
     <a href="/docs/language/modules/sources.html">
      Module Sources
     </a>
     documents what kinds of paths,
 addresses, and URIs can be used in the
     <code>
      source
     </code>
     argument of a module block.
    </p>
   </li>
   <li>
    <p>
     The Meta-Arguments section documents special arguments that can be used with
 every module, including
     <a href="/docs/language/meta-arguments/module-providers.html">
      <code>
       providers
      </code>
     </a>
     ,
     <a href="/docs/language/meta-arguments/depends_on.html">
      <code>
       depends_on
      </code>
     </a>
     ,
     <a href="/docs/language/meta-arguments/count.html">
      <code>
       count
      </code>
     </a>
     ,
 and
     <a href="/docs/language/meta-arguments/for_each.html">
      <code>
       for_each
      </code>
     </a>
     .
    </p>
   </li>
  </ul>
  <h2 id="developing-modules">
   <a class="anchor" href="#developing-modules" name="developing-modules">
    »
   </a>
   Developing Modules
  </h2>
  <p>
   For information about developing reusable modules, see
   <a href="/docs/language/modules/develop/index.html">
    Module Development
   </a>
   .
  </p>
 </div>
 
 <!-- ########### Modules : Module Sources ############### -->
 <!-- ########### https://www.terraform.io/docs/language/modules/syntax.html ############### --
 ><!-- ########### Modules : Module Sources ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="module-blocks">
    <a class="anchor" href="#module-blocks" name="module-blocks">
     »
    </a>
    Module Blocks
   </h1>
   <div id="inner-quicknav">
    <span id="inner-quicknav-trigger">
     Jump to Section
     <svg height="5" width="9" xmlns="http://www.w3.org/2000/svg">
      <path d="M8.811 1.067a.612.612 0 0 0 0-.884.655.655 0 0 0-.908 0L4.5 3.491 1.097.183a.655.655 0 0 0-.909 0 .615.615 0 0 0 0 .884l3.857 3.75a.655.655 0 0 0 .91 0l3.856-3.75z" fill-rule="evenodd">
      </path>
     </svg>
    </span>
    <ul class="dropdown">
     <li class="level-h2">
      <a href="#calling-a-child-module">
       »
 Calling a Child Module
      </a>
     </li>
     <li class="level-h3">
      <a href="#source">
       »
 Source
      </a>
     </li>
     <li class="level-h3">
      <a href="#version">
       »
 Version
      </a>
     </li>
     <li class="level-h3">
      <a href="#meta-arguments">
       »
 Meta-arguments
      </a>
     </li>
     <li class="level-h2">
      <a href="#accessing-module-output-values">
       »
 Accessing Module Output Values
      </a>
     </li>
     <li class="level-h2">
      <a href="#transferring-resource-state-into-modules">
       »
 Transferring Resource State Into Modules
      </a>
     </li>
     <li class="level-h2">
      <a href="#tainting-resources-within-a-module">
       »
 Tainting resources within a module
      </a>
     </li>
    </ul>
   </div>
  </div>
  <blockquote>
   <p>
    <strong>
     Hands-on:
    </strong>
    Try the
    <a href="https://learn.hashicorp.com/collections/terraform/modules?utm_source=WEBSITE&amp;utm_medium=WEB_IO&amp;utm_offer=ARTICLE_PAGE&amp;utm_content=DOCS">
     Reuse Configuration with Modules
    </a>
    collection on HashiCorp Learn.
   </p>
  </blockquote>
  <p>
   A
   <em>
    module
   </em>
   is a container for multiple resources that are used together.
  </p>
  <p>
   Every Terraform configuration has at least one module, known as its
   <em>
    root module
   </em>
   , which consists of the resources defined in the
   <code>
    .tf
   </code>
   files in
 the main working directory.
  </p>
  <p>
   A module can call other modules, which lets you include the child module's
 resources into the configuration in a concise way. Modules
 can also be called multiple times, either within the same configuration or
 in separate configurations, allowing resource configurations to be packaged
 and re-used.
  </p>
  <p>
   This page describes how to call one module from another. For more information
 about creating re-usable child modules, see
   <a href="/docs/language/modules/develop/index.html">
    Module Development
   </a>
   .
  </p>
  <h2 id="calling-a-child-module">
   <a class="anchor" href="#calling-a-child-module" name="calling-a-child-module">
    »
   </a>
   Calling a Child Module
  </h2>
  <p>
   To
   <em>
    call
   </em>
   a module means to include the contents of that module into the
 configuration with specific values for its
   <a href="/docs/language/values/variables.html">
    input variables
   </a>
   . Modules are called
 from within other modules using
   <code>
    module
   </code>
   blocks:
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">module</span> <span class="s2">"servers"</span> <span class="p">{</span>
   <span class="n">source</span> <span class="o">=</span> <span class="s2">"./app-cluster"</span>
 
   <span class="n">servers</span> <span class="o">=</span> <span class="mi">5</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <p>
   A module that includes a
   <code>
    module
   </code>
   block like this is the
   <em>
    calling module
   </em>
   of the
 child module.
  </p>
  <p>
   The label immediately after the
   <code>
    module
   </code>
   keyword is a local name, which the
 calling module can use to refer to this instance of the module.
  </p>
  <p>
   Within the block body (between
   <code>
    {
   </code>
   and
   <code>
    }
   </code>
   ) are the arguments for the module.
 Module calls use the following kinds of arguments:
  </p>
  <ul>
   <li>
    <p>
     The
     <code>
      source
     </code>
     argument is mandatory for all modules.
    </p>
   </li>
   <li>
    <p>
     The
     <code>
      version
     </code>
     argument is recommended for modules from a registry.
    </p>
   </li>
   <li>
    <p>
     Most other arguments correspond to
     <a href="/docs/language/values/variables.html">
      input variables
     </a>
     defined by the module. (The
     <code>
      servers
     </code>
     argument in the example above is one of
 these.)
    </p>
   </li>
   <li>
    <p>
     Terraform defines a few other meta-arguments that can be used with all
 modules, including
     <code>
      for_each
     </code>
     and
     <code>
      depends_on
     </code>
     .
    </p>
   </li>
  </ul>
  <h3 id="source">
   <a class="anchor" href="#source" name="source">
    »
   </a>
   Source
  </h3>
  <p>
   All modules
   <strong>
    require
   </strong>
   a
   <code>
    source
   </code>
   argument, which is a meta-argument defined by
 Terraform. Its value is either the path to a local directory containing the
 module's configuration files, or a remote module source that Terraform should
 download and use. This value must be a literal string with no template
 sequences; arbitrary expressions are not allowed. For more information on
 possible values for this argument, see
   <a href="/docs/language/modules/sources.html">
    Module Sources
   </a>
   .
  </p>
  <p>
   The same source address can be specified in multiple
   <code>
    module
   </code>
   blocks to create
 multiple copies of the resources defined within, possibly with different
 variable values.
  </p>
  <p>
   After adding, removing, or modifying
   <code>
    module
   </code>
   blocks, you must re-run
   <code>
    terraform init
   </code>
   to allow Terraform the opportunity to adjust the installed
 modules. By default this command will not upgrade an already-installed module;
 use the
   <code>
    -upgrade
   </code>
   option to instead upgrade to the newest available version.
  </p>
  <h3 id="version">
   <a class="anchor" href="#version" name="version">
    »
   </a>
   Version
  </h3>
  <p>
   When using modules installed from a module registry, we recommend explicitly
 constraining the acceptable version numbers to avoid unexpected or unwanted
 changes.
  </p>
  <p>
   Use the
   <code>
    version
   </code>
   argument in the
   <code>
    module
   </code>
   block to specify versions:
  </p>
  <div class="highlight">
   <pre class="highlight shell"><code>module <span class="s2">"consul"</span> <span class="o">{</span>
   <span class="nb">source</span>  <span class="o">=</span> <span class="s2">"hashicorp/consul/aws"</span>
   version <span class="o">=</span> <span class="s2">"0.0.5"</span>
 
   servers <span class="o">=</span> 3
 <span class="o">}</span>
 </code></pre>
  </div>
  <p>
   The
   <code>
    version
   </code>
   argument accepts a
   <a href="/docs/language/expressions/version-constraints.html">
    version constraint string
   </a>
   .
 Terraform will use the newest installed version of the module that meets the
 constraint; if no acceptable versions are installed, it will download the newest
 version that meets the constraint.
  </p>
  <p>
   Version constraints are supported only for modules installed from a module
 registry, such as the public
   <a href="https://registry.terraform.io/">
    Terraform Registry
   </a>
   or
   <a href="/docs/cloud/registry/index.html">
    Terraform Cloud's private module registry
   </a>
   .
 Other module sources can provide their own versioning mechanisms within the
 source string itself, or might not support versions at all. In particular,
 modules sourced from local file paths do not support
   <code>
    version
   </code>
   ; since
 they're loaded from the same source repository, they always share the same
 version as their caller.
  </p>
  <h3 id="meta-arguments">
   <a class="anchor" href="#meta-arguments" name="meta-arguments">
    »
   </a>
   Meta-arguments
  </h3>
  <p>
   Along with
   <code>
    source
   </code>
   and
   <code>
    version
   </code>
   , Terraform defines a few more
 optional meta-arguments that have special meaning across all modules,
 described in more detail in the following pages:
  </p>
  <ul>
   <li>
    <p>
     <a name="count">
     </a>
     <a href="#count">
      <code>
       count
      </code>
     </a>
     - Creates multiple instances of a module from a single
     <code>
      module
     </code>
     block.
 See
     <a href="/docs/language/meta-arguments/count.html">
      the
      <code>
       count
      </code>
      page
     </a>
     for details.
    </p>
   </li>
   <li>
    <p>
     <a name="for_each">
     </a>
     <a href="#for_each">
      <code>
       for_each
      </code>
     </a>
     - Creates multiple instances of a module from a single
     <code>
      module
     </code>
     block. See
     <a href="/docs/language/meta-arguments/for_each.html">
      the
      <code>
       for_each
      </code>
      page
     </a>
     for details.
    </p>
   </li>
   <li>
    <p>
     <a name="providers">
     </a>
     <a href="#providers">
      <code>
       providers
      </code>
     </a>
     - Passes provider configurations to a child module. See
     <a href="/docs/language/meta-arguments/module-providers.html">
      the
      <code>
       providers
      </code>
      page
     </a>
     for details. If not specified, the child module inherits all of the default
 (un-aliased) provider configurations from the calling module.
    </p>
   </li>
   <li>
    <p>
     <a name="depends_on">
     </a>
     <a href="#depends_on">
      <code>
       depends_on
      </code>
     </a>
     - Creates explicit dependencies between the entire
 module and the listed targets. See
     <a href="/docs/language/meta-arguments/depends_on.html">
      the
      <code>
       depends_on
      </code>
      page
     </a>
     for details.
    </p>
   </li>
  </ul>
  <p>
   In addition to the above, the
   <code>
    lifecycle
   </code>
   argument is not currently used by
 Terraform but is reserved for planned future features.
  </p>
  <h2 id="accessing-module-output-values">
   <a class="anchor" href="#accessing-module-output-values" name="accessing-module-output-values">
    »
   </a>
   Accessing Module Output Values
  </h2>
  <p>
   The resources defined in a module are encapsulated, so the calling module
 cannot access their attributes directly. However, the child module can
 declare
   <a href="/docs/language/values/outputs.html">
    output values
   </a>
   to selectively
 export certain values to be accessed by the calling module.
  </p>
  <p>
   For example, if the
   <code>
    ./app-cluster
   </code>
   module referenced in the example above
 exported an output value named
   <code>
    instance_ids
   </code>
   then the calling module
 can reference that result using the expression
   <code>
    module.servers.instance_ids
   </code>
   :
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">resource</span> <span class="s2">"aws_elb"</span> <span class="s2">"example"</span> <span class="p">{</span>
   <span class="c1"># ...</span>
 
   <span class="n">instances</span> <span class="o">=</span> <span class="n">module</span><span class="p">.</span><span class="nf">servers</span><span class="p">.</span><span class="nf">instance_ids</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <p>
   For more information about referring to named values, see
   <a href="/docs/language/expressions/index.html">
    Expressions
   </a>
   .
  </p>
  <h2 id="transferring-resource-state-into-modules">
   <a class="anchor" href="#transferring-resource-state-into-modules" name="transferring-resource-state-into-modules">
    »
   </a>
   Transferring Resource State Into Modules
  </h2>
  <p>
   When refactoring an existing configuration to split code into child modules,
 moving resource blocks between modules causes Terraform to see the new location
 as an entirely different resource from the old. Always check the execution plan
 after moving code across modules to ensure that no resources are deleted by
 surprise.
  </p>
  <p>
   If you want to make sure an existing resource is preserved, use
   <a href="/docs/cli/commands/state/mv.html">
    the
    <code>
     terraform state mv
    </code>
    command
   </a>
   to inform
 Terraform that it has moved to a different module.
  </p>
  <p>
   When passing resource addresses to
   <code>
    terraform state mv
   </code>
   , resources within child
 modules must be prefixed with
   <code>
    module.&lt;MODULE NAME&gt;.
   </code>
   . If a module was called with
   <a href="/docs/language/meta-arguments/count.html">
    <code>
     count
    </code>
   </a>
   or
   <a href="/docs/language/meta-arguments/for_each.html">
    <code>
     for_each
    </code>
   </a>
   ,
 its resource addresses must be prefixed with
   <code>
    module.&lt;MODULE NAME&gt;[&lt;INDEX&gt;].
   </code>
   instead, where
   <code>
    &lt;INDEX&gt;
   </code>
   matches the
   <code>
    count.index
   </code>
   or
   <code>
    each.key
   </code>
   value of a
 particular module instance.
  </p>
  <p>
   Full resource addresses for module contents are used within the UI and on the
 command line, but cannot be used within a Terraform configuration. Only
   <a href="/docs/language/values/outputs.html">
    outputs
   </a>
   from a module can be referenced from
 elsewhere in your configuration.
  </p>
  <h2 id="tainting-resources-within-a-module">
   <a class="anchor" href="#tainting-resources-within-a-module" name="tainting-resources-within-a-module">
    »
   </a>
   Tainting resources within a module
  </h2>
  <p>
   The
   <a href="/docs/cli/commands/taint.html">
    taint command
   </a>
   can be used to
   <em>
    taint
   </em>
   specific
 resources within a module:
  </p>
  <div class="highlight">
   <pre class="highlight shell"><code><span class="nv">$ </span>terraform taint module.salt_master.aws_instance.salt_master
 </code></pre>
  </div>
  <p>
   It is not possible to taint an entire module. Instead, each resource within
 the module must be tainted separately.
  </p>
 </div>
 
 <!-- ########### Meta-Arguments : providers ############### -->
 <!-- ########### https://www.terraform.io/docs/language/modules/sources.html ############### --
 ><!-- ########### Meta-Arguments : providers ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="module-sources">
    <a class="anchor" href="#module-sources" name="module-sources">
     »
    </a>
    Module Sources
   </h1>
   <div id="inner-quicknav">
    <span id="inner-quicknav-trigger">
     Jump to Section
     <svg height="5" width="9" xmlns="http://www.w3.org/2000/svg">
      <path d="M8.811 1.067a.612.612 0 0 0 0-.884.655.655 0 0 0-.908 0L4.5 3.491 1.097.183a.655.655 0 0 0-.909 0 .615.615 0 0 0 0 .884l3.857 3.75a.655.655 0 0 0 .91 0l3.856-3.75z" fill-rule="evenodd">
      </path>
     </svg>
    </span>
    <ul class="dropdown">
     <li class="level-h2">
      <a href="#local-paths">
       »
 Local Paths
      </a>
     </li>
     <li class="level-h2">
      <a href="#terraform-registry">
       »
 Terraform Registry
      </a>
     </li>
     <li class="level-h2">
      <a href="#github">
       »
 GitHub
      </a>
     </li>
     <li class="level-h2">
      <a href="#bitbucket">
       »
 Bitbucket
      </a>
     </li>
     <li class="level-h2">
      <a href="#generic-git-repository">
       »
 Generic Git Repository
      </a>
     </li>
     <li class="level-h3">
      <a href="#selecting-a-revision">
       »
 Selecting a Revision
      </a>
     </li>
     <li class="level-h3">
      <a href="#quot-scp-like-quot-address-syntax">
       »
 "scp-like" address syntax
      </a>
     </li>
     <li class="level-h2">
      <a href="#generic-mercurial-repository">
       »
 Generic Mercurial Repository
      </a>
     </li>
     <li class="level-h3">
      <a href="#selecting-a-revision-1">
       »
 Selecting a Revision
      </a>
     </li>
     <li class="level-h2">
      <a href="#http-urls">
       »
 HTTP URLs
      </a>
     </li>
     <li class="level-h3">
      <a href="#fetching-archives-over-http">
       »
 Fetching archives over HTTP
      </a>
     </li>
     <li class="level-h2">
      <a href="#s3-bucket">
       »
 S3 Bucket
      </a>
     </li>
     <li class="level-h2">
      <a href="#gcs-bucket">
       »
 GCS Bucket
      </a>
     </li>
     <li class="level-h2">
      <a href="#modules-in-package-sub-directories">
       »
 Modules in Package Sub-directories
      </a>
     </li>
    </ul>
   </div>
  </div>
  <p>
   The
   <code>
    source
   </code>
   argument in
   <a href="/docs/language/modules/syntax.html">
    a
    <code>
     module
    </code>
    block
   </a>
   tells Terraform where to find the source code for the desired child module.
  </p>
  <p>
   Terraform uses this during the module installation step of
   <code>
    terraform init
   </code>
   to download the source code to a directory on local disk so that it can be
 used by other Terraform commands.
  </p>
  <p>
   The module installer supports installation from a number of different source
 types, as listed below.
  </p>
  <ul>
   <li>
    <p>
     <a href="#local-paths">
      Local paths
     </a>
    </p>
   </li>
   <li>
    <p>
     <a href="#terraform-registry">
      Terraform Registry
     </a>
    </p>
   </li>
   <li>
    <p>
     <a href="#github">
      GitHub
     </a>
    </p>
   </li>
   <li>
    <p>
     <a href="#bitbucket">
      Bitbucket
     </a>
    </p>
   </li>
   <li>
    <p>
     Generic
     <a href="#generic-git-repository">
      Git
     </a>
     ,
     <a href="#generic-mercurial-repository">
      Mercurial
     </a>
     repositories
    </p>
   </li>
   <li>
    <p>
     <a href="#http-urls">
      HTTP URLs
     </a>
    </p>
   </li>
   <li>
    <p>
     <a href="#s3-bucket">
      S3 buckets
     </a>
    </p>
   </li>
   <li>
    <p>
     <a href="#gcs-bucket">
      GCS buckets
     </a>
    </p>
   </li>
  </ul>
  <p>
   Each of these is described in the following sections. Module source addresses
 use a
   <em>
    URL-like
   </em>
   syntax, but with extensions to support unambiguous selection
 of sources and additional features.
  </p>
  <p>
   We recommend using local file paths for closely-related modules used primarily
 for the purpose of factoring out repeated code elements, and using a native
 Terraform module registry for modules intended to be shared by multiple calling
 configurations. We support other sources so that you can potentially distribute
 Terraform modules internally with existing infrastructure.
  </p>
  <p>
   Many of the source types will make use of "ambient" credentials available
 when Terraform is run, such as from environment variables or credentials files
 in your home directory. This is covered in more detail in each of the following
 sections.
  </p>
  <p>
   We recommend placing each module that is intended to be re-usable in the root
 of its own repository or archive file, but it is also possible to
   <a href="#modules-in-package-sub-directories">
    reference modules from subdirectories
   </a>
   .
  </p>
  <h2 id="local-paths">
   <a class="anchor" href="#local-paths" name="local-paths">
    »
   </a>
   Local Paths
  </h2>
  <p>
   Local path references allow for factoring out portions of a configuration
 within a single source repository.
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">module</span> <span class="s2">"consul"</span> <span class="p">{</span>
   <span class="n">source</span> <span class="o">=</span> <span class="s2">"./consul"</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <p>
   A local path must begin with either
   <code>
    ./
   </code>
   or
   <code>
    ../
   </code>
   to indicate that a local
 path is intended, to distinguish from
   <a href="#terraform-registry">
    a module registry address
   </a>
   .
  </p>
  <p>
   Local paths are special in that they are not "installed" in the same sense
 that other sources are: the files are already present on local disk (possibly
 as a result of installing a parent module) and so can just be used directly.
 Their source code is automatically updated if the parent module is upgraded.
  </p>
  <h2 id="terraform-registry">
   <a class="anchor" href="#terraform-registry" name="terraform-registry">
    »
   </a>
   Terraform Registry
  </h2>
  <p>
   A module registry is the native way of distributing Terraform modules for use
 across multiple configurations, using a Terraform-specific protocol that
 has full support for module versioning.
  </p>
  <p>
   <a href="https://registry.terraform.io/">
    Terraform Registry
   </a>
   is an index of modules
 shared publicly using this protocol. This public registry is the easiest way
 to get started with Terraform and find modules created by others in the
 community.
  </p>
  <p>
   You can also use a
   <a href="/docs/registry/private.html">
    private registry
   </a>
   , either
 via the built-in feature from Terraform Cloud, or by running a custom
 service that implements
   <a href="/docs/registry/api.html">
    the module registry protocol
   </a>
   .
  </p>
  <p>
   Modules on the public Terraform Registry can be referenced using a registry
 source address of the form
   <code>
    &lt;NAMESPACE&gt;/&lt;NAME&gt;/&lt;PROVIDER&gt;
   </code>
   , with each
 module's information page on the registry site including the exact address
 to use.
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">module</span> <span class="s2">"consul"</span> <span class="p">{</span>
   <span class="n">source</span> <span class="o">=</span> <span class="s2">"hashicorp/consul/aws"</span>
   <span class="n">version</span> <span class="o">=</span> <span class="s2">"0.1.0"</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <p>
   The above example will use the
   <a href="https://registry.terraform.io/modules/hashicorp/consul/aws">
    Consul module for AWS
   </a>
   from the public registry.
  </p>
  <p>
   For modules hosted in other registries, prefix the source address with an
 additional
   <code>
    &lt;HOSTNAME&gt;/
   </code>
   portion, giving the hostname of the private registry:
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">module</span> <span class="s2">"consul"</span> <span class="p">{</span>
   <span class="n">source</span> <span class="o">=</span> <span class="s2">"app.terraform.io/example-corp/k8s-cluster/azurerm"</span>
   <span class="n">version</span> <span class="o">=</span> <span class="s2">"1.1.0"</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <p>
   If you are using the SaaS version of Terraform Cloud, its private
 registry hostname is
   <code>
    app.terraform.io
   </code>
   . If you are using a Terraform Enterprise
 instance, its private registry hostname is the same hostname you use to
 access the Terraform Cloud application.
  </p>
  <p>
   Registry modules support versioning. You can provide a specific version as shown
 in the above examples, or use flexible
   <a href="/docs/language/modules/syntax.html#version">
    version constraints
   </a>
   .
  </p>
  <p>
   You can learn more about the registry at the
   <a href="/docs/registry/modules/use.html#using-modules">
    Terraform Registry documentation
   </a>
   .
  </p>
  <p>
   To access modules from a private registry, you may need to configure an access
 token
   <a href="/docs/cli/config/config-file.html#credentials">
    in the CLI config
   </a>
   . Use the
 same hostname as used in the module source string. For a private registry
 within Terraform Cloud, use the same authentication token as you would
 use with the Enterprise API or command-line clients.
  </p>
  <h2 id="github">
   <a class="anchor" href="#github" name="github">
    »
   </a>
   GitHub
  </h2>
  <p>
   Terraform will recognize unprefixed
   <code>
    github.com
   </code>
   URLs and interpret them
 automatically as Git repository sources.
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">module</span> <span class="s2">"consul"</span> <span class="p">{</span>
   <span class="n">source</span> <span class="o">=</span> <span class="s2">"github.com/hashicorp/example"</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <p>
   The above address scheme will clone over HTTPS. To clone over SSH, use the
 following form:
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">module</span> <span class="s2">"consul"</span> <span class="p">{</span>
   <span class="n">source</span> <span class="o">=</span> <span class="s2">"git@github.com:hashicorp/example.git"</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <p>
   These GitHub schemes are treated as convenient aliases for
   <a href="#generic-git-repository">
    the general Git repository address scheme
   </a>
   , and so
 they obtain credentials in the same way and support the
   <code>
    ref
   </code>
   argument for
 selecting a specific revision. You will need to configure credentials in
 particular to access private repositories.
  </p>
  <h2 id="bitbucket">
   <a class="anchor" href="#bitbucket" name="bitbucket">
    »
   </a>
   Bitbucket
  </h2>
  <p>
   Terraform will recognize unprefixed
   <code>
    bitbucket.org
   </code>
   URLs and interpret them
 automatically as BitBucket repositories:
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">module</span> <span class="s2">"consul"</span> <span class="p">{</span>
   <span class="n">source</span> <span class="o">=</span> <span class="s2">"bitbucket.org/hashicorp/terraform-consul-aws"</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <p>
   This shorthand works only for public repositories, because Terraform must
 access the BitBucket API to learn if the given repository uses Git or Mercurial.
  </p>
  <p>
   Terraform treats the result either as
   <a href="#generic-git-repository">
    a Git source
   </a>
   or
   <a href="#generic-mercurial-repository">
    a Mercurial source
   </a>
   depending on the
 repository type. See the sections on each version control type for information
 on how to configure credentials for private repositories and how to specify
 a specific revision to install.
  </p>
  <h2 id="generic-git-repository">
   <a class="anchor" href="#generic-git-repository" name="generic-git-repository">
    »
   </a>
   Generic Git Repository
  </h2>
  <p>
   Arbitrary Git repositories can be used by prefixing the address with the
 special
   <code>
    git::
   </code>
   prefix. After this prefix, any valid
   <a href="https://git-scm.com/docs/git-clone#_git_urls_a_id_urls_a">
    Git URL
   </a>
   can be specified to select one of the protocols supported by Git.
  </p>
  <p>
   For example, to use HTTPS or SSH:
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">module</span> <span class="s2">"vpc"</span> <span class="p">{</span>
   <span class="n">source</span> <span class="o">=</span> <span class="s2">"git::https://example.com/vpc.git"</span>
 <span class="p">}</span>
 
 <span class="n">module</span> <span class="s2">"storage"</span> <span class="p">{</span>
   <span class="n">source</span> <span class="o">=</span> <span class="s2">"git::ssh://username@example.com/storage.git"</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <p>
   Terraform installs modules from Git repositories by running
   <code>
    git clone
   </code>
   , and
 so it will respect any local Git configuration set on your system, including
 credentials. To access a non-public Git repository, configure Git with
 suitable credentials for that repository.
  </p>
  <p>
   If you use the SSH protocol then any configured SSH keys will be used
 automatically. This is the most common way to access non-public Git
 repositories from automated systems because it allows access to private
 repositories without interactive prompts.
  </p>
  <p>
   If using the HTTP/HTTPS protocol, or any other protocol that uses
 username/password credentials, configure
   <a href="https://git-scm.com/book/en/v2/Git-Tools-Credential-Storage">
    Git Credentials Storage
   </a>
   to select a suitable source of credentials for your environment.
  </p>
  <p>
   If your Terraform configuration will be used within
   <a href="https://www.hashicorp.com/products/terraform">
    Terraform Cloud
   </a>
   ,
 only SSH key authentication is supported, and
   <a href="/docs/cloud/workspaces/ssh-keys.html">
    keys can be configured on a per-workspace basis
   </a>
   .
  </p>
  <h3 id="selecting-a-revision">
   <a class="anchor" href="#selecting-a-revision" name="selecting-a-revision">
    »
   </a>
   Selecting a Revision
  </h3>
  <p>
   By default, Terraform will clone and use the default branch (referenced by
   <code>
    HEAD
   </code>
   ) in the selected repository. You can override this using the
   <code>
    ref
   </code>
   argument:
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">module</span> <span class="s2">"vpc"</span> <span class="p">{</span>
   <span class="n">source</span> <span class="o">=</span> <span class="s2">"git::https://example.com/vpc.git?ref=v1.2.0"</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <p>
   The value of the
   <code>
    ref
   </code>
   argument can be any reference that would be accepted
 by the
   <code>
    git checkout
   </code>
   command, including branch and tag names.
  </p>
  <h3 id="quot-scp-like-quot-address-syntax">
   <a class="anchor" href="#quot-scp-like-quot-address-syntax" name="quot-scp-like-quot-address-syntax">
    »
   </a>
   "scp-like" address syntax
  </h3>
  <p>
   When using Git over SSH, we recommend using the
   <code>
    ssh://
   </code>
   -prefixed URL form
 for consistency with all of the other URL-like git address forms.
 You may opt to use the alternative "scp-like" syntax instead, in which case you
 must omit the
   <code>
    ssh://
   </code>
   scheme part and include only the
   <code>
    git::
   </code>
   part.
 For example:
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">module</span> <span class="s2">"storage"</span> <span class="p">{</span>
   <span class="n">source</span> <span class="o">=</span> <span class="s2">"git::username@example.com:storage.git"</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <p>
   If you use the
   <code>
    ssh://
   </code>
   URL scheme then Terraform will assume that the colon
 marks the beginning of a port number, rather than the beginning of the path.
 This matches how Git itself interprets these different forms, aside from
 the Terraform-specific
   <code>
    git::
   </code>
   selector prefix.
  </p>
  <h2 id="generic-mercurial-repository">
   <a class="anchor" href="#generic-mercurial-repository" name="generic-mercurial-repository">
    »
   </a>
   Generic Mercurial Repository
  </h2>
  <p>
   You can use arbitrary Mercurial repositories by prefixing the address with the
 special
   <code>
    hg::
   </code>
   prefix. After this prefix, any valid
   <a href="https://www.mercurial-scm.org/repo/hg/help/urls">
    Mercurial URL
   </a>
   can be specified to select one of the protocols supported by Mercurial.
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">module</span> <span class="s2">"vpc"</span> <span class="p">{</span>
   <span class="n">source</span> <span class="o">=</span> <span class="s2">"hg::http://example.com/vpc.hg"</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <p>
   Terraform installs modules from Mercurial repositories by running
   <code>
    hg clone
   </code>
   , and
 so it will respect any local Mercurial configuration set on your system,
 including credentials. To access a non-public repository, configure Mercurial
 with suitable credentials for that repository.
  </p>
  <p>
   If you use the SSH protocol then any configured SSH keys will be used
 automatically. This is the most common way to access non-public Mercurial
 repositories from automated systems because it allows access to private
 repositories without interactive prompts.
  </p>
  <p>
   If your Terraform configuration will be used within
   <a href="https://www.hashicorp.com/products/terraform">
    Terraform Cloud
   </a>
   ,
 only SSH key authentication is supported, and
   <a href="/docs/cloud/workspaces/ssh-keys.html">
    keys can be configured on a per-workspace basis
   </a>
   .
  </p>
  <h3 id="selecting-a-revision-1">
   <a class="anchor" href="#selecting-a-revision-1" name="selecting-a-revision-1">
    »
   </a>
   Selecting a Revision
  </h3>
  <p>
   You can select a non-default branch or tag using the optional
   <code>
    ref
   </code>
   argument:
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">module</span> <span class="s2">"vpc"</span> <span class="p">{</span>
   <span class="n">source</span> <span class="o">=</span> <span class="s2">"hg::http://example.com/vpc.hg?ref=v1.2.0"</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <h2 id="http-urls">
   <a class="anchor" href="#http-urls" name="http-urls">
    »
   </a>
   HTTP URLs
  </h2>
  <p>
   When you use an HTTP or HTTPS URL, Terraform will make a
   <code>
    GET
   </code>
   request to
 the given URL, which can return
   <em>
    another
   </em>
   source address. This indirection
 allows using HTTP URLs as a sort of "vanity redirect" over a more complicated
 module source address.
  </p>
  <p>
   Terraform will append an additional query string argument
   <code>
    terraform-get=1
   </code>
   to
 the given URL before sending the
   <code>
    GET
   </code>
   request, allowing the server to
 optionally return a different result when Terraform is requesting it.
  </p>
  <p>
   If the response is successful (
   <code>
    200
   </code>
   -range status code), Terraform looks in
 the following locations in order for the next address to access:
  </p>
  <ul>
   <li>
    <p>
     The value of a response header field named
     <code>
      X-Terraform-Get
     </code>
     .
    </p>
   </li>
   <li>
    <p>
     If the response is an HTML page, a
     <code>
      meta
     </code>
     element with the name
     <code>
      terraform-get
     </code>
     :
    </p>
   </li>
  </ul>
  <div class="highlight">
   <pre class="highlight html"><code>  <span class="nt">&lt;meta</span> <span class="na">name=</span><span class="s">"terraform-get"</span>
         <span class="na">content=</span><span class="s">"github.com/hashicorp/example"</span> <span class="nt">/&gt;</span>
 </code></pre>
  </div>
  <p>
   In either case, the result is interpreted as another module source address
 using one of the forms documented elsewhere on this page.
  </p>
  <p>
   If an HTTP/HTTPS URL requires authentication credentials, use a
   <code>
    .netrc
   </code>
   file in your home directory to configure these. For information on this format,
 see
   <a href="https://ec.haxx.se/usingcurl-netrc.html">
    the documentation for using it in
    <code>
     curl
    </code>
   </a>
   .
  </p>
  <h3 id="fetching-archives-over-http">
   <a class="anchor" href="#fetching-archives-over-http" name="fetching-archives-over-http">
    »
   </a>
   Fetching archives over HTTP
  </h3>
  <p>
   As a special case, if Terraform detects that the URL has a common file
 extension associated with an archive file format then it will bypass the
 special
   <code>
    terraform-get=1
   </code>
   redirection described above and instead just use
 the contents of the referenced archive as the module source code:
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">module</span> <span class="s2">"vpc"</span> <span class="p">{</span>
   <span class="n">source</span> <span class="o">=</span> <span class="s2">"https://example.com/vpc-module.zip"</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <p>
   The extensions that Terraform recognizes for this special behavior are:
  </p>
  <ul>
   <li>
    <a name="zip">
    </a>
    <a href="#zip">
     <code>
      zip
     </code>
    </a>
   </li>
   <li>
    <a name="tar-bz2">
    </a>
    <a href="#tar-bz2">
     <code>
      tar.bz2
     </code>
    </a>
    and
    <code>
     tbz2
    </code>
   </li>
   <li>
    <a name="tar-gz">
    </a>
    <a href="#tar-gz">
     <code>
      tar.gz
     </code>
    </a>
    and
    <code>
     tgz
    </code>
   </li>
   <li>
    <a name="tar-xz">
    </a>
    <a href="#tar-xz">
     <code>
      tar.xz
     </code>
    </a>
    and
    <code>
     txz
    </code>
   </li>
  </ul>
  <p>
   If your URL
   <em>
    doesn't
   </em>
   have one of these extensions but refers to an archive
 anyway, use the
   <code>
    archive
   </code>
   argument to force this interpretation:
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">module</span> <span class="s2">"vpc"</span> <span class="p">{</span>
   <span class="n">source</span> <span class="o">=</span> <span class="s2">"https://example.com/vpc-module?archive=zip"</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <div class="alert alert-info" role="alert">
   <p>
    <strong>
     Note:
    </strong>
    If the content of the archive file is a directory, you will need to
 include that directory in the module source. Read the section on
    <a href="#modules-in-package-sub-directories">
     Modules in Package Sub-directories
    </a>
    for more
 information.
   </p>
  </div>
  <h2 id="s3-bucket">
   <a class="anchor" href="#s3-bucket" name="s3-bucket">
    »
   </a>
   S3 Bucket
  </h2>
  <p>
   You can use archives stored in S3 as module sources using the special
   <code>
    s3::
   </code>
   prefix, followed by
   <a href="http://docs.aws.amazon.com/AmazonS3/latest/dev/UsingBucket.html#access-bucket-intro">
    an S3 bucket object URL
   </a>
   .
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">module</span> <span class="s2">"consul"</span> <span class="p">{</span>
   <span class="n">source</span> <span class="o">=</span> <span class="s2">"s3::https://s3-eu-west-1.amazonaws.com/examplecorp-terraform-modules/vpc.zip"</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <div class="alert alert-info" role="alert">
   <p>
    <strong>
     Note:
    </strong>
    Buckets in AWS's us-east-1 region must use the hostname
    <code>
     s3.amazonaws.com
    </code>
    (instead of
    <code>
     s3-us-east-1.amazonaws.com
    </code>
    ).
   </p>
  </div>
  <p>
   The
   <code>
    s3::
   </code>
   prefix causes Terraform to use AWS-style authentication when
 accessing the given URL. As a result, this scheme may also work for other
 services that mimic the S3 API, as long as they handle authentication in the
 same way as AWS.
  </p>
  <p>
   The resulting object must be an archive with one of the same file
 extensions as for
   <a href="#fetching-archives-over-http">
    archives over standard HTTP
   </a>
   .
 Terraform will extract the archive to obtain the module source tree.
  </p>
  <p>
   The module installer looks for AWS credentials in the following locations,
 preferring those earlier in the list when multiple are available:
  </p>
  <ul>
   <li>
    The
    <code>
     AWS_ACCESS_KEY_ID
    </code>
    and
    <code>
     AWS_SECRET_ACCESS_KEY
    </code>
    environment variables.
   </li>
   <li>
    The default profile in the
    <code>
     .aws/credentials
    </code>
    file in your home directory.
   </li>
   <li>
    If running on an EC2 instance, temporary credentials associated with the
 instance's IAM Instance Profile.
   </li>
  </ul>
  <h2 id="gcs-bucket">
   <a class="anchor" href="#gcs-bucket" name="gcs-bucket">
    »
   </a>
   GCS Bucket
  </h2>
  <p>
   You can use archives stored in Google Cloud Storage as module sources using the special
   <code>
    gcs::
   </code>
   prefix, followed by
   <a href="https://cloud.google.com/storage/docs/request-endpoints#typical">
    a GCS bucket object URL
   </a>
   .
  </p>
  <p>
   For example
  </p>
  <ul>
   <li>
    <a name="gcs-https-www-googleapis-com-storage-v1-bucket_name-path_to_module">
    </a>
    <a href="#gcs-https-www-googleapis-com-storage-v1-bucket_name-path_to_module">
     <code>
      gcs::https://www.googleapis.com/storage/v1/BUCKET_NAME/PATH_TO_MODULE
     </code>
    </a>
   </li>
   <li>
    <a name="gcs-https-www-googleapis-com-storage-v1-bucket_name-path-to-module-zip">
    </a>
    <a href="#gcs-https-www-googleapis-com-storage-v1-bucket_name-path-to-module-zip">
     <code>
      gcs::https://www.googleapis.com/storage/v1/BUCKET_NAME/PATH/TO/module.zip
     </code>
    </a>
   </li>
  </ul>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">module</span> <span class="s2">"consul"</span> <span class="p">{</span>
   <span class="n">source</span> <span class="o">=</span> <span class="s2">"gcs::https://www.googleapis.com/storage/v1/modules/foomodule.zip"</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <p>
   The module installer uses Google Cloud SDK to authenticate with GCS. To set credentials you can:
  </p>
  <ul>
   <li>
    Enter the path of your service account key file in the GOOGLE_APPLICATION_CREDENTIALS environment variable, or;
   </li>
   <li>
    If you're running Terraform from a GCE instance, default credentials are automatically available. See
    <a href="https://cloud.google.com/compute/docs/authentication">
     Creating and Enabling Service Accounts
    </a>
    for Instances for more details
   </li>
   <li>
    On your computer, you can make your Google identity available by running
    <code>
     gcloud auth application-default login
    </code>
    .
   </li>
  </ul>
  <h2 id="modules-in-package-sub-directories">
   <a class="anchor" href="#modules-in-package-sub-directories" name="modules-in-package-sub-directories">
    »
   </a>
   Modules in Package Sub-directories
  </h2>
  <p>
   When the source of a module is a version control repository or archive file
 (generically, a "package"), the module itself may be in a sub-directory relative
 to the root of the package.
  </p>
  <p>
   A special double-slash syntax is interpreted by Terraform to indicate that
 the remaining path after that point is a sub-directory within the package.
 For example:
  </p>
  <ul>
   <li>
    <a name="hashicorp-consul-aws-modules-consul-cluster">
    </a>
    <a href="#hashicorp-consul-aws-modules-consul-cluster">
     <code>
      hashicorp/consul/aws//modules/consul-cluster
     </code>
    </a>
   </li>
   <li>
    <a name="git-https-example-com-network-git-modules-vpc">
    </a>
    <a href="#git-https-example-com-network-git-modules-vpc">
     <code>
      git::https://example.com/network.git//modules/vpc
     </code>
    </a>
   </li>
   <li>
    <a name="https-example-com-network-module-zip-modules-vpc">
    </a>
    <a href="#https-example-com-network-module-zip-modules-vpc">
     <code>
      https://example.com/network-module.zip//modules/vpc
     </code>
    </a>
   </li>
   <li>
    <a name="s3-https-s3-eu-west-1-amazonaws-com-examplecorp-terraform-modules-network-zip-modules-vpc">
    </a>
    <a href="#s3-https-s3-eu-west-1-amazonaws-com-examplecorp-terraform-modules-network-zip-modules-vpc">
     <code>
      s3::https://s3-eu-west-1.amazonaws.com/examplecorp-terraform-modules/network.zip//modules/vpc
     </code>
    </a>
   </li>
  </ul>
  <p>
   If the source address has arguments, such as the
   <code>
    ref
   </code>
   argument supported for
 the version control sources, the sub-directory portion must be
   <em>
    before
   </em>
   those
 arguments:
  </p>
  <ul>
   <li>
    <a name="git-https-example-com-network-git-modules-vpc-ref-v1-2-0">
    </a>
    <a href="#git-https-example-com-network-git-modules-vpc-ref-v1-2-0">
     <code>
      git::https://example.com/network.git//modules/vpc?ref=v1.2.0
     </code>
    </a>
   </li>
  </ul>
  <p>
   Terraform will still extract the entire package to local disk, but will read
 the module from the subdirectory. As a result, it is safe for a module in
 a sub-directory of a package to use
   <a href="#local-paths">
    a local path
   </a>
   to another
 module as long as it is in the
   <em>
    same
   </em>
   package.
  </p>
 </div>
 
 <!-- ########### Module Development : Overview ############### -->
 <!-- ########### https://www.terraform.io/docs/language/meta-arguments/module-providers.html ############### --
 ><!-- ########### Module Development : Overview ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="the-module-providers-meta-argument">
    <a class="anchor" href="#the-module-providers-meta-argument" name="the-module-providers-meta-argument">
     »
    </a>
    The Module
    <code>
     providers
    </code>
    Meta-Argument
   </h1>
   <div id="inner-quicknav">
    <span id="inner-quicknav-trigger">
     Jump to Section
     <svg height="5" width="9" xmlns="http://www.w3.org/2000/svg">
      <path d="M8.811 1.067a.612.612 0 0 0 0-.884.655.655 0 0 0-.908 0L4.5 3.491 1.097.183a.655.655 0 0 0-.909 0 .615.615 0 0 0 0 .884l3.857 3.75a.655.655 0 0 0 .91 0l3.856-3.75z" fill-rule="evenodd">
      </path>
     </svg>
    </span>
    <ul class="dropdown">
     <li class="level-h2">
      <a href="#default-behavior-inherit-default-providers">
       »
 Default Behavior: Inherit Default Providers
      </a>
     </li>
     <li class="level-h2">
      <a href="#usage-and-behavior">
       »
 Usage and Behavior
      </a>
     </li>
     <li class="level-h2">
      <a href="#when-to-specify-providers">
       »
 When to Specify Providers
      </a>
     </li>
     <li class="level-h3">
      <a href="#changing-default-provider-configurations">
       »
 Changing Default Provider Configurations
      </a>
     </li>
     <li class="level-h3">
      <a href="#modules-with-alternate-provider-configurations">
       »
 Modules With Alternate Provider Configurations
      </a>
     </li>
     <li class="level-h2">
      <a href="#more-information-for-module-developers">
       »
 More Information for Module Developers
      </a>
     </li>
    </ul>
   </div>
  </div>
  <p>
   In a
   <a href="/docs/language/modules/syntax.html">
    module call
   </a>
   block, the
 optional
   <code>
    providers
   </code>
   meta-argument specifies which
   <a href="/docs/language/providers/configuration.html">
    provider configurations
   </a>
   from the parent
 module will be available inside the child module.
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="c1"># The default "aws" configuration is used for AWS resources in the root</span>
 <span class="c1"># module where no explicit provider instance is selected.</span>
 <span class="n">provider</span> <span class="s2">"aws"</span> <span class="p">{</span>
   <span class="n">region</span> <span class="o">=</span> <span class="s2">"us-west-1"</span>
 <span class="p">}</span>
 
 <span class="c1"># An alternate configuration is also defined for a different</span>
 <span class="c1"># region, using the alias "usw2".</span>
 <span class="n">provider</span> <span class="s2">"aws"</span> <span class="p">{</span>
   <span class="k">alias</span>  <span class="o">=</span> <span class="s2">"usw2"</span>
   <span class="n">region</span> <span class="o">=</span> <span class="s2">"us-west-2"</span>
 <span class="p">}</span>
 
 <span class="c1"># An example child module is instantiated with the alternate configuration,</span>
 <span class="c1"># so any AWS resources it defines will use the us-west-2 region.</span>
 <span class="n">module</span> <span class="s2">"example"</span> <span class="p">{</span>
   <span class="n">source</span>    <span class="o">=</span> <span class="s2">"./example"</span>
   <span class="n">providers</span> <span class="o">=</span> <span class="p">{</span>
     <span class="n">aws</span> <span class="o">=</span> <span class="n">aws</span><span class="p">.</span><span class="nf">usw2</span>
   <span class="p">}</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <h2 id="default-behavior-inherit-default-providers">
   <a class="anchor" href="#default-behavior-inherit-default-providers" name="default-behavior-inherit-default-providers">
    »
   </a>
   Default Behavior: Inherit Default Providers
  </h2>
  <p>
   The
   <code>
    providers
   </code>
   argument is optional. If you omit it, a child module inherits
 all of the
   <em>
    default
   </em>
   provider configurations from its parent module. (Default
 provider configurations are ones that don't use the
   <code>
    alias
   </code>
   argument.)
  </p>
  <p>
   If you specify a
   <code>
    providers
   </code>
   argument, it cancels this default behavior, and the
 child module will
   <em>
    only
   </em>
   have access to the provider configurations you specify.
  </p>
  <h2 id="usage-and-behavior">
   <a class="anchor" href="#usage-and-behavior" name="usage-and-behavior">
    »
   </a>
   Usage and Behavior
  </h2>
  <p>
   The value of
   <code>
    providers
   </code>
   is a map, where:
  </p>
  <ul>
   <li>
    The keys are the provider configuration names used inside the child module.
   </li>
   <li>
    The values are provider configuration names from the parent module.
   </li>
  </ul>
  <p>
   Both keys and values should be unquoted references to provider configurations.
 For default configurations, this is the local name of the provider; for
 alternate configurations, this is a
   <code>
    &lt;PROVIDER&gt;.&lt;ALIAS&gt;
   </code>
   reference.
  </p>
  <p>
   Within a child module, resources are assigned to provider configurations as
 normal — either Terraform chooses a default based on the name of the resource
 type, or the resource specifies an alternate configuration with the
   <code>
    provider
   </code>
   argument. If the module receives a
   <code>
    providers
   </code>
   map when it's called, the
 provider configuration names used within the module are effectively remapped to
 refer the specified configurations from the parent module.
  </p>
  <h2 id="when-to-specify-providers">
   <a class="anchor" href="#when-to-specify-providers" name="when-to-specify-providers">
    »
   </a>
   When to Specify Providers
  </h2>
  <p>
   There are two main reasons to use the
   <code>
    providers
   </code>
   argument:
  </p>
  <ul>
   <li>
    Using different default provider configurations for a child module.
   </li>
   <li>
    Configuring a module that requires multiple configurations of the same provider.
   </li>
  </ul>
  <h3 id="changing-default-provider-configurations">
   <a class="anchor" href="#changing-default-provider-configurations" name="changing-default-provider-configurations">
    »
   </a>
   Changing Default Provider Configurations
  </h3>
  <p>
   Most re-usable modules only use default provider configurations, which they can
 automatically inherit from their caller when
   <code>
    providers
   </code>
   is omitted.
  </p>
  <p>
   However, in Terraform configurations that use multiple configurations of the
 same provider, you might want some child modules to use the default provider
 configuration and other ones to use an alternate. (This usually happens when
 using one configuration to manage resources in multiple different regions of the
 same cloud provider.)
  </p>
  <p>
   By using the
   <code>
    providers
   </code>
   argument (like in the code example above), you can
 accommodate this without needing to edit the child module. Although the code
 within the child module always refers to the default provider configuration, the
 actual configuration of that default can be different for each instance.
  </p>
  <h3 id="modules-with-alternate-provider-configurations">
   <a class="anchor" href="#modules-with-alternate-provider-configurations" name="modules-with-alternate-provider-configurations">
    »
   </a>
   Modules With Alternate Provider Configurations
  </h3>
  <p>
   In rare cases, a single re-usable module might require multiple configurations
 of the same provider. For example, a module that configures connectivity between
 networks in two AWS regions is likely to need both a source and a destination
 region. In that case, the root module may look something like this:
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">provider</span> <span class="s2">"aws"</span> <span class="p">{</span>
   <span class="k">alias</span>  <span class="o">=</span> <span class="s2">"usw1"</span>
   <span class="n">region</span> <span class="o">=</span> <span class="s2">"us-west-1"</span>
 <span class="p">}</span>
 
 <span class="n">provider</span> <span class="s2">"aws"</span> <span class="p">{</span>
   <span class="k">alias</span>  <span class="o">=</span> <span class="s2">"usw2"</span>
   <span class="n">region</span> <span class="o">=</span> <span class="s2">"us-west-2"</span>
 <span class="p">}</span>
 
 <span class="n">module</span> <span class="s2">"tunnel"</span> <span class="p">{</span>
   <span class="n">source</span>    <span class="o">=</span> <span class="s2">"./tunnel"</span>
   <span class="n">providers</span> <span class="o">=</span> <span class="p">{</span>
     <span class="n">aws</span><span class="p">.</span><span class="nf">src</span> <span class="o">=</span> <span class="n">aws</span><span class="p">.</span><span class="nf">usw1</span>
     <span class="n">aws</span><span class="p">.</span><span class="nf">dst</span> <span class="o">=</span> <span class="n">aws</span><span class="p">.</span><span class="nf">usw2</span>
   <span class="p">}</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <p>
   Non-default provider configurations are never automatically inherited, so any
 module that works like this will always need a
   <code>
    providers
   </code>
   argument. The
 documentation for the module should specify all of the provider configuration
 names it needs.
  </p>
  <h2 id="more-information-for-module-developers">
   <a class="anchor" href="#more-information-for-module-developers" name="more-information-for-module-developers">
    »
   </a>
   More Information for Module Developers
  </h2>
  <p>
   For more details and guidance about working with providers inside a re-usable
 child module, see
   <a href="/docs/language/modules/develop/providers.html">
    Module Development: Providers Within Modules
   </a>
   .
  </p>
 </div>
 
 <!-- ########### Module Development : Standard Module Structure ############### -->
 <!-- ########### https://www.terraform.io/docs/language/modules/develop/index.html ############### --
 ><!-- ########### Module Development : Standard Module Structure ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="creating-modules">
    <a class="anchor" href="#creating-modules" name="creating-modules">
     »
    </a>
    Creating Modules
   </h1>
  </div>
  <blockquote>
   <p>
    <strong>
     Hands-on:
    </strong>
    Try the
    <a href="https://learn.hashicorp.com/collections/terraform/modules?utm_source=WEBSITE&amp;utm_medium=WEB_IO&amp;utm_offer=ARTICLE_PAGE&amp;utm_content=DOCS">
     Reuse Configuration with Modules
    </a>
    collection on HashiCorp Learn.
   </p>
  </blockquote>
  <p>
   A
   <em>
    module
   </em>
   is a container for multiple resources that are used together.
 Modules can be used to create lightweight abstractions, so that you can
 describe your infrastructure in terms of its architecture, rather than
 directly in terms of physical objects.
  </p>
  <p>
   The
   <code>
    .tf
   </code>
   files in your working directory when you run
   <a href="/docs/cli/commands/plan.html">
    <code>
     terraform plan
    </code>
   </a>
   or
   <a href="/docs/cli/commands/apply.html">
    <code>
     terraform apply
    </code>
   </a>
   together form the
   <em>
    root
   </em>
   module. That module may
   <a href="/docs/language/modules/syntax.html#calling-a-child-module">
    call other modules
   </a>
   and connect them together by passing output values from one to input values
 of another.
  </p>
  <p>
   To learn how to
   <em>
    use
   </em>
   modules, see
   <a href="/docs/language/modules/index.html">
    the Modules configuration section
   </a>
   .
 This section is about
   <em>
    creating
   </em>
   re-usable modules that other configurations
 can include using
   <code>
    module
   </code>
   blocks.
  </p>
  <h2 id="module-structure">
   <a class="anchor" href="#module-structure" name="module-structure">
    »
   </a>
   Module structure
  </h2>
  <p>
   Re-usable modules are defined using all of the same
   <a href="/docs/language/index.html">
    configuration language
   </a>
   concepts we use in root modules.
 Most commonly, modules use:
  </p>
  <ul>
   <li>
    <a href="/docs/language/values/variables.html">
     Input variables
    </a>
    to accept values from
 the calling module.
   </li>
   <li>
    <a href="/docs/language/values/outputs.html">
     Output values
    </a>
    to return results to the
 calling module, which it can then use to populate arguments elsewhere.
   </li>
   <li>
    <a href="/docs/language/resources/index.html">
     Resources
    </a>
    to define one or more
 infrastructure objects that the module will manage.
   </li>
  </ul>
  <p>
   To define a module, create a new directory for it and place one or more
   <code>
    .tf
   </code>
   files inside just as you would do for a root module. Terraform can load modules
 either from local relative paths or from remote repositories; if a module will
 be re-used by lots of configurations you may wish to place it in its own
 version control repository.
  </p>
  <p>
   Modules can also call other modules using a
   <code>
    module
   </code>
   block, but we recommend
 keeping the module tree relatively flat and using
   <a href="/docs/language/modules/develop/composition.html">
    module composition
   </a>
   as an alternative to a deeply-nested tree of modules, because this makes
 the individual modules easier to re-use in different combinations.
  </p>
  <h2 id="when-to-write-a-module">
   <a class="anchor" href="#when-to-write-a-module" name="when-to-write-a-module">
    »
   </a>
   When to write a module
  </h2>
  <p>
   In principle any combination of resources and other constructs can be factored
 out into a module, but over-using modules can make your overall Terraform
 configuration harder to understand and maintain, so we recommend moderation.
  </p>
  <p>
   A good module should raise the level of abstraction by describing a new concept
 in your architecture that is constructed from resource types offered by
 providers.
  </p>
  <p>
   For example,
   <code>
    aws_instance
   </code>
   and
   <code>
    aws_elb
   </code>
   are both resource types belonging to
 the AWS provider. You might use a module to represent the higher-level concept
 "
   <a href="https://www.consul.io/">
    HashiCorp Consul
   </a>
   cluster running in AWS" which
 happens to be constructed from these and other AWS provider resources.
  </p>
  <p>
   We
   <em>
    do not
   </em>
   recommend writing modules that are just thin wrappers around single
 other resource types. If you have trouble finding a name for your module that
 isn't the same as the main resource type inside it, that may be a sign that
 your module is not creating any new abstraction and so the module is
 adding unnecessary complexity. Just use the resource type directly in the
 calling module instead.
  </p>
 </div>
 
 <!-- ########### Module Development : Providers Within Modules ############### -->
 <!-- ########### https://www.terraform.io/docs/language/modules/develop/structure.html ############### --
 ><!-- ########### Module Development : Providers Within Modules ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="standard-module-structure">
    <a class="anchor" href="#standard-module-structure" name="standard-module-structure">
     »
    </a>
    Standard Module Structure
   </h1>
  </div>
  <p>
   The standard module structure is a file and directory layout we recommend for
 reusable modules distributed in separate repositories. Terraform tooling is
 built to understand the standard module structure and use that structure to
 generate documentation, index modules for the module registry, and more.
  </p>
  <p>
   The standard module structure expects the layout documented below. The list may
 appear long, but everything is optional except for the root module. Most modules
 don't need to do any extra work to follow the standard structure.
  </p>
  <ul>
   <li>
    <p>
     <strong>
      Root module
     </strong>
     . This is the
     <strong>
      only required element
     </strong>
     for the standard
 module structure. Terraform files must exist in the root directory of
 the repository. This should be the primary entrypoint for the module and is
 expected to be opinionated. For the
     <a href="https://registry.terraform.io/modules/hashicorp/consul">
      Consul module
     </a>
     the root module sets up a complete Consul cluster. It makes a lot of assumptions
 however, and we expect that advanced users will use specific
     <em>
      nested modules
     </em>
     to more carefully control what they want.
    </p>
   </li>
   <li>
    <p>
     <strong>
      README
     </strong>
     . The root module and any nested modules should have README
 files. This file should be named
     <code>
      README
     </code>
     or
     <code>
      README.md
     </code>
     . The latter will
 be treated as markdown. There should be a description of the module and
 what it should be used for. If you want to include an example for how this
 module can be used in combination with other resources, put it in an
     <a href="https://github.com/hashicorp/terraform-aws-consul/tree/master/examples">
      examples
 directory like this
     </a>
     .
 Consider including a visual diagram depicting the infrastructure resources
 the module may create and their relationship.
    </p>
   </li>
  </ul>
  <p>
   The README doesn't need to document inputs or outputs of the module because
   tooling will automatically generate this. If you are linking to a file or
   embedding an image contained in the repository itself, use a commit-specific
   absolute URL so the link won't point to the wrong version of a resource in the
   future.
  </p>
  <ul>
   <li>
    <p>
     <strong>
      LICENSE
     </strong>
     . The license under which this module is available. If you are
 publishing a module publicly, many organizations will not adopt a module
 unless a clear license is present. We recommend always having a license
 file, even if it is not an open source license.
    </p>
   </li>
   <li>
    <p>
     <strong>
      <code>
       main.tf
      </code>
      ,
      <code>
       variables.tf
      </code>
      ,
      <code>
       outputs.tf
      </code>
     </strong>
     . These are the recommended filenames for
 a minimal module, even if they're empty.
     <code>
      main.tf
     </code>
     should be the primary
 entrypoint. For a simple module, this may be where all the resources are
 created. For a complex module, resource creation may be split into multiple
 files but any nested module calls should be in the main file.
     <code>
      variables.tf
     </code>
     and
     <code>
      outputs.tf
     </code>
     should contain the declarations for variables and outputs,
 respectively.
    </p>
   </li>
   <li>
    <p>
     <strong>
      Variables and outputs should have descriptions.
     </strong>
     All variables and
 outputs should have one or two sentence descriptions that explain their
 purpose. This is used for documentation. See the documentation for
     <a href="/docs/language/values/variables.html">
      variable configuration
     </a>
     and
     <a href="/docs/language/values/outputs.html">
      output configuration
     </a>
     for more details.
    </p>
   </li>
   <li>
    <p>
     <strong>
      Nested modules
     </strong>
     . Nested modules should exist under the
     <code>
      modules/
     </code>
     subdirectory. Any nested module with a
     <code>
      README.md
     </code>
     is considered usable
 by an external user. If a README doesn't exist, it is considered for internal
 use only. These are purely advisory; Terraform will not actively deny usage
 of internal modules. Nested modules should be used to split complex behavior
 into multiple small modules that advanced users can carefully pick and
 choose. For example, the
     <a href="https://registry.terraform.io/modules/hashicorp/consul">
      Consul module
     </a>
     has a nested module for creating the Cluster that is separate from the
 module to setup necessary IAM policies. This allows a user to bring in their
 own IAM policy choices.
    </p>
   </li>
  </ul>
  <p>
   If the root module includes calls to nested modules, they should use relative
   paths like
   <code>
    ./modules/consul-cluster
   </code>
   so that Terraform will consider them
   to be part of the same repository or package, rather than downloading them
   again separately.
  </p>
  <p>
   If a repository or package contains multiple nested modules, they should
   ideally be
   <a href="/docs/language/modules/develop/composition.html">
    composable
   </a>
   by the caller, rather than
   calling directly to each other and creating a deeply-nested tree of modules.
  </p>
  <ul>
   <li>
    <strong>
     Examples
    </strong>
    . Examples of using the module should exist under the
    <code>
     examples/
    </code>
    subdirectory at the root of the repository. Each example may have
 a README to explain the goal and usage of the example. Examples for
 submodules should also be placed in the root
    <code>
     examples/
    </code>
    directory.
   </li>
  </ul>
  <p>
   Because examples will often be copied into other repositories for
   customization, any
   <code>
    module
   </code>
   blocks should have their
   <code>
    source
   </code>
   set to the
   address an external caller would use, not to a relative path.
  </p>
  <p>
   A minimal recommended module following the standard structure is shown below.
 While the root module is the only required element, we recommend the structure
 below as the minimum:
  </p>
  <div class="highlight">
   <pre class="highlight shell"><code><span class="nv">$ </span>tree minimal-module/
 <span class="nb">.</span>
 ├── README.md
 ├── main.tf
 ├── variables.tf
 ├── outputs.tf
 </code></pre>
  </div>
  <p>
   A complete example of a module following the standard structure is shown below.
 This example includes all optional elements and is therefore the most
 complex a module can become:
  </p>
  <div class="highlight">
   <pre class="highlight shell"><code><span class="nv">$ </span>tree complete-module/
 <span class="nb">.</span>
 ├── README.md
 ├── main.tf
 ├── variables.tf
 ├── outputs.tf
 ├── ...
 ├── modules/
 │   ├── nestedA/
 │   │   ├── README.md
 │   │   ├── variables.tf
 │   │   ├── main.tf
 │   │   ├── outputs.tf
 │   ├── nestedB/
 │   ├── .../
 ├── examples/
 │   ├── exampleA/
 │   │   ├── main.tf
 │   ├── exampleB/
 │   ├── .../
 </code></pre>
  </div>
 </div>
 
 <!-- ########### Module Development : Best Practices: Module Composition ############### -->
 <!-- ########### https://www.terraform.io/docs/language/modules/develop/providers.html ############### --
 ><!-- ########### Module Development : Best Practices: Module Composition ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="providers-within-modules">
    <a class="anchor" href="#providers-within-modules" name="providers-within-modules">
     »
    </a>
    Providers Within Modules
   </h1>
   <div id="inner-quicknav">
    <span id="inner-quicknav-trigger">
     Jump to Section
     <svg height="5" width="9" xmlns="http://www.w3.org/2000/svg">
      <path d="M8.811 1.067a.612.612 0 0 0 0-.884.655.655 0 0 0-.908 0L4.5 3.491 1.097.183a.655.655 0 0 0-.909 0 .615.615 0 0 0 0 .884l3.857 3.75a.655.655 0 0 0 .91 0l3.856-3.75z" fill-rule="evenodd">
      </path>
     </svg>
    </span>
    <ul class="dropdown">
     <li class="level-h2">
      <a href="#provider-version-constraints-in-modules">
       »
 Provider Version Constraints in Modules
      </a>
     </li>
     <li class="level-h2">
      <a href="#implicit-provider-inheritance">
       »
 Implicit Provider Inheritance
      </a>
     </li>
     <li class="level-h2">
      <a href="#passing-providers-explicitly">
       »
 Passing Providers Explicitly
      </a>
     </li>
     <li class="level-h2">
      <a href="#proxy-configuration-blocks">
       »
 Proxy Configuration Blocks
      </a>
     </li>
     <li class="level-h2">
      <a href="#legacy-shared-modules-with-provider-configurations">
       »
 Legacy Shared Modules with Provider Configurations
      </a>
     </li>
    </ul>
   </div>
  </div>
  <p>
   In a configuration with multiple modules, there are some special considerations
 for how resources are associated with provider configurations.
  </p>
  <p>
   Each resource in the configuration must be associated with one provider
 configuration. Provider configurations, unlike most other concepts in
 Terraform, are global to an entire Terraform configuration and can be shared
 across module boundaries. Provider configurations can be defined only in a
 root Terraform module.
  </p>
  <p>
   Providers can be passed down to descendent modules in two ways: either
   <em>
    implicitly
   </em>
   through inheritance, or
   <em>
    explicitly
   </em>
   via the
   <code>
    providers
   </code>
   argument
 within a
   <code>
    module
   </code>
   block. These two options are discussed in more detail in the
 following sections.
  </p>
  <p>
   A module intended to be called by one or more other modules must not contain
 any
   <code>
    provider
   </code>
   blocks, with the exception of the special
 "proxy provider blocks" discussed under
   <em>
    <a href="#passing-providers-explicitly">
     Passing Providers Explicitly
    </a>
   </em>
   below.
  </p>
  <p>
   For backward compatibility with configurations targeting Terraform v0.10 and
 earlier Terraform does not produce an error for a
   <code>
    provider
   </code>
   block in a shared
 module if the
   <code>
    module
   </code>
   block only uses features available in Terraform v0.10,
 but that is a legacy usage pattern that is no longer recommended. A legacy
 module containing its own provider configurations is not compatible with the
   <code>
    for_each
   </code>
   ,
   <code>
    count
   </code>
   , and
   <code>
    depends_on
   </code>
   arguments that were introduced in
 Terraform v0.13. For more information, see
   <a href="#legacy-shared-modules-with-provider-configurations">
    Legacy Shared Modules with Provider Configurations
   </a>
   .
  </p>
  <p>
   Provider configurations are used for all operations on associated resources,
 including destroying remote objects and refreshing state. Terraform retains, as
 part of its state, a reference to the provider configuration that was most
 recently used to apply changes to each resource. When a
   <code>
    resource
   </code>
   block is
 removed from the configuration, this record in the state will be used to locate
 the appropriate configuration because the resource's
   <code>
    provider
   </code>
   argument
 (if any) will no longer be present in the configuration.
  </p>
  <p>
   As a consequence, you must ensure that all resources that belong to a
 particular provider configuration are destroyed before you can remove that
 provider configuration's block from your configuration. If Terraform finds
 a resource instance tracked in the state whose provider configuration block is
 no longer available then it will return an error during planning, prompting you
 to reintroduce the provider configuration.
  </p>
  <h2 id="provider-version-constraints-in-modules">
   <a class="anchor" href="#provider-version-constraints-in-modules" name="provider-version-constraints-in-modules">
    »
   </a>
   Provider Version Constraints in Modules
  </h2>
  <p>
   Although provider
   <em>
    configurations
   </em>
   are shared between modules, each module must
 declare its own
   <a href="/docs/language/providers/requirements.html">
    provider requirements
   </a>
   , so that
 Terraform can ensure that there is a single version of the provider that is
 compatible with all modules in the configuration and to specify the
   <a href="/docs/language/providers/requirements.html#source-addresses">
    source address
   </a>
   that serves as
 the global (module-agnostic) identifier for a provider.
  </p>
  <p>
   To declare that a module requires particular versions of a specific provider,
 use a
   <code>
    required_providers
   </code>
   block inside a
   <code>
    terraform
   </code>
   block:
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">terraform</span> <span class="p">{</span>
   <span class="n">required_providers</span> <span class="p">{</span>
     <span class="n">aws</span> <span class="o">=</span> <span class="p">{</span>
       <span class="n">source</span>  <span class="o">=</span> <span class="s2">"hashicorp/aws"</span>
       <span class="n">version</span> <span class="o">=</span> <span class="s2">"&gt;= 2.7.0"</span>
     <span class="p">}</span>
   <span class="p">}</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <p>
   A provider requirement says, for example, "This module requires version v2.7.0
 of the provider
   <code>
    hashicorp/aws
   </code>
   and will refer to it as
   <code>
    aws
   </code>
   ." It doesn't,
 however, specify any of the configuration settings that determine what remote
 endpoints the provider will access, such as an AWS region; configuration
 settings come from provider
   <em>
    configurations
   </em>
   , and a particular overall Terraform
 configuration can potentially have
   <a href="/docs/language/providers/configuration.html#alias-multiple-provider-configurations">
    several different configurations for the same provider
   </a>
   .
  </p>
  <p>
   If you are writing a shared Terraform module, constrain only the minimum
 required provider version using a
   <code>
    &gt;=
   </code>
   constraint. This should specify the
 minimum version containing the features your module relies on, and thus allow a
 user of your module to potentially select a newer provider version if other
 features are needed by other parts of their overall configuration.
  </p>
  <h2 id="implicit-provider-inheritance">
   <a class="anchor" href="#implicit-provider-inheritance" name="implicit-provider-inheritance">
    »
   </a>
   Implicit Provider Inheritance
  </h2>
  <p>
   For convenience in simple configurations, a child module automatically inherits
 default (un-aliased) provider configurations from its parent. This means that
 explicit
   <code>
    provider
   </code>
   blocks appear only in the root module, and downstream
 modules can simply declare resources for that provider and have them
 automatically associated with the root provider configurations.
  </p>
  <p>
   For example, the root module might contain only a
   <code>
    provider
   </code>
   block and a
   <code>
    module
   </code>
   block to instantiate a child module:
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">provider</span> <span class="s2">"aws"</span> <span class="p">{</span>
   <span class="n">region</span> <span class="o">=</span> <span class="s2">"us-west-1"</span>
 <span class="p">}</span>
 
 <span class="n">module</span> <span class="s2">"child"</span> <span class="p">{</span>
   <span class="n">source</span> <span class="o">=</span> <span class="s2">"./child"</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <p>
   The child module can then use any resource from this provider with no further
 provider configuration required:
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">resource</span> <span class="s2">"aws_s3_bucket"</span> <span class="s2">"example"</span> <span class="p">{</span>
   <span class="n">bucket</span> <span class="o">=</span> <span class="s2">"provider-inherit-example"</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <p>
   We recommend using this approach when a single configuration for each provider
 is sufficient for an entire configuration.
  </p>
  <div class="alert alert-warning" role="alert">
   <p>
    <strong>
     Note:
    </strong>
    Only provider configurations are inherited by child modules, not provider source or version requirements. Each module must
    <a href="/docs/language/providers/requirements.html">
     declare its own provider requirements
    </a>
    . This is especially important for non-HashiCorp providers.
   </p>
  </div>
  <p>
   In more complex situations there may be
   <a href="/docs/language/providers/configuration.html#alias-multiple-provider-configurations">
    multiple provider configurations
   </a>
   ,
 or a child module may need to use different provider settings than
 its parent. For such situations, you must pass providers explicitly.
  </p>
  <h2 id="passing-providers-explicitly">
   <a class="anchor" href="#passing-providers-explicitly" name="passing-providers-explicitly">
    »
   </a>
   Passing Providers Explicitly
  </h2>
  <p>
   When child modules each need a different configuration of a particular
 provider, or where the child module requires a different provider configuration
 than its parent, you can use the
   <code>
    providers
   </code>
   argument within a
   <code>
    module
   </code>
   block
 to explicitly define which provider configurations are available to the
 child module. For example:
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="c1"># The default "aws" configuration is used for AWS resources in the root</span>
 <span class="c1"># module where no explicit provider instance is selected.</span>
 <span class="n">provider</span> <span class="s2">"aws"</span> <span class="p">{</span>
   <span class="n">region</span> <span class="o">=</span> <span class="s2">"us-west-1"</span>
 <span class="p">}</span>
 
 <span class="c1"># An alternate configuration is also defined for a different</span>
 <span class="c1"># region, using the alias "usw2".</span>
 <span class="n">provider</span> <span class="s2">"aws"</span> <span class="p">{</span>
   <span class="k">alias</span>  <span class="o">=</span> <span class="s2">"usw2"</span>
   <span class="n">region</span> <span class="o">=</span> <span class="s2">"us-west-2"</span>
 <span class="p">}</span>
 
 <span class="c1"># An example child module is instantiated with the alternate configuration,</span>
 <span class="c1"># so any AWS resources it defines will use the us-west-2 region.</span>
 <span class="n">module</span> <span class="s2">"example"</span> <span class="p">{</span>
   <span class="n">source</span>    <span class="o">=</span> <span class="s2">"./example"</span>
   <span class="n">providers</span> <span class="o">=</span> <span class="p">{</span>
     <span class="n">aws</span> <span class="o">=</span> <span class="n">aws</span><span class="p">.</span><span class="nf">usw2</span>
   <span class="p">}</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <p>
   The
   <code>
    providers
   </code>
   argument within a
   <code>
    module
   </code>
   block is similar to
   <a href="/docs/language/meta-arguments/resource-provider.html">
    the
    <code>
     provider
    </code>
    argument
   </a>
   within a resource, but is a map rather than a single string because a module may
 contain resources from many different providers.
  </p>
  <p>
   The keys of the
   <code>
    providers
   </code>
   map are provider configuration names as expected by
 the child module, and the values are the names of corresponding configurations
 in the
   <em>
    current
   </em>
   module.
  </p>
  <p>
   Once the
   <code>
    providers
   </code>
   argument is used in a
   <code>
    module
   </code>
   block, it overrides all of
 the default inheritance behavior, so it is necessary to enumerate mappings
 for
   <em>
    all
   </em>
   of the required providers. This is to avoid confusion and surprises
 that may result when mixing both implicit and explicit provider passing.
  </p>
  <p>
   Additional provider configurations (those with the
   <code>
    alias
   </code>
   argument set) are
   <em>
    never
   </em>
   inherited automatically by child modules, and so must always be passed
 explicitly using the
   <code>
    providers
   </code>
   map. For example, a module
 that configures connectivity between networks in two AWS regions is likely
 to need both a source and a destination region. In that case, the root module
 may look something like this:
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">provider</span> <span class="s2">"aws"</span> <span class="p">{</span>
   <span class="k">alias</span>  <span class="o">=</span> <span class="s2">"usw1"</span>
   <span class="n">region</span> <span class="o">=</span> <span class="s2">"us-west-1"</span>
 <span class="p">}</span>
 
 <span class="n">provider</span> <span class="s2">"aws"</span> <span class="p">{</span>
   <span class="k">alias</span>  <span class="o">=</span> <span class="s2">"usw2"</span>
   <span class="n">region</span> <span class="o">=</span> <span class="s2">"us-west-2"</span>
 <span class="p">}</span>
 
 <span class="n">module</span> <span class="s2">"tunnel"</span> <span class="p">{</span>
   <span class="n">source</span>    <span class="o">=</span> <span class="s2">"./tunnel"</span>
   <span class="n">providers</span> <span class="o">=</span> <span class="p">{</span>
     <span class="n">aws</span><span class="p">.</span><span class="nf">src</span> <span class="o">=</span> <span class="n">aws</span><span class="p">.</span><span class="nf">usw1</span>
     <span class="n">aws</span><span class="p">.</span><span class="nf">dst</span> <span class="o">=</span> <span class="n">aws</span><span class="p">.</span><span class="nf">usw2</span>
   <span class="p">}</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <p>
   The subdirectory
   <code>
    ./tunnel
   </code>
   must then contain
   <em>
    proxy configuration blocks
   </em>
   like
 the following, to declare that it requires its calling module to pass
 configurations with these names in its
   <code>
    providers
   </code>
   argument:
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">provider</span> <span class="s2">"aws"</span> <span class="p">{</span>
   <span class="k">alias</span> <span class="o">=</span> <span class="s2">"src"</span>
 <span class="p">}</span>
 
 <span class="n">provider</span> <span class="s2">"aws"</span> <span class="p">{</span>
   <span class="k">alias</span> <span class="o">=</span> <span class="s2">"dst"</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <p>
   Each resource should then have its own
   <code>
    provider
   </code>
   attribute set to either
   <code>
    aws.src
   </code>
   or
   <code>
    aws.dst
   </code>
   to choose which of the two provider configurations to
 use.
  </p>
  <h2 id="proxy-configuration-blocks">
   <a class="anchor" href="#proxy-configuration-blocks" name="proxy-configuration-blocks">
    »
   </a>
   Proxy Configuration Blocks
  </h2>
  <p>
   A proxy configuration block is one that contains only the
   <code>
    alias
   </code>
   argument. It
 serves as a placeholder for provider configurations passed between modules, and
 declares that a module expects to be explicitly passed an additional (aliased)
 provider configuration.
  </p>
  <div class="alert alert-info" role="alert">
   <p>
    <strong>
     Note:
    </strong>
    Although a completely empty proxy configuration block is also
 valid, it is not necessary: proxy configuration blocks are needed only to
 establish which
    <em>
     aliased
    </em>
    provider configurations a child module expects.
 Don't use a proxy configuration block if a module only needs a single default
 provider configuration, and don't use proxy configuration blocks only to imply
    <a href="/docs/language/providers/requirements.html">
     provider requirements
    </a>
    .
   </p>
  </div>
  <h2 id="legacy-shared-modules-with-provider-configurations">
   <a class="anchor" href="#legacy-shared-modules-with-provider-configurations" name="legacy-shared-modules-with-provider-configurations">
    »
   </a>
   Legacy Shared Modules with Provider Configurations
  </h2>
  <p>
   In Terraform v0.10 and earlier there was no explicit way to use different
 configurations of a provider in different modules in the same configuration,
 and so module authors commonly worked around this by writing
   <code>
    provider
   </code>
   blocks
 directly inside their modules, making the module have its own separate
 provider configurations separate from those declared in the root module.
  </p>
  <p>
   However, that pattern had a significant drawback: because a provider
 configuration is required to destroy the remote object associated with a
 resource instance as well as to create or update it, a provider configuration
 must always stay present in the overall Terraform configuration for longer
 than all of the resources it manages. If a particular module includes
 both resources and the provider configurations for those resources then
 removing the module from its caller would violate that constraint: both the
 resources and their associated providers would, in effect, be removed
 simultaneously.
  </p>
  <p>
   Terraform v0.11 introduced the mechanisms described in earlier sections to
 allow passing provider configurations between modules in a structured way, and
 thus we explicitly recommended against writing a child module with its own
 provider configuration blocks. However, that legacy pattern continued to work
 for compatibility purposes -- though with the same drawback -- until Terraform
 v0.13.
  </p>
  <p>
   Terraform v0.13 introduced the possibility for a module itself to use the
   <code>
    for_each
   </code>
   ,
   <code>
    count
   </code>
   , and
   <code>
    depends_on
   </code>
   arguments, but the implementation of
 those unfortunately conflicted with the support for the legacy pattern.
  </p>
  <p>
   To retain the backward compatibility as much as possible, Terraform v0.13
 continues to support the legacy pattern for module blocks that do not use these
 new features, but a module with its own provider configurations is not
 compatible with
   <code>
    for_each
   </code>
   ,
   <code>
    count
   </code>
   , or
   <code>
    depends_on
   </code>
   . Terraform will produce an
 error if you attempt to combine these features. For example:
  </p>
  <div class="highlight">
   <pre class="highlight plaintext"><code>Error: Module does not support count
 
   on main.tf line 15, in module "child":
   15:   count = 2
 
 Module "child" cannot be used with count because it contains a nested provider
 configuration for "aws", at child/main.tf:2,10-15.
 
 This module can be made compatible with count by changing it to receive all of
 its provider configurations from the calling module, by using the "providers"
 argument in the calling module block.
 </code></pre>
  </div>
  <p>
   To make a module compatible with the new features, you must either remove all
 of the
   <code>
    provider
   </code>
   blocks from its definition or, if you need multiple
 configurations for the same provider, replace them with
   <em>
    proxy configuration blocks
   </em>
   as described in
   <a href="#passing-providers-explicitly">
    Passing Providers Explicitly
   </a>
   .
  </p>
  <p>
   If the new version of the module uses proxy configuration blocks, or if the
 calling module needs the child module to use different provider configurations
 than its own default provider configurations, the calling module must then
 include an explicit
   <code>
    providers
   </code>
   argument to describe which provider
 configurations the child module will use:
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">provider</span> <span class="s2">"aws"</span> <span class="p">{</span>
   <span class="n">region</span> <span class="o">=</span> <span class="s2">"us-west-1"</span>
 <span class="p">}</span>
 
 <span class="n">provider</span> <span class="s2">"aws"</span> <span class="p">{</span>
   <span class="n">region</span> <span class="o">=</span> <span class="s2">"us-east-1"</span>
   <span class="k">alias</span>  <span class="o">=</span> <span class="s2">"east"</span>
 <span class="p">}</span>
 
 <span class="n">module</span> <span class="s2">"child"</span> <span class="p">{</span>
   <span class="n">count</span> <span class="o">=</span> <span class="mi">2</span>
   <span class="n">providers</span> <span class="o">=</span> <span class="p">{</span>
     <span class="c1"># By default, the child module would use the</span>
     <span class="c1"># default (unaliased) AWS provider configuration</span>
     <span class="c1"># using us-west-1, but this will override it</span>
     <span class="c1"># to use the additional "east" configuration</span>
     <span class="c1"># for its resources instead.</span>
     <span class="n">aws</span> <span class="o">=</span> <span class="n">aws</span><span class="p">.</span><span class="nf">east</span>
   <span class="p">}</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <p>
   Since the association between resources and provider configurations is
 static, module calls using
   <code>
    for_each
   </code>
   or
   <code>
    count
   </code>
   cannot pass different
 provider configurations to different instances. If you need different
 instances of your module to use different provider configurations then you
 must use a separate
   <code>
    module
   </code>
   block for each distinct set of provider
 configurations:
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">provider</span> <span class="s2">"aws"</span> <span class="p">{</span>
   <span class="k">alias</span>  <span class="o">=</span> <span class="s2">"usw1"</span>
   <span class="n">region</span> <span class="o">=</span> <span class="s2">"us-west-1"</span>
 <span class="p">}</span>
 
 <span class="n">provider</span> <span class="s2">"aws"</span> <span class="p">{</span>
   <span class="k">alias</span>  <span class="o">=</span> <span class="s2">"usw2"</span>
   <span class="n">region</span> <span class="o">=</span> <span class="s2">"us-west-2"</span>
 <span class="p">}</span>
 
 <span class="n">provider</span> <span class="s2">"google"</span> <span class="p">{</span>
   <span class="k">alias</span>       <span class="o">=</span> <span class="s2">"usw1"</span>
   <span class="n">credentials</span> <span class="o">=</span> <span class="s2">"${file("</span><span class="n">account</span><span class="p">.</span><span class="nf">json</span><span class="s2">")}"</span>
   <span class="n">project</span>     <span class="o">=</span> <span class="s2">"my-project-id"</span>
   <span class="n">region</span>      <span class="o">=</span> <span class="s2">"us-west1"</span>
   <span class="n">zone</span>        <span class="o">=</span> <span class="s2">"us-west1-a"</span>
 <span class="p">}</span>
 
 <span class="n">provider</span> <span class="s2">"google"</span> <span class="p">{</span>
   <span class="k">alias</span>       <span class="o">=</span> <span class="s2">"usw2"</span>
   <span class="n">credentials</span> <span class="o">=</span> <span class="s2">"${file("</span><span class="n">account</span><span class="p">.</span><span class="nf">json</span><span class="s2">")}"</span>
   <span class="n">project</span>     <span class="o">=</span> <span class="s2">"my-project-id"</span>
   <span class="n">region</span>      <span class="o">=</span> <span class="s2">"us-west2"</span>
   <span class="n">zone</span>        <span class="o">=</span> <span class="s2">"us-west2-a"</span>
 <span class="p">}</span>
 
 <span class="n">module</span> <span class="s2">"bucket_w1"</span> <span class="p">{</span>
   <span class="n">source</span>    <span class="o">=</span> <span class="s2">"./publish_bucket"</span>
   <span class="n">providers</span> <span class="o">=</span> <span class="p">{</span>
     <span class="n">aws</span><span class="p">.</span><span class="nf">src</span>    <span class="o">=</span> <span class="n">aws</span><span class="p">.</span><span class="nf">usw1</span>
     <span class="n">google</span><span class="p">.</span><span class="nf">src</span> <span class="o">=</span> <span class="n">google</span><span class="p">.</span><span class="nf">usw2</span>
   <span class="p">}</span>
 <span class="p">}</span>
 
 <span class="n">module</span> <span class="s2">"bucket_w2"</span> <span class="p">{</span>
   <span class="n">source</span>    <span class="o">=</span> <span class="s2">"./publish_bucket"</span>
   <span class="n">providers</span> <span class="o">=</span> <span class="p">{</span>
     <span class="n">aws</span><span class="p">.</span><span class="nf">src</span>    <span class="o">=</span> <span class="n">aws</span><span class="p">.</span><span class="nf">usw2</span>
     <span class="n">google</span><span class="p">.</span><span class="nf">src</span> <span class="o">=</span> <span class="n">google</span><span class="p">.</span><span class="nf">usw2</span>
   <span class="p">}</span>
 <span class="p">}</span>
 </code></pre>
  </div>
 </div>
 
 <!-- ########### Module Development : Publishing Modules ############### -->
 <!-- ########### https://www.terraform.io/docs/language/modules/develop/composition.html ############### --
 ><!-- ########### Module Development : Publishing Modules ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="module-composition">
    <a class="anchor" href="#module-composition" name="module-composition">
     »
    </a>
    Module Composition
   </h1>
   <div id="inner-quicknav">
    <span id="inner-quicknav-trigger">
     Jump to Section
     <svg height="5" width="9" xmlns="http://www.w3.org/2000/svg">
      <path d="M8.811 1.067a.612.612 0 0 0 0-.884.655.655 0 0 0-.908 0L4.5 3.491 1.097.183a.655.655 0 0 0-.909 0 .615.615 0 0 0 0 .884l3.857 3.75a.655.655 0 0 0 .91 0l3.856-3.75z" fill-rule="evenodd">
      </path>
     </svg>
    </span>
    <ul class="dropdown">
     <li class="level-h2">
      <a href="#dependency-inversion">
       »
 Dependency Inversion
      </a>
     </li>
     <li class="level-h3">
      <a href="#conditional-creation-of-objects">
       »
 Conditional Creation of Objects
      </a>
     </li>
     <li class="level-h2">
      <a href="#multi-cloud-abstractions">
       »
 Multi-cloud Abstractions
      </a>
     </li>
     <li class="level-h2">
      <a href="#data-only-modules">
       »
 Data-only Modules
      </a>
     </li>
    </ul>
   </div>
  </div>
  <p>
   In a simple Terraform configuration with only one root module, we create a
 flat set of resources and use Terraform's expression syntax to describe the
 relationships between these resources:
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">resource</span> <span class="s2">"aws_vpc"</span> <span class="s2">"example"</span> <span class="p">{</span>
   <span class="n">cidr_block</span> <span class="o">=</span> <span class="s2">"10.1.0.0/16"</span>
 <span class="p">}</span>
 
 <span class="n">resource</span> <span class="s2">"aws_subnet"</span> <span class="s2">"example"</span> <span class="p">{</span>
   <span class="n">vpc_id</span> <span class="o">=</span> <span class="n">aws_vpc</span><span class="p">.</span><span class="nf">example</span><span class="p">.</span><span class="nf">id</span>
 
   <span class="n">availability_zone</span> <span class="o">=</span> <span class="s2">"us-west-2b"</span>
   <span class="n">cidr_block</span>        <span class="o">=</span> <span class="n">cidrsubnet</span><span class="p">(</span><span class="n">aws_vpc</span><span class="p">.</span><span class="nf">example</span><span class="p">.</span><span class="nf">cidr_block</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <p>
   When we introduce
   <code>
    module
   </code>
   blocks, our configuration becomes hierarchical
 rather than flat: each module contains its own set of resources, and possibly
 its own child modules, which can potentially create a deep, complex tree of
 resource configurations.
  </p>
  <p>
   However, in most cases we strongly recommend keeping the module tree flat,
 with only one level of child modules, and use a technique similar to the
 above of using expressions to describe the relationships between the modules:
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">module</span> <span class="s2">"network"</span> <span class="p">{</span>
   <span class="n">source</span> <span class="o">=</span> <span class="s2">"./modules/aws-network"</span>
 
   <span class="n">base_cidr_block</span> <span class="o">=</span> <span class="s2">"10.0.0.0/8"</span>
 <span class="p">}</span>
 
 <span class="n">module</span> <span class="s2">"consul_cluster"</span> <span class="p">{</span>
   <span class="n">source</span> <span class="o">=</span> <span class="s2">"./modules/aws-consul-cluster"</span>
 
   <span class="n">vpc_id</span>     <span class="o">=</span> <span class="n">module</span><span class="p">.</span><span class="nf">network</span><span class="p">.</span><span class="nf">vpc_id</span>
   <span class="n">subnet_ids</span> <span class="o">=</span> <span class="n">module</span><span class="p">.</span><span class="nf">network</span><span class="p">.</span><span class="nf">subnet_ids</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <p>
   We call this flat style of module usage
   <em>
    module composition
   </em>
   , because it
 takes multiple
   <a href="https://en.wikipedia.org/wiki/Composability">
    composable
   </a>
   building-block modules and assembles them together to produce a larger system.
 Instead of a module
   <em>
    embedding
   </em>
   its dependencies, creating and managing its
 own copy, the module
   <em>
    receives
   </em>
   its dependencies from the root module, which
 can therefore connect the same modules in different ways to produce different
 results.
  </p>
  <p>
   The rest of this page discusses some more specific composition patterns that
 may be useful when describing larger systems with Terraform.
  </p>
  <h2 id="dependency-inversion">
   <a class="anchor" href="#dependency-inversion" name="dependency-inversion">
    »
   </a>
   Dependency Inversion
  </h2>
  <p>
   In the example above, we saw a
   <code>
    consul_cluster
   </code>
   module that presumably describes
 a cluster of
   <a href="https://www.consul.io/">
    HashiCorp Consul
   </a>
   servers running in
 an AWS VPC network, and thus it requires as arguments the identifiers of both
 the VPC itself and of the subnets within that VPC.
  </p>
  <p>
   An alternative design would be to have the
   <code>
    consul_cluster
   </code>
   module describe
 its
   <em>
    own
   </em>
   network resources, but if we did that then it would be hard for
 the Consul cluster to coexist with other infrastructure in the same network,
 and so where possible we prefer to keep modules relatively small and pass in
 their dependencies.
  </p>
  <p>
   This
   <a href="https://en.wikipedia.org/wiki/Dependency_inversion_principle">
    dependency inversion
   </a>
   approach also improves flexibility for future
 refactoring, because the
   <code>
    consul_cluster
   </code>
   module doesn't know or care how
 those identifiers are obtained by the calling module. A future refactor may
 separate the network creation into its own configuration, and thus we may
 pass those values into the module from data sources instead:
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">data</span> <span class="s2">"aws_vpc"</span> <span class="s2">"main"</span> <span class="p">{</span>
   <span class="n">tags</span> <span class="o">=</span> <span class="p">{</span>
     <span class="no">Environment</span> <span class="o">=</span> <span class="s2">"production"</span>
   <span class="p">}</span>
 <span class="p">}</span>
 
 <span class="n">data</span> <span class="s2">"aws_subnet_ids"</span> <span class="s2">"main"</span> <span class="p">{</span>
   <span class="n">vpc_id</span> <span class="o">=</span> <span class="n">data</span><span class="p">.</span><span class="nf">aws_vpc</span><span class="p">.</span><span class="nf">main</span><span class="p">.</span><span class="nf">id</span>
 <span class="p">}</span>
 
 <span class="n">module</span> <span class="s2">"consul_cluster"</span> <span class="p">{</span>
   <span class="n">source</span> <span class="o">=</span> <span class="s2">"./modules/aws-consul-cluster"</span>
 
   <span class="n">vpc_id</span>     <span class="o">=</span> <span class="n">data</span><span class="p">.</span><span class="nf">aws_vpc</span><span class="p">.</span><span class="nf">main</span><span class="p">.</span><span class="nf">id</span>
   <span class="n">subnet_ids</span> <span class="o">=</span> <span class="n">data</span><span class="p">.</span><span class="nf">aws_subnet_ids</span><span class="p">.</span><span class="nf">main</span><span class="p">.</span><span class="nf">ids</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <h3 id="conditional-creation-of-objects">
   <a class="anchor" href="#conditional-creation-of-objects" name="conditional-creation-of-objects">
    »
   </a>
   Conditional Creation of Objects
  </h3>
  <p>
   In situations where the same module is used across multiple environments,
 it's common to see that some necessary object already exists in some
 environments but needs to be created in other environments.
  </p>
  <p>
   For example, this can arise in development environment scenarios: for cost
 reasons, certain infrastructure may be shared across multiple development
 environments, while in production the infrastructure is unique and managed
 directly by the production configuration.
  </p>
  <p>
   Rather than trying to write a module that itself tries to detect whether something
 exists and create it if not, we recommend applying the dependency inversion
 approach: making the module accept the object it needs as an argument, via
 an input variable.
  </p>
  <p>
   For example, consider a situation where a Terraform module deploys compute
 instances based on a disk image, and in some environments there is a
 specialized disk image available while other environments share a common
 base disk image. Rather than having the module itself handle both of these
 scenarios, we can instead declare an input variable for an object representing
 the disk image. Using AWS EC2 as an example, we might declare a common subtype
 of the
   <code>
    aws_ami
   </code>
   resource type and data source schemas:
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">variable</span> <span class="s2">"ami"</span> <span class="p">{</span>
   <span class="n">type</span> <span class="o">=</span> <span class="n">object</span><span class="p">({</span>
     <span class="c1"># Declare an object using only the subset of attributes the module</span>
     <span class="c1"># needs. Terraform will allow any object that has at least these</span>
     <span class="c1"># attributes.</span>
     <span class="nb">id</span>           <span class="o">=</span> <span class="n">string</span>
     <span class="n">architecture</span> <span class="o">=</span> <span class="n">string</span>
   <span class="p">})</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <p>
   The caller of this module can now itself directly represent whether this is
 an AMI to be created inline or an AMI to be retrieved from elsewhere:
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="c1"># In situations where the AMI will be directly managed:</span>
 
 <span class="n">resource</span> <span class="s2">"aws_ami_copy"</span> <span class="s2">"example"</span> <span class="p">{</span>
   <span class="nb">name</span>              <span class="o">=</span> <span class="s2">"local-copy-of-ami"</span>
   <span class="n">source_ami_id</span>     <span class="o">=</span> <span class="s2">"ami-abc123"</span>
   <span class="n">source_ami_region</span> <span class="o">=</span> <span class="s2">"eu-west-1"</span>
 <span class="p">}</span>
 
 <span class="n">module</span> <span class="s2">"example"</span> <span class="p">{</span>
   <span class="n">source</span> <span class="o">=</span> <span class="s2">"./modules/example"</span>
 
   <span class="n">ami</span> <span class="o">=</span> <span class="n">aws_ami_copy</span><span class="p">.</span><span class="nf">example</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="c1"># Or, in situations where the AMI already exists:</span>
 
 <span class="n">data</span> <span class="s2">"aws_ami"</span> <span class="s2">"example"</span> <span class="p">{</span>
   <span class="n">owner</span> <span class="o">=</span> <span class="s2">"9999933333"</span>
 
   <span class="n">tags</span> <span class="o">=</span> <span class="p">{</span>
     <span class="n">application</span> <span class="o">=</span> <span class="s2">"example-app"</span>
     <span class="n">environment</span> <span class="o">=</span> <span class="s2">"dev"</span>
   <span class="p">}</span>
 <span class="p">}</span>
 
 <span class="n">module</span> <span class="s2">"example"</span> <span class="p">{</span>
   <span class="n">source</span> <span class="o">=</span> <span class="s2">"./modules/example"</span>
 
   <span class="n">ami</span> <span class="o">=</span> <span class="n">data</span><span class="p">.</span><span class="nf">aws_ami</span><span class="p">.</span><span class="nf">example</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <p>
   This is consistent with Terraform's declarative style: rather than creating
 modules with complex conditional branches, we directly describe what
 should already exist and what we want Terraform to manage itself.
  </p>
  <p>
   By following this pattern, we can be explicit about in which situations we
 expect the AMI to already be present and which we don't. A future reader
 of the configuration can then directly understand what it is intending to do
 without first needing to inspect the state of the remote system.
  </p>
  <p>
   In the above example, the object to be created or read is simple enough to
 be given inline as a single resource, but we can also compose together multiple
 modules as described elsewhere on this page in situations where the
 dependencies themselves are complicated enough to benefit from abstractions.
  </p>
  <h2 id="multi-cloud-abstractions">
   <a class="anchor" href="#multi-cloud-abstractions" name="multi-cloud-abstractions">
    »
   </a>
   Multi-cloud Abstractions
  </h2>
  <p>
   Terraform itself intentionally does not attempt to abstract over similar
 services offered by different vendors, because we want to expose the full
 functionality in each offering and yet unifying multiple offerings behind a
 single interface will tend to require a "lowest common denominator" approach.
  </p>
  <p>
   However, through composition of Terraform modules it is possible to create
 your own lightweight multi-cloud abstractions by making your own tradeoffs
 about which platform features are important to you.
  </p>
  <p>
   Opportunities for such abstractions arise in any situation where multiple
 vendors implement the same concept, protocol, or open standard. For example,
 the basic capabilities of the domain name system are common across all vendors,
 and although some vendors differentiate themselves with unique features such
 as geolocation and smart load balancing, you may conclude that in your use-case
 you are willing to eschew those features in return for creating modules that
 abstract the common DNS concepts across multiple vendors:
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">module</span> <span class="s2">"webserver"</span> <span class="p">{</span>
   <span class="n">source</span> <span class="o">=</span> <span class="s2">"./modules/webserver"</span>
 <span class="p">}</span>
 
 <span class="n">locals</span> <span class="p">{</span>
   <span class="n">fixed_recordsets</span> <span class="o">=</span> <span class="p">[</span>
     <span class="p">{</span>
       <span class="nb">name</span> <span class="o">=</span> <span class="s2">"www"</span>
       <span class="n">type</span> <span class="o">=</span> <span class="s2">"CNAME"</span>
       <span class="n">ttl</span>  <span class="o">=</span> <span class="mi">3600</span>
       <span class="n">records</span> <span class="o">=</span> <span class="p">[</span>
         <span class="s2">"webserver01"</span><span class="p">,</span>
         <span class="s2">"webserver02"</span><span class="p">,</span>
         <span class="s2">"webserver03"</span><span class="p">,</span>
       <span class="p">]</span>
     <span class="p">},</span>
   <span class="p">]</span>
   <span class="n">server_recordsets</span> <span class="o">=</span> <span class="p">[</span>
     <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">addr</span> <span class="k">in</span> <span class="n">module</span><span class="p">.</span><span class="nf">webserver</span><span class="p">.</span><span class="nf">public_ip_addrs</span> <span class="p">:</span> <span class="p">{</span>
       <span class="nb">name</span>    <span class="o">=</span> <span class="nb">format</span><span class="p">(</span><span class="s2">"webserver%02d"</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span>
       <span class="n">type</span>    <span class="o">=</span> <span class="s2">"A"</span>
       <span class="n">records</span> <span class="o">=</span> <span class="p">[</span><span class="n">addr</span><span class="p">]</span>
     <span class="p">}</span>
   <span class="p">]</span>
 <span class="p">}</span>
 
 <span class="n">module</span> <span class="s2">"dns_records"</span> <span class="p">{</span>
   <span class="n">source</span> <span class="o">=</span> <span class="s2">"./modules/route53-dns-records"</span>
 
   <span class="n">route53_zone_id</span> <span class="o">=</span> <span class="n">var</span><span class="p">.</span><span class="nf">route53_zone_id</span>
   <span class="n">recordsets</span>      <span class="o">=</span> <span class="n">concat</span><span class="p">(</span><span class="n">local</span><span class="p">.</span><span class="nf">fixed_recordsets</span><span class="p">,</span> <span class="n">local</span><span class="p">.</span><span class="nf">server_recordsets</span><span class="p">)</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <p>
   In the above example, we've created a lightweight abstraction in the form of
 a "recordset" object. This contains the attributes that describe the general
 idea of a DNS recordset that should be mappable onto any DNS provider.
  </p>
  <p>
   We then instantiate one specific
   <em>
    implementation
   </em>
   of that abstraction as a
 module, in this case deploying our recordsets to Amazon Route53.
  </p>
  <p>
   If we later wanted to switch to a different DNS provider, we'd need only to
 replace the
   <code>
    dns_records
   </code>
   module with a new implementation targeting that
 provider, and all of the configuration that
   <em>
    produces
   </em>
   the recordset
 definitions can remain unchanged.
  </p>
  <p>
   We can create lightweight abstractions like these by defining Terraform object
 types representing the concepts involved and then using these object types
 for module input variables. In this case, all of our "DNS records"
 implementations would have the following variable declared:
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">variable</span> <span class="s2">"recordsets"</span> <span class="p">{</span>
   <span class="n">type</span> <span class="o">=</span> <span class="n">list</span><span class="p">(</span><span class="n">object</span><span class="p">({</span>
     <span class="nb">name</span>    <span class="o">=</span> <span class="n">string</span>
     <span class="n">type</span>    <span class="o">=</span> <span class="n">string</span>
     <span class="n">ttl</span>     <span class="o">=</span> <span class="n">number</span>
     <span class="n">records</span> <span class="o">=</span> <span class="n">list</span><span class="p">(</span><span class="n">string</span><span class="p">)</span>
   <span class="p">}))</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <p>
   While DNS serves as a simple example, there are many more opportunities to
 exploit common elements across vendors. A more complex example is Kubernetes,
 where there are now many different vendors offering hosted Kubernetes clusters
 and even more ways to run Kubernetes yourself.
  </p>
  <p>
   If the common functionality across all of these implementations is sufficient
 for your needs, you may choose to implement a set of different modules that
 describe a particular Kubernetes cluster implementation and all have the common
 trait of exporting the hostname of the cluster as an output value:
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">output</span> <span class="s2">"hostname"</span> <span class="p">{</span>
   <span class="n">value</span> <span class="o">=</span> <span class="n">azurerm_kubernetes_cluster</span><span class="p">.</span><span class="nf">main</span><span class="p">.</span><span class="nf">fqdn</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <p>
   You can then write
   <em>
    other
   </em>
   modules that expect only a Kubernetes cluster
 hostname as input and use them interchangeably with any of your Kubernetes
 cluster modules:
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">module</span> <span class="s2">"k8s_cluster"</span> <span class="p">{</span>
   <span class="n">source</span> <span class="o">=</span> <span class="s2">"modules/azurerm-k8s-cluster"</span>
 
   <span class="c1"># (Azure-specific configuration arguments)</span>
 <span class="p">}</span>
 
 <span class="n">module</span> <span class="s2">"monitoring_tools"</span> <span class="p">{</span>
   <span class="n">source</span> <span class="o">=</span> <span class="s2">"modules/monitoring_tools"</span>
 
   <span class="n">cluster_hostname</span> <span class="o">=</span> <span class="n">module</span><span class="p">.</span><span class="nf">k8s_cluster</span><span class="p">.</span><span class="nf">hostname</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <h2 id="data-only-modules">
   <a class="anchor" href="#data-only-modules" name="data-only-modules">
    »
   </a>
   Data-only Modules
  </h2>
  <p>
   Most modules contain
   <code>
    resource
   </code>
   blocks and thus describe infrastructure to be
 created and managed. It may sometimes be useful to write modules that do not
 describe any new infrastructure at all, but merely retrieve information about
 existing infrastructure that was created elsewhere using
   <a href="/docs/language/data-sources/index.html">
    data sources
   </a>
   .
  </p>
  <p>
   As with conventional modules, we suggest using this technique only when the
 module raises the level of abstraction in some way, in this case by
 encapsulating exactly how the data is retrieved.
  </p>
  <p>
   A common use of this technique is when a system has been decomposed into several
 subsystem configurations but there is certain infrastructure that is shared
 across all of the subsystems, such as a common IP network. In this situation,
 we might write a shared module called
   <code>
    join-network-aws
   </code>
   which can be called
 by any configuration that needs information about the shared network when
 deployed in AWS:
  </p>
  <div class="highlight">
   <pre class="highlight plaintext"><code>module "network" {
   source = "./modules/join-network-aws"
 
   environment = "production"
 }
 
 module "k8s_cluster" {
   source = "./modules/aws-k8s-cluster"
 
   subnet_ids = module.network.aws_subnet_ids
 }
 </code></pre>
  </div>
  <p>
   The
   <code>
    network
   </code>
   module itself could retrieve this data in a number of different
 ways: it could query the AWS API directly using
   <a href="https://registry.terraform.io/providers/hashicorp/aws/latest/docs/data-sources/vpc">
    <code>
     aws_vpc
    </code>
   </a>
   and
   <a href="https://registry.terraform.io/providers/hashicorp/aws/latest/docs/data-sources/subnet_ids">
    <code>
     aws_subnet_ids
    </code>
   </a>
   data sources, or it could read saved information from a Consul cluster using
   <a href="https://registry.terraform.io/providers/hashicorp/consul/latest/docs/data-sources/keys">
    <code>
     consul_keys
    </code>
   </a>
   ,
 or it might read the outputs directly from the state of the configuration that
 manages the network using
   <a href="https://www.terraform.io/docs/language/state/remote-state-data.html">
    <code>
     terraform_remote_state
    </code>
   </a>
   .
  </p>
  <p>
   The key benefit of this approach is that the source of this information can
 change over time without updating every configuration that depends on it.
 Furthermore, if you design your data-only module with a similar set of outputs
 as a corresponding management module, you can swap between the two relatively
 easily when refactoring.
  </p>
 </div>
 
 <!-- ########### Expressions : Overview ############### -->
 <!-- ########### https://www.terraform.io/docs/language/modules/develop/publish.html ############### --
 ><!-- ########### Expressions : Overview ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="publishing-modules">
    <a class="anchor" href="#publishing-modules" name="publishing-modules">
     »
    </a>
    Publishing Modules
   </h1>
  </div>
  <p>
   If you've built a module that you intend to be reused, we recommend
   <a href="/docs/registry/modules/publish.html">
    publishing the module
   </a>
   on the
   <a href="https://registry.terraform.io">
    Terraform Registry
   </a>
   . This will version
 your module, generate documentation, and more.
  </p>
  <p>
   Published modules can be easily consumed by Terraform, and users can
   <a href="/docs/language/modules/syntax.html#version">
    constrain module versions
   </a>
   for safe and predictable updates. The following example shows how a caller
 might use a module from the Terraform Registry:
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">module</span> <span class="s2">"consul"</span> <span class="p">{</span>
   <span class="n">source</span> <span class="o">=</span> <span class="s2">"hashicorp/consul/aws"</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <p>
   If you do not wish to publish your modules in the public registry, you can
 instead use a
   <a href="/docs/registry/private.html">
    private registry
   </a>
   to get
 the same benefits.
  </p>
  <h2 id="distribution-via-other-sources">
   <a class="anchor" href="#distribution-via-other-sources" name="distribution-via-other-sources">
    »
   </a>
   Distribution via other sources
  </h2>
  <p>
   Although the registry is the native mechanism for distributing re-usable
 modules, Terraform can also install modules from
   <a href="/docs/language/modules/sources.html">
    various other sources
   </a>
   . The alternative sources
 do not support the first-class versioning mechanism, but some sources have
 their own mechanisms for selecting particular VCS commits, etc.
  </p>
  <p>
   We recommend that modules distributed via other protocols still use the
   <a href="/docs/language/modules/develop/structure.html">
    standard module structure
   </a>
   so that they can
 be used in a similar way as a registry module or be published on the registry
 at a later time.
  </p>
 </div>
 
 <!-- ########### Expressions : Types and Values ############### -->
 <!-- ########### https://www.terraform.io/docs/language/expressions/index.html ############### --
 ><!-- ########### Expressions : Types and Values ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="expressions">
    <a class="anchor" href="#expressions" name="expressions">
     »
    </a>
    Expressions
   </h1>
  </div>
  <blockquote>
   <p>
    <strong>
     Hands-on:
    </strong>
    Try the
    <a href="https://learn.hashicorp.com/tutorials/terraform/expressions?in=terraform/configuration-language&amp;utm_source=WEBSITE&amp;utm_medium=WEB_IO&amp;utm_offer=ARTICLE_PAGE&amp;utm_content=DOCS">
     Create Dynamic Expressions
    </a>
    tutorial on HashiCorp Learn.
   </p>
  </blockquote>
  <p>
   <em>
    Expressions
   </em>
   are used to refer to or compute values within a configuration.
 The simplest expressions are just literal values, like
   <code>
    "hello"
   </code>
   or
   <code>
    5
   </code>
   ,
 but the Terraform language also allows more complex expressions such as
 references to data exported by resources, arithmetic, conditional evaluation,
 and a number of built-in functions.
  </p>
  <p>
   Expressions can be used in a number of places in the Terraform language,
 but some contexts limit which expression constructs are allowed,
 such as requiring a literal value of a particular type or forbidding
   <a href="/docs/language/expressions/references.html#references-to-resource-attributes">
    references to resource attributes
   </a>
   .
 Each language feature's documentation describes any restrictions it places on
 expressions.
  </p>
  <p>
   You can experiment with the behavior of Terraform's expressions from
 the Terraform expression console, by running
   <a href="/docs/cli/commands/console.html">
    the
    <code>
     terraform console
    </code>
    command
   </a>
   .
  </p>
  <p>
   The other pages in this section describe the features of Terraform's
 expression syntax.
  </p>
  <ul>
   <li>
    <p>
     <a href="/docs/language/expressions/types.html">
      Types and Values
     </a>
     documents the data types that Terraform expressions can resolve to, and the
 literal syntaxes for values of those types.
    </p>
   </li>
   <li>
    <p>
     <a href="/docs/language/expressions/strings.html">
      Strings and Templates
     </a>
     documents the syntaxes for string literals, including interpolation sequences
 and template directives.
    </p>
   </li>
   <li>
    <p>
     <a href="/docs/language/expressions/references.html">
      References to Values
     </a>
     documents how to refer to named values like variables and resource attributes.
    </p>
   </li>
   <li>
    <p>
     <a href="/docs/language/expressions/operators.html">
      Operators
     </a>
     documents the arithmetic, comparison, and logical operators.
    </p>
   </li>
   <li>
    <p>
     <a href="/docs/language/expressions/function-calls.html">
      Function Calls
     </a>
     documents the syntax for calling Terraform's built-in functions.
    </p>
   </li>
   <li>
    <p>
     <a href="/docs/language/expressions/conditionals.html">
      Conditional Expressions
     </a>
     documents the
     <code>
      &lt;CONDITION&gt; ? &lt;TRUE VAL&gt; : &lt;FALSE VAL&gt;
     </code>
     expression, which
 chooses between two values based on a bool condition.
    </p>
   </li>
   <li>
    <p>
     <a href="/docs/language/expressions/for.html">
      For Expressions
     </a>
     documents expressions like
     <code>
      [for s in var.list : upper(s)]
     </code>
     , which can
 transform a complex type value into another complex type value.
    </p>
   </li>
   <li>
    <p>
     <a href="/docs/language/expressions/splat.html">
      Splat Expressions
     </a>
     documents expressions like
     <code>
      var.list[*].id
     </code>
     , which can extract simpler
 collections from more complicated expressions.
    </p>
   </li>
   <li>
    <p>
     <a href="/docs/language/expressions/dynamic-blocks.html">
      Dynamic Blocks
     </a>
     documents a way to create multiple repeatable nested blocks within a resource
 or other construct.
    </p>
   </li>
   <li>
    <p>
     <a href="/docs/language/expressions/type-constraints.html">
      Type Constraints
     </a>
     documents the syntax for referring to a type, rather than a value of that
 type. Input variables expect this syntax in their
     <code>
      type
     </code>
     argument.
    </p>
   </li>
   <li>
    <p>
     <a href="/docs/language/expressions/version-constraints.html">
      Version Constraints
     </a>
     documents the syntax of special strings that define a set of allowed software
 versions. Terraform uses version constraints in several places.
    </p>
   </li>
  </ul>
 </div>
 
 <!-- ########### Expressions : Strings and Templates ############### -->
 <!-- ########### https://www.terraform.io/docs/language/expressions/types.html ############### --
 ><!-- ########### Expressions : Strings and Templates ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="types-and-values">
    <a class="anchor" href="#types-and-values" name="types-and-values">
     »
    </a>
    Types and Values
   </h1>
   <div id="inner-quicknav">
    <span id="inner-quicknav-trigger">
     Jump to Section
     <svg height="5" width="9" xmlns="http://www.w3.org/2000/svg">
      <path d="M8.811 1.067a.612.612 0 0 0 0-.884.655.655 0 0 0-.908 0L4.5 3.491 1.097.183a.655.655 0 0 0-.909 0 .615.615 0 0 0 0 .884l3.857 3.75a.655.655 0 0 0 .91 0l3.856-3.75z" fill-rule="evenodd">
      </path>
     </svg>
    </span>
    <ul class="dropdown">
     <li class="level-h2">
      <a href="#types">
       »
 Types
      </a>
     </li>
     <li class="level-h2">
      <a href="#literal-expressions">
       »
 Literal Expressions
      </a>
     </li>
     <li class="level-h3">
      <a href="#strings">
       »
 Strings
      </a>
     </li>
     <li class="level-h3">
      <a href="#numbers">
       »
 Numbers
      </a>
     </li>
     <li class="level-h3">
      <a href="#bools">
       »
 Bools
      </a>
     </li>
     <li class="level-h3">
      <a href="#null-1">
       »
 Null
      </a>
     </li>
     <li class="level-h3">
      <a href="#lists-tuples">
       »
 Lists/Tuples
      </a>
     </li>
     <li class="level-h3">
      <a href="#maps-objects">
       »
 Maps/Objects
      </a>
     </li>
     <li class="level-h2">
      <a href="#indices-and-attributes">
       »
 Indices and Attributes
      </a>
     </li>
     <li class="level-h2">
      <a href="#more-about-complex-types">
       »
 More About Complex Types
      </a>
     </li>
     <li class="level-h2">
      <a href="#type-conversion">
       »
 Type Conversion
      </a>
     </li>
    </ul>
   </div>
  </div>
  <p>
   The result of an expression is a
   <em>
    value
   </em>
   . All values have a
   <em>
    type
   </em>
   , which
 dictates where that value can be used and what transformations can be
 applied to it.
  </p>
  <h2 id="types">
   <a class="anchor" href="#types" name="types">
    »
   </a>
   Types
  </h2>
  <p>
   The Terraform language uses the following types for its values:
  </p>
  <ul>
   <li>
    <a name="string">
    </a>
    <a href="#string">
     <code>
      string
     </code>
    </a>
    : a sequence of Unicode characters representing some text, like
    <code>
     "hello"
    </code>
    .
   </li>
   <li>
    <a name="number">
    </a>
    <a href="#number">
     <code>
      number
     </code>
    </a>
    : a numeric value. The
    <code>
     number
    </code>
    type can represent both whole
 numbers like
    <code>
     15
    </code>
    and fractional values like
    <code>
     6.283185
    </code>
    .
   </li>
   <li>
    <a name="bool">
    </a>
    <a href="#bool">
     <code>
      bool
     </code>
    </a>
    : a boolean value, either
    <code>
     true
    </code>
    or
    <code>
     false
    </code>
    .
    <code>
     bool
    </code>
    values can be used in conditional
 logic.
   </li>
   <li>
    <a name="list">
    </a>
    <a href="#list">
     <code>
      list
     </code>
    </a>
    (or
    <code>
     tuple
    </code>
    ): a sequence of values, like
    <code>
     ["us-west-1a", "us-west-1c"]
    </code>
    . Elements in a list or tuple are identified by
 consecutive whole numbers, starting with zero.
   </li>
   <li>
    <a name="map">
    </a>
    <a href="#map">
     <code>
      map
     </code>
    </a>
    (or
    <code>
     object
    </code>
    ): a group of values identified by named labels, like
    <code>
     {name = "Mabel", age = 52}
    </code>
    .
   </li>
  </ul>
  <p>
   Strings, numbers, and bools are sometimes called
   <em>
    primitive types.
   </em>
   Lists/tuples and maps/objects are sometimes called
   <em>
    complex types,
   </em>
   <em>
    structural types,
   </em>
   or
   <em>
    collection types.
   </em>
  </p>
  <p>
   Finally, there is one special value that has
   <em>
    no
   </em>
   type:
  </p>
  <ul>
   <li>
    <a name="null">
    </a>
    <a href="#null">
     <code>
      null
     </code>
    </a>
    : a value that represents
    <em>
     absence
    </em>
    or
    <em>
     omission.
    </em>
    If you set an
 argument of a resource or module to
    <code>
     null
    </code>
    , Terraform behaves as though you
 had completely omitted it — it will use the argument's default value if it has
 one, or raise an error if the argument is mandatory.
    <code>
     null
    </code>
    is most useful in
 conditional expressions, so you can dynamically omit an argument if a
 condition isn't met.
   </li>
  </ul>
  <h2 id="literal-expressions">
   <a class="anchor" href="#literal-expressions" name="literal-expressions">
    »
   </a>
   Literal Expressions
  </h2>
  <p>
   A
   <em>
    literal expression
   </em>
   is an expression that directly represents a particular
 constant value. Terraform has a literal expression syntax for each of the value
 types described above.
  </p>
  <h3 id="strings">
   <a class="anchor" href="#strings" name="strings">
    »
   </a>
   Strings
  </h3>
  <p>
   Strings are usually represented by a double-quoted sequence of Unicode
 characters,
   <code>
    "like this"
   </code>
   . There is also a "heredoc" syntax for more complex
 strings.
  </p>
  <p>
   String literals are the most complex kind of literal expression in
 Terraform, and have their own page of documentation. See
   <a href="/docs/language/expressions/strings.html">
    Strings
   </a>
   for information about escape sequences, the heredoc syntax, interpolation, and
 template directives.
  </p>
  <h3 id="numbers">
   <a class="anchor" href="#numbers" name="numbers">
    »
   </a>
   Numbers
  </h3>
  <p>
   Numbers are represented by unquoted sequences of digits with or without a
 decimal point, like
   <code>
    15
   </code>
   or
   <code>
    6.283185
   </code>
   .
  </p>
  <h3 id="bools">
   <a class="anchor" href="#bools" name="bools">
    »
   </a>
   Bools
  </h3>
  <p>
   Bools are represented by the unquoted symbols
   <code>
    true
   </code>
   and
   <code>
    false
   </code>
   .
  </p>
  <h3 id="null-1">
   <a class="anchor" href="#null-1" name="null-1">
    »
   </a>
   Null
  </h3>
  <p>
   The null value is represented by the unquoted symbol
   <code>
    null
   </code>
   .
  </p>
  <h3 id="lists-tuples">
   <a class="anchor" href="#lists-tuples" name="lists-tuples">
    »
   </a>
   Lists/Tuples
  </h3>
  <p>
   Lists/tuples are represented by a pair of square brackets containing a
 comma-separated sequence of values, like
   <code>
    ["a", 15, true]
   </code>
   .
  </p>
  <p>
   List literals can be split into multiple lines for readability, but always
 require a comma between values. A comma after the final value is allowed,
 but not required. Values in a list can be arbitrary expressions.
  </p>
  <h3 id="maps-objects">
   <a class="anchor" href="#maps-objects" name="maps-objects">
    »
   </a>
   Maps/Objects
  </h3>
  <p>
   Maps/objects are represented by a pair of curly braces containing a series of
   <code>
    &lt;KEY&gt; = &lt;VALUE&gt;
   </code>
   pairs:
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="p">{</span>
   <span class="nb">name</span> <span class="o">=</span> <span class="s2">"John"</span>
   <span class="n">age</span>  <span class="o">=</span> <span class="mi">52</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <p>
   Key/value pairs can be separated by either a comma or a line break.
  </p>
  <p>
   The values in a map
 can be arbitrary expressions.
  </p>
  <p>
   The keys in a map must be strings; they can be left unquoted if
 they are a valid
   <a href="/docs/language/syntax/configuration.html#identifiers">
    identifier
   </a>
   , but must be quoted
 otherwise. You can use a non-literal string expression as a key by wrapping it in
 parentheses, like
   <code>
    (var.business_unit_tag_name) = "SRE"
   </code>
   .
  </p>
  <h2 id="indices-and-attributes">
   <a class="anchor" href="#indices-and-attributes" name="indices-and-attributes">
    »
   </a>
   Indices and Attributes
  </h2>
  <p>
   Elements of list/tuple and map/object values can be accessed using
 the square-bracket index notation, like
   <code>
    local.list[3]
   </code>
   . The expression within
 the brackets must be a whole number for list and tuple values or a string
 for map and object values.
  </p>
  <p>
   Map/object attributes with names that are valid identifiers can also be accessed
 using the dot-separated attribute notation, like
   <code>
    local.object.attrname
   </code>
   .
 In cases where a map might contain arbitrary user-specified keys, we recommend
 using only the square-bracket index notation (
   <code>
    local.map["keyname"]
   </code>
   ).
  </p>
  <h2 id="more-about-complex-types">
   <a class="anchor" href="#more-about-complex-types" name="more-about-complex-types">
    »
   </a>
   More About Complex Types
  </h2>
  <p>
   In most situations, lists and tuples behave identically, as do maps and objects.
 Whenever the distinction isn't relevant, the Terraform documentation uses each
 pair of terms interchangeably (with a historical preference for "list" and
 "map").
  </p>
  <p>
   However, module authors and provider developers should understand the
 differences between these similar types (and the related
   <code>
    set
   </code>
   type), since they
 offer different ways to restrict the allowed values for input variables and
 resource arguments.
  </p>
  <p>
   For complete details about these types (and an explanation of why the difference
 usually doesn't matter), see
   <a href="/docs/language/expressions/type-constraints.html">
    Type Constraints
   </a>
   .
  </p>
  <h2 id="type-conversion">
   <a class="anchor" href="#type-conversion" name="type-conversion">
    »
   </a>
   Type Conversion
  </h2>
  <p>
   Expressions are most often used to set values for the arguments of resources and
 child modules. In these cases, the argument has an expected type and the given
 expression must produce a value of that type.
  </p>
  <p>
   Where possible, Terraform automatically converts values from one type to
 another in order to produce the expected type. If this isn't possible, Terraform
 will produce a type mismatch error and you must update the configuration with a
 more suitable expression.
  </p>
  <p>
   Terraform automatically converts number and bool values to strings when needed.
 It also converts strings to numbers or bools, as long as the string contains a
 valid representation of a number or bool value.
  </p>
  <ul>
   <li>
    <a name="true">
    </a>
    <a href="#true">
     <code>
      true
     </code>
    </a>
    converts to
    <code>
     "true"
    </code>
    , and vice-versa
   </li>
   <li>
    <a name="false">
    </a>
    <a href="#false">
     <code>
      false
     </code>
    </a>
    converts to
    <code>
     "false"
    </code>
    , and vice-versa
   </li>
   <li>
    <a name="15">
    </a>
    <a href="#15">
     <code>
      15
     </code>
    </a>
    converts to
    <code>
     "15"
    </code>
    , and vice-versa
   </li>
  </ul>
 </div>
 
 <!-- ########### Expressions : References to Values ############### -->
 <!-- ########### https://www.terraform.io/docs/language/expressions/strings.html ############### --
 ><!-- ########### Expressions : References to Values ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="strings-and-templates">
    <a class="anchor" href="#strings-and-templates" name="strings-and-templates">
     »
    </a>
    Strings and Templates
   </h1>
   <div id="inner-quicknav">
    <span id="inner-quicknav-trigger">
     Jump to Section
     <svg height="5" width="9" xmlns="http://www.w3.org/2000/svg">
      <path d="M8.811 1.067a.612.612 0 0 0 0-.884.655.655 0 0 0-.908 0L4.5 3.491 1.097.183a.655.655 0 0 0-.909 0 .615.615 0 0 0 0 .884l3.857 3.75a.655.655 0 0 0 .91 0l3.856-3.75z" fill-rule="evenodd">
      </path>
     </svg>
    </span>
    <ul class="dropdown">
     <li class="level-h2">
      <a href="#quoted-strings">
       »
 Quoted Strings
      </a>
     </li>
     <li class="level-h3">
      <a href="#escape-sequences">
       »
 Escape Sequences
      </a>
     </li>
     <li class="level-h2">
      <a href="#heredoc-strings">
       »
 Heredoc Strings
      </a>
     </li>
     <li class="level-h3">
      <a href="#indented-heredocs">
       »
 Indented Heredocs
      </a>
     </li>
     <li class="level-h3">
      <a href="#escape-sequences-1">
       »
 Escape Sequences
      </a>
     </li>
     <li class="level-h2">
      <a href="#string-templates">
       »
 String Templates
      </a>
     </li>
     <li class="level-h3">
      <a href="#interpolation">
       »
 Interpolation
      </a>
     </li>
     <li class="level-h3">
      <a href="#directives">
       »
 Directives
      </a>
     </li>
     <li class="level-h3">
      <a href="#whitespace-stripping">
       »
 Whitespace Stripping
      </a>
     </li>
    </ul>
   </div>
  </div>
  <p>
   String literals are the most complex kind of literal expression in
 Terraform, and also the most commonly used.
  </p>
  <p>
   Terraform supports both a quoted syntax and a "heredoc" syntax for strings.
 Both of these syntaxes support template sequences for interpolating values and
 manipulating text.
  </p>
  <h2 id="quoted-strings">
   <a class="anchor" href="#quoted-strings" name="quoted-strings">
    »
   </a>
   Quoted Strings
  </h2>
  <p>
   A quoted string is a series of characters delimited by straight double-quote
 characters (
   <code>
    "
   </code>
   ).
  </p>
  <div class="highlight">
   <pre class="highlight plaintext"><code>"hello"
 </code></pre>
  </div>
  <h3 id="escape-sequences">
   <a class="anchor" href="#escape-sequences" name="escape-sequences">
    »
   </a>
   Escape Sequences
  </h3>
  <p>
   In quoted strings, the backslash character serves as an escape
 sequence, with the following characters selecting the escape behavior:
  </p>
  <table>
   <thead>
    <tr>
     <th>
      Sequence
     </th>
     <th>
      Replacement
     </th>
    </tr>
   </thead>
   <tbody>
    <tr>
     <td>
      <code>
       \n
      </code>
     </td>
     <td>
      Newline
     </td>
    </tr>
    <tr>
     <td>
      <code>
       \r
      </code>
     </td>
     <td>
      Carriage Return
     </td>
    </tr>
    <tr>
     <td>
      <code>
       \t
      </code>
     </td>
     <td>
      Tab
     </td>
    </tr>
    <tr>
     <td>
      <code>
       \"
      </code>
     </td>
     <td>
      Literal quote (without terminating the string)
     </td>
    </tr>
    <tr>
     <td>
      <code>
       \\
      </code>
     </td>
     <td>
      Literal backslash
     </td>
    </tr>
    <tr>
     <td>
      <code>
       \uNNNN
      </code>
     </td>
     <td>
      Unicode character from the basic multilingual plane (NNNN is four hex digits)
     </td>
    </tr>
    <tr>
     <td>
      <code>
       \UNNNNNNNN
      </code>
     </td>
     <td>
      Unicode character from supplementary planes (NNNNNNNN is eight hex digits)
     </td>
    </tr>
   </tbody>
  </table>
  <p>
   There are also two special escape sequences that do not use backslashes:
  </p>
  <table>
   <thead>
    <tr>
     <th>
      Sequence
     </th>
     <th>
      Replacement
     </th>
    </tr>
   </thead>
   <tbody>
    <tr>
     <td>
      <code>
       $${
      </code>
     </td>
     <td>
      Literal
      <code>
       ${
      </code>
      , without beginning an interpolation sequence.
     </td>
    </tr>
    <tr>
     <td>
      <code>
       %%{
      </code>
     </td>
     <td>
      Literal
      <code>
       %{
      </code>
      , without beginning a template directive sequence.
     </td>
    </tr>
   </tbody>
  </table>
  <h2 id="heredoc-strings">
   <a class="anchor" href="#heredoc-strings" name="heredoc-strings">
    »
   </a>
   Heredoc Strings
  </h2>
  <p>
   Terraform also supports a "heredoc" style of string literal inspired by Unix
 shell languages, which allows multi-line strings to be expressed more clearly.
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="o">&lt;&lt;</span><span class="no">EOT</span><span class="sh">
 hello
 world
 </span><span class="no">EOT</span>
 </code></pre>
  </div>
  <p>
   A heredoc string consists of:
  </p>
  <ul>
   <li>
    An opening sequence consisting of:
    <ul>
     <li>
      A heredoc marker (
      <code>
       &lt;&lt;
      </code>
      or
      <code>
       &lt;&lt;-
      </code>
      — two less-than signs, with an optional hyphen for indented heredocs)
     </li>
     <li>
      A delimiter word of your own choosing
     </li>
     <li>
      A line break
     </li>
    </ul>
   </li>
   <li>
    The contents of the string, which can span any number of lines
   </li>
   <li>
    The delimiter word you chose, alone on its own line (with indentation allowed for indented heredocs)
   </li>
  </ul>
  <p>
   The
   <code>
    &lt;&lt;
   </code>
   marker followed by any identifier at the end of a line introduces the
 sequence. Terraform then processes the following lines until it finds one that
 consists entirely of the identifier given in the introducer.
  </p>
  <p>
   In the above example,
   <code>
    EOT
   </code>
   is the identifier selected. Any identifier is
 allowed, but conventionally this identifier is in all-uppercase and begins with
   <code>
    EO
   </code>
   , meaning "end of".
   <code>
    EOT
   </code>
   in this case stands for "end of text".
  </p>
  <h3 id="indented-heredocs">
   <a class="anchor" href="#indented-heredocs" name="indented-heredocs">
    »
   </a>
   Indented Heredocs
  </h3>
  <p>
   The standard heredoc form (shown above) treats all space characters as literal
 spaces. If you don't want each line to begin with spaces, then each line must be
 flush with the left margin, which can be awkward for expressions in an
 indented block:
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">block</span> <span class="p">{</span>
   <span class="n">value</span> <span class="o">=</span> <span class="o">&lt;&lt;</span><span class="no">EOT</span><span class="sh">
 hello
 world
 </span><span class="no">EOT</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <p>
   To improve on this, Terraform also accepts an
   <em>
    indented
   </em>
   heredoc string variant
 that is introduced by the
   <code>
    &lt;&lt;-
   </code>
   sequence:
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">block</span> <span class="p">{</span>
   <span class="n">value</span> <span class="o">=</span> <span class="o">&lt;&lt;-</span><span class="no">EOT</span><span class="sh">
   hello
     world
 </span><span class="no">  EOT</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <p>
   In this case, Terraform analyses the lines in the sequence to find the one
 with the smallest number of leading spaces, and then trims that many spaces
 from the beginning of all of the lines, leading to the following result:
  </p>
  <div class="highlight">
   <pre class="highlight plaintext"><code>hello
   world
 </code></pre>
  </div>
  <h3 id="escape-sequences-1">
   <a class="anchor" href="#escape-sequences-1" name="escape-sequences-1">
    »
   </a>
   Escape Sequences
  </h3>
  <p>
   Backslash sequences are not interpreted as escapes in a heredoc string
 expression. Instead, the backslash character is interpreted literally.
  </p>
  <p>
   Heredocs support two special escape sequences that do not use backslashes:
  </p>
  <table>
   <thead>
    <tr>
     <th>
      Sequence
     </th>
     <th>
      Replacement
     </th>
    </tr>
   </thead>
   <tbody>
    <tr>
     <td>
      <code>
       $${
      </code>
     </td>
     <td>
      Literal
      <code>
       ${
      </code>
      , without beginning an interpolation sequence.
     </td>
    </tr>
    <tr>
     <td>
      <code>
       %%{
      </code>
     </td>
     <td>
      Literal
      <code>
       %{
      </code>
      , without beginning a template directive sequence.
     </td>
    </tr>
   </tbody>
  </table>
  <h2 id="string-templates">
   <a class="anchor" href="#string-templates" name="string-templates">
    »
   </a>
   String Templates
  </h2>
  <p>
   Within quoted and heredoc string expressions, the sequences
   <code>
    ${
   </code>
   and
   <code>
    %{
   </code>
   begin
   <em>
    template sequences
   </em>
   . Templates let you directly embed expressions into a string
 literal, to dynamically construct strings from other values.
  </p>
  <h3 id="interpolation">
   <a class="anchor" href="#interpolation" name="interpolation">
    »
   </a>
   Interpolation
  </h3>
  <p>
   A
   <code>
    ${ ... }
   </code>
   sequence is an
   <em>
    interpolation,
   </em>
   which evaluates the expression
 given between the markers, converts the result to a string if necessary, and
 then inserts it into the final string:
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="s2">"Hello, ${var.name}!"</span>
 </code></pre>
  </div>
  <p>
   In the above example, the named object
   <code>
    var.name
   </code>
   is accessed and its value
 inserted into the string, producing a result like "Hello, Juan!".
  </p>
  <h3 id="directives">
   <a class="anchor" href="#directives" name="directives">
    »
   </a>
   Directives
  </h3>
  <p>
   A
   <code>
    %{ ... }
   </code>
   sequence is a
   <em>
    directive
   </em>
   , which allows for conditional
 results and iteration over collections, similar to conditional
 and
   <code>
    for
   </code>
   expressions.
  </p>
  <p>
   The following directives are supported:
  </p>
  <ul>
   <li>
    <p>
     The
     <code>
      %{if &lt;BOOL&gt;}
     </code>
     /
     <code>
      %{else}
     </code>
     /
     <code>
      %{endif}
     </code>
     directive chooses between two templates based
 on the value of a bool expression:
    </p>
    <div class="highlight">
     <pre class="highlight hcl"><code><span class="s2">"Hello, %{ if var.name != "" }${var.name}%{ else }unnamed%{ endif }!"</span>
 </code></pre>
    </div>
    <p>
     The
     <code>
      else
     </code>
     portion may be omitted, in which case the result is an empty
 string if the condition expression returns
     <code>
      false
     </code>
     .
    </p>
   </li>
   <li>
    <p>
     The
     <code>
      %{for &lt;NAME&gt; in &lt;COLLECTION&gt;}
     </code>
     /
     <code>
      %{endfor}
     </code>
     directive iterates over the
 elements of a given collection or structural value and evaluates a given
 template once for each element, concatenating the results together:
    </p>
    <div class="highlight">
     <pre class="highlight hcl"><code><span class="o">&lt;&lt;</span><span class="no">EOT</span><span class="sh">
 %{ for ip in aws_instance.example.*.private_ip }
 server ${ip}
 %{ endfor }
 </span><span class="no">EOT</span>
 </code></pre>
    </div>
    <p>
     The name given immediately after the
     <code>
      for
     </code>
     keyword is used as a temporary
 variable name which can then be referenced from the nested template.
    </p>
   </li>
  </ul>
  <h3 id="whitespace-stripping">
   <a class="anchor" href="#whitespace-stripping" name="whitespace-stripping">
    »
   </a>
   Whitespace Stripping
  </h3>
  <p>
   To allow template directives to be formatted for readability without adding
 unwanted spaces and newlines to the result, all template sequences can include
 optional
   <em>
    strip markers
   </em>
   (
   <code>
    ~
   </code>
   ), immediately after the opening characters or
 immediately before the end. When a strip marker is present, the template
 sequence consumes all of the literal whitespace (spaces and newlines) either
 before the sequence (if the marker appears at the beginning) or after (if the
 marker appears at the end):
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="o">&lt;&lt;</span><span class="no">EOT</span><span class="sh">
 %{ for ip in aws_instance.example.*.private_ip ~}
 server ${ip}
 %{ endfor ~}
 </span><span class="no">EOT</span>
 </code></pre>
  </div>
  <p>
   In the above example, the newline after each of the directives is not included
 in the output, but the newline after the
   <code>
    server ${ip}
   </code>
   sequence is retained,
 causing only one line to be generated for each element:
  </p>
  <div class="highlight">
   <pre class="highlight plaintext"><code>server 10.1.16.154
 server 10.1.16.1
 server 10.1.16.34
 </code></pre>
  </div>
  <p>
   When using template directives, we recommend always using the "heredoc" string
 literal form and then formatting the template over multiple lines for
 readability. Quoted string literals should usually include only interpolation
 sequences.
  </p>
 </div>
 
 <!-- ########### Expressions : Operators ############### -->
 <!-- ########### https://www.terraform.io/docs/language/expressions/references.html ############### --
 ><!-- ########### Expressions : Operators ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="references-to-named-values">
    <a class="anchor" href="#references-to-named-values" name="references-to-named-values">
     »
    </a>
    References to Named Values
   </h1>
   <div id="inner-quicknav">
    <span id="inner-quicknav-trigger">
     Jump to Section
     <svg height="5" width="9" xmlns="http://www.w3.org/2000/svg">
      <path d="M8.811 1.067a.612.612 0 0 0 0-.884.655.655 0 0 0-.908 0L4.5 3.491 1.097.183a.655.655 0 0 0-.909 0 .615.615 0 0 0 0 .884l3.857 3.75a.655.655 0 0 0 .91 0l3.856-3.75z" fill-rule="evenodd">
      </path>
     </svg>
    </span>
    <ul class="dropdown">
     <li class="level-h2">
      <a href="#types-of-named-values">
       »
 Types of Named Values
      </a>
     </li>
     <li class="level-h3">
      <a href="#resources">
       »
 Resources
      </a>
     </li>
     <li class="level-h3">
      <a href="#input-variables">
       »
 Input Variables
      </a>
     </li>
     <li class="level-h3">
      <a href="#local-values">
       »
 Local Values
      </a>
     </li>
     <li class="level-h3">
      <a href="#child-module-outputs">
       »
 Child Module Outputs
      </a>
     </li>
     <li class="level-h3">
      <a href="#data-sources">
       »
 Data Sources
      </a>
     </li>
     <li class="level-h3">
      <a href="#filesystem-and-workspace-info">
       »
 Filesystem and Workspace Info
      </a>
     </li>
     <li class="level-h3">
      <a href="#block-local-values">
       »
 Block-Local Values
      </a>
     </li>
     <li class="level-h2">
      <a href="#named-values-and-dependencies">
       »
 Named Values and Dependencies
      </a>
     </li>
     <li class="level-h2">
      <a href="#references-to-resource-attributes">
       »
 References to Resource Attributes
      </a>
     </li>
     <li class="level-h3">
      <a href="#values-not-yet-known">
       »
 Values Not Yet Known
      </a>
     </li>
     <li class="level-h3">
      <a href="#sensitive-resource-attributes">
       »
 Sensitive Resource Attributes
      </a>
     </li>
    </ul>
   </div>
  </div>
  <blockquote>
   <p>
    <strong>
     Hands-on:
    </strong>
    Try the
    <a href="https://learn.hashicorp.com/tutorials/terraform/expressions?in=terraform/configuration-language&amp;utm_source=WEBSITE&amp;utm_medium=WEB_IO&amp;utm_offer=ARTICLE_PAGE&amp;utm_content=DOCS">
     Create Dynamic Expressions
    </a>
    tutorial on HashiCorp Learn.
   </p>
  </blockquote>
  <p>
   Terraform makes several kinds of named values available. Each of these names is
 an expression that references the associated value; you can use them as
 standalone expressions, or combine them with other expressions to compute new
 values.
  </p>
  <h2 id="types-of-named-values">
   <a class="anchor" href="#types-of-named-values" name="types-of-named-values">
    »
   </a>
   Types of Named Values
  </h2>
  <p>
   The main kinds of named values available in Terraform are:
  </p>
  <ul>
   <li>
    Resources
   </li>
   <li>
    Input variables
   </li>
   <li>
    Local values
   </li>
   <li>
    Child module outputs
   </li>
   <li>
    Data sources
   </li>
   <li>
    Filesystem and workspace info
   </li>
   <li>
    Block-local values
   </li>
  </ul>
  <p>
   The sections below explain each kind of named value in detail.
  </p>
  <p>
   Although many of these names use dot-separated paths that resemble
   <a href="/docs/language/expressions/types.html#indices-and-attributes">
    attribute notation
   </a>
   for elements of object values, they are not
 implemented as real objects. This means you must use them exactly as written:
 you cannot use square-bracket notation to replace the dot-separated paths, and
 you cannot iterate over the "parent object" of a named entity; for example, you
 cannot use
   <code>
    aws_instance
   </code>
   in a
   <code>
    for
   </code>
   expression to iterate over every AWS
 instance resource.
  </p>
  <h3 id="resources">
   <a class="anchor" href="#resources" name="resources">
    »
   </a>
   Resources
  </h3>
  <p>
   <code>
    &lt;RESOURCE TYPE&gt;.&lt;NAME&gt;
   </code>
   represents a
   <a href="/docs/language/resources/index.html">
    managed resource
   </a>
   of
 the given type and name.
  </p>
  <p>
   The value of a resource reference can vary, depending on whether the resource
 uses
   <code>
    count
   </code>
   or
   <code>
    for_each
   </code>
   :
  </p>
  <ul>
   <li>
    If the resource doesn't use
    <code>
     count
    </code>
    or
    <code>
     for_each
    </code>
    , the reference's value is an
 object. The resource's attributes are elements of the object, and you can
 access them using
    <a href="/docs/language/expressions/types.html#indices-and-attributes">
     dot or square bracket notation
    </a>
    .
   </li>
   <li>
    If the resource has the
    <code>
     count
    </code>
    argument set, the reference's value is a
    <em>
     list
    </em>
    of objects representing its instances.
   </li>
   <li>
    If the resource has the
    <code>
     for_each
    </code>
    argument set, the reference's value is a
    <em>
     map
    </em>
    of objects representing its instances.
   </li>
  </ul>
  <p>
   Any named value that does not match another pattern listed below
 will be interpreted by Terraform as a reference to a managed resource.
  </p>
  <p>
   For more information about how to use resource references, see
   <a href="#references-to-resource-attributes">
    references to resource attributes
   </a>
   below.
  </p>
  <h3 id="input-variables">
   <a class="anchor" href="#input-variables" name="input-variables">
    »
   </a>
   Input Variables
  </h3>
  <p>
   <code>
    var.&lt;NAME&gt;
   </code>
   is the value of the
   <a href="/docs/language/values/variables.html">
    input variable
   </a>
   of the given name.
  </p>
  <h3 id="local-values">
   <a class="anchor" href="#local-values" name="local-values">
    »
   </a>
   Local Values
  </h3>
  <p>
   <code>
    local.&lt;NAME&gt;
   </code>
   is the value of the
   <a href="/docs/language/values/locals.html">
    local value
   </a>
   of the given name.
  </p>
  <h3 id="child-module-outputs">
   <a class="anchor" href="#child-module-outputs" name="child-module-outputs">
    »
   </a>
   Child Module Outputs
  </h3>
  <p>
   <code>
    module.&lt;MODULE NAME&gt;
   </code>
   is an value representing the results of
   <a href="/docs/language/modules/syntax.html">
    a
    <code>
     module
    </code>
    block
   </a>
   .
  </p>
  <p>
   If the corresponding
   <code>
    module
   </code>
   block does not have either
   <code>
    count
   </code>
   nor
   <code>
    for_each
   </code>
   set then the value will be an object with one attribute for each output value
 defined in the child module. To access one of the module's
   <a href="/docs/language/values/outputs.html">
    output values
   </a>
   , use
   <code>
    module.&lt;MODULE NAME&gt;.&lt;OUTPUT NAME&gt;
   </code>
   .
  </p>
  <p>
   If the corresponding
   <code>
    module
   </code>
   uses
   <code>
    for_each
   </code>
   then the value will be a map
 of objects whose keys correspond with the keys in the
   <code>
    for_each
   </code>
   expression,
 and whose values are each objects with one attribute for each output value
 defined in the child module, each representing one module instance.
  </p>
  <p>
   If the corresponding module uses
   <code>
    count
   </code>
   then the result is similar to for
   <code>
    for_each
   </code>
   except that the value is a
   <em>
    list
   </em>
   with the requested number of
 elements, each one representing one module instance.
  </p>
  <h3 id="data-sources">
   <a class="anchor" href="#data-sources" name="data-sources">
    »
   </a>
   Data Sources
  </h3>
  <p>
   <code>
    data.&lt;DATA TYPE&gt;.&lt;NAME&gt;
   </code>
   is an object representing a
   <a href="/docs/language/data-sources/index.html">
    data resource
   </a>
   of the given data
 source type and name. If the resource has the
   <code>
    count
   </code>
   argument set, the value
 is a list of objects representing its instances. If the resource has the
   <code>
    for_each
   </code>
   argument set, the value is a map of objects representing its instances.
  </p>
  <p>
   For more information, see
   <a href="#references-to-resource-attributes">
    References to Resource Attributes
   </a>
   , which
 also applies to data resources aside from the addition of the
   <code>
    data.
   </code>
   prefix
 to mark the reference as for a data resource.
  </p>
  <h3 id="filesystem-and-workspace-info">
   <a class="anchor" href="#filesystem-and-workspace-info" name="filesystem-and-workspace-info">
    »
   </a>
   Filesystem and Workspace Info
  </h3>
  <ul>
   <li>
    <a name="path-module">
    </a>
    <a href="#path-module">
     <code>
      path.module
     </code>
    </a>
    is the filesystem path of the module where the expression
 is placed.
   </li>
   <li>
    <a name="path-root">
    </a>
    <a href="#path-root">
     <code>
      path.root
     </code>
    </a>
    is the filesystem path of the root module of the configuration.
   </li>
   <li>
    <a name="path-cwd">
    </a>
    <a href="#path-cwd">
     <code>
      path.cwd
     </code>
    </a>
    is the filesystem path of the current working directory. In
 normal use of Terraform this is the same as
    <code>
     path.root
    </code>
    , but some advanced
 uses of Terraform run it from a directory other than the root module
 directory, causing these paths to be different.
   </li>
   <li>
    <a name="terraform-workspace">
    </a>
    <a href="#terraform-workspace">
     <code>
      terraform.workspace
     </code>
    </a>
    is the name of the currently selected
    <a href="/docs/language/state/workspaces.html">
     workspace
    </a>
    .
   </li>
  </ul>
  <h3 id="block-local-values">
   <a class="anchor" href="#block-local-values" name="block-local-values">
    »
   </a>
   Block-Local Values
  </h3>
  <p>
   Within the bodies of certain blocks, or in some other specific contexts,
 there are other named values available beyond the global values listed above.
 These local names are described in the documentation for the specific contexts
 where they appear. Some of most common local names are:
  </p>
  <ul>
   <li>
    <a name="count-index">
    </a>
    <a href="#count-index">
     <code>
      count.index
     </code>
    </a>
    , in resources that use
    <a href="/docs/language/meta-arguments/count.html">
     the
     <code>
      count
     </code>
     meta-argument
    </a>
    .
   </li>
   <li>
    <a name="each-key">
    </a>
    <a href="#each-key">
     <code>
      each.key
     </code>
    </a>
    /
    <code>
     each.value
    </code>
    , in resources that use
    <a href="/docs/language/meta-arguments/for_each.html">
     the
     <code>
      for_each
     </code>
     meta-argument
    </a>
    .
   </li>
   <li>
    <a name="self">
    </a>
    <a href="#self">
     <code>
      self
     </code>
    </a>
    , in
    <a href="/docs/language/resources/provisioners/syntax.html">
     provisioner
    </a>
    and
    <a href="/docs/language/resources/provisioners/connection.html">
     connection
    </a>
    blocks.
   </li>
  </ul>
  <div class="alert alert-info" role="alert">
   <p>
    <strong>
     Note:
    </strong>
    Local names are often referred to as
    <em>
     variables
    </em>
    or
    <em>
     temporary variables
    </em>
    in their documentation. These are not
    <a href="/docs/language/values/variables.html">
     input
 variables
    </a>
    ; they are just arbitrary names
 that temporarily represent a value.
   </p>
  </div>
  <h2 id="named-values-and-dependencies">
   <a class="anchor" href="#named-values-and-dependencies" name="named-values-and-dependencies">
    »
   </a>
   Named Values and Dependencies
  </h2>
  <p>
   Constructs like resources and module calls often use references to named values
 in their block bodies, and Terraform analyzes these expressions to automatically
 infer dependencies between objects. For example, an expression in a resource
 argument that refers to another managed resource creates an implicit dependency
 between the two resources.
  </p>
  <h2 id="references-to-resource-attributes">
   <a class="anchor" href="#references-to-resource-attributes" name="references-to-resource-attributes">
    »
   </a>
   References to Resource Attributes
  </h2>
  <p>
   The most common reference type is a reference to an attribute of a resource
 which has been declared either with a
   <code>
    resource
   </code>
   or
   <code>
    data
   </code>
   block. Because
 the contents of such blocks can be quite complicated themselves, expressions
 referring to these contents can also be complicated.
  </p>
  <p>
   Consider the following example resource block:
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">resource</span> <span class="s2">"aws_instance"</span> <span class="s2">"example"</span> <span class="p">{</span>
   <span class="n">ami</span>           <span class="o">=</span> <span class="s2">"ami-abc123"</span>
   <span class="n">instance_type</span> <span class="o">=</span> <span class="s2">"t2.micro"</span>
 
   <span class="n">ebs_block_device</span> <span class="p">{</span>
     <span class="n">device_name</span> <span class="o">=</span> <span class="s2">"sda2"</span>
     <span class="n">volume_size</span> <span class="o">=</span> <span class="mi">16</span>
   <span class="p">}</span>
   <span class="n">ebs_block_device</span> <span class="p">{</span>
     <span class="n">device_name</span> <span class="o">=</span> <span class="s2">"sda3"</span>
     <span class="n">volume_size</span> <span class="o">=</span> <span class="mi">20</span>
   <span class="p">}</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <p>
   The documentation for
   <a href="https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/instance">
    <code>
     aws_instance
    </code>
   </a>
   lists all of the arguments and nested blocks supported for this resource type,
 and also lists a number of attributes that are
   <em>
    exported
   </em>
   by this resource
 type. All of these different resource type schema constructs are available
 for use in references, as follows:
  </p>
  <ul>
   <li>
    The
    <code>
     ami
    </code>
    argument set in the configuration can be used elsewhere with
 the reference expression
    <code>
     aws_instance.example.ami
    </code>
    .
   </li>
   <li>
    The
    <code>
     id
    </code>
    attribute exported by this resource type can be read using the
 same syntax, giving
    <code>
     aws_instance.example.id
    </code>
    .
   </li>
   <li>
    The arguments of the
    <code>
     ebs_block_device
    </code>
    nested blocks can be accessed using
 a
    <a href="/docs/language/expressions/splat.html">
     splat expression
    </a>
    . For example, to obtain a list of
 all of the
    <code>
     device_name
    </code>
    values, use
    <code>
     aws_instance.example.ebs_block_device[*].device_name
    </code>
    .
   </li>
   <li>
    The nested blocks in this particular resource type do not have any exported
 attributes, but if
    <code>
     ebs_block_device
    </code>
    were to have a documented
    <code>
     id
    </code>
    attribute then a list of them could be accessed similarly as
    <code>
     aws_instance.example.ebs_block_device[*].id
    </code>
    .
   </li>
   <li>
    <p>
     Sometimes nested blocks are defined as taking a logical key to identify each
 block, which serves a similar purpose as the resource's own name by providing
 a convenient way to refer to that single block in expressions. If
     <code>
      aws_instance
     </code>
     had a hypothetical nested block type
     <code>
      device
     </code>
     that accepted such a key, it
 would look like this in configuration:
    </p>
    <div class="highlight">
     <pre class="highlight hcl"><code>  <span class="n">device</span> <span class="s2">"foo"</span> <span class="p">{</span>
     <span class="n">size</span> <span class="o">=</span> <span class="mi">2</span>
   <span class="p">}</span>
   <span class="n">device</span> <span class="s2">"bar"</span> <span class="p">{</span>
     <span class="n">size</span> <span class="o">=</span> <span class="mi">4</span>
   <span class="p">}</span>
 </code></pre>
    </div>
    <p>
     Arguments inside blocks with
     <em>
      keys
     </em>
     can be accessed using index syntax, such
 as
     <code>
      aws_instance.example.device["foo"].size
     </code>
     .
    </p>
    <p>
     To obtain a map of values of a particular argument for
     <em>
      labelled
     </em>
     nested
 block types, use a
     <a href="/docs/language/expressions/for.html">
      <code>
       for
      </code>
      expression
     </a>
     :
     <code>
      {for k, device in aws_instance.example.device : k =&gt; device.size}
     </code>
     .
    </p>
   </li>
  </ul>
  <p>
   When a resource has the
   <a href="/docs/language/meta-arguments/count.html">
    <code>
     count
    </code>
   </a>
   argument set, the resource itself becomes a
   <em>
    list
   </em>
   of instance objects rather than
 a single object. In that case, access the attributes of the instances using
 either
   <a href="/docs/language/expressions/splat.html">
    splat expressions
   </a>
   or index syntax:
  </p>
  <ul>
   <li>
    <a name="aws_instance-example-id">
    </a>
    <a href="#aws_instance-example-id">
     <code>
      aws_instance.example[*].id
     </code>
    </a>
    returns a list of all of the ids of each of the
 instances.
   </li>
   <li>
    <a name="aws_instance-example-0-id">
    </a>
    <a href="#aws_instance-example-0-id">
     <code>
      aws_instance.example[0].id
     </code>
    </a>
    returns just the id of the first instance.
   </li>
  </ul>
  <p>
   When a resource has the
   <a href="/docs/language/meta-arguments/for_each.html">
    <code>
     for_each
    </code>
   </a>
   argument set, the resource itself becomes a
   <em>
    map
   </em>
   of instance objects rather than
 a single object, and attributes of instances must be specified by key, or can
 be accessed using a
   <a href="/docs/language/expressions/for.html">
    <code>
     for
    </code>
    expression
   </a>
   .
  </p>
  <ul>
   <li>
    <a name="aws_instance-example-quot-a-quot-id">
    </a>
    <a href="#aws_instance-example-quot-a-quot-id">
     <code>
      aws_instance.example["a"].id
     </code>
    </a>
    returns the id of the "a"-keyed resource.
   </li>
   <li>
    <a name="for-value-in-aws_instance-example-value-id-">
    </a>
    <a href="#for-value-in-aws_instance-example-value-id-">
     <code>
      [for value in aws_instance.example: value.id]
     </code>
    </a>
    returns a list of all of the ids
 of each of the instances.
   </li>
  </ul>
  <p>
   Note that unlike
   <code>
    count
   </code>
   , splat expressions are
   <em>
    not
   </em>
   directly applicable to resources managed with
   <code>
    for_each
   </code>
   , as splat expressions must act on a list value. However, you can use the
   <code>
    values()
   </code>
   function to extract the instances as a list and use that list value in a splat expression:
  </p>
  <ul>
   <li>
    <a name="values-aws_instance-example-id">
    </a>
    <a href="#values-aws_instance-example-id">
     <code>
      values(aws_instance.example)[*].id
     </code>
    </a>
   </li>
  </ul>
  <h3 id="values-not-yet-known">
   <a class="anchor" href="#values-not-yet-known" name="values-not-yet-known">
    »
   </a>
   Values Not Yet Known
  </h3>
  <p>
   When Terraform is planning a set of changes that will apply your configuration,
 some resource attribute values cannot be populated immediately because their
 values are decided dynamically by the remote system. For example, if a
 particular remote object type is assigned a generated unique id on creation,
 Terraform cannot predict the value of this id until the object has been created.
  </p>
  <p>
   To allow expressions to still be evaluated during the plan phase, Terraform
 uses special "unknown value" placeholders for these results. In most cases you
 don't need to do anything special to deal with these, since the Terraform
 language automatically handles unknown values during expressions, so that
 for example adding a known value to an unknown value automatically produces
 an unknown value as the result.
  </p>
  <p>
   However, there are some situations where unknown values
   <em>
    do
   </em>
   have a significant
 effect:
  </p>
  <ul>
   <li>
    <p>
     The
     <code>
      count
     </code>
     meta-argument for resources cannot be unknown, since it must
 be evaluated during the plan phase to determine how many instances are to
 be created.
    </p>
   </li>
   <li>
    <p>
     If unknown values are used in the configuration of a data resource, that
 data resource cannot be read during the plan phase and so it will be deferred
 until the apply phase. In this case, the results of the data resource will
     <em>
      also
     </em>
     be unknown values.
    </p>
   </li>
   <li>
    <p>
     If an unknown value is assigned to an argument inside a
     <code>
      module
     </code>
     block,
 any references to the corresponding input variable within the child module
 will use that unknown value.
    </p>
   </li>
   <li>
    <p>
     If an unknown value is used in the
     <code>
      value
     </code>
     argument of an output value,
 any references to that output value in the parent module will use that
 unknown value.
    </p>
   </li>
   <li>
    <p>
     Terraform will attempt to validate that unknown values are of suitable
 types where possible, but incorrect use of such values may not be detected
 until the apply phase, causing the apply to fail.
    </p>
   </li>
  </ul>
  <p>
   Unknown values appear in the
   <code>
    terraform plan
   </code>
   output as
   <code>
    (not yet known)
   </code>
   .
  </p>
  <h3 id="sensitive-resource-attributes">
   <a class="anchor" href="#sensitive-resource-attributes" name="sensitive-resource-attributes">
    »
   </a>
   Sensitive Resource Attributes
  </h3>
  <p>
   When defining the schema for a resource type, a provider developer can mark
 certain attributes as
   <em>
    sensitive
   </em>
   , in which case Terraform will show a
 placeholder marker
   <code>
    (sensitive)
   </code>
   instead of the actual value when rendering
 a plan involving that attribute.
  </p>
  <p>
   The treatment of these particular sensitive values is currently different than
 for values in
   <a href="/docs/language/values/variables.html">
    input variables
   </a>
   and
   <a href="/docs/language/values/outputs.html">
    output values
   </a>
   that have
   <code>
    sensitive = true
   </code>
   set. Sensitive resource attributes will be
 obscured in the plan when they appear directly, but other values that you
   <em>
    derive
   </em>
   from a sensitive resource attribute will not themselves be considered
 sensitive, and so Terraform will include those derived values in its output
 without redacting them.
  </p>
  <p>
   Terraform v0.14.0 and later has an
   <a href="/docs/language/settings/index.html#experimental-language-features">
    experimental feature
   </a>
   to treat resource attributes that are marked as sensitive in the same way as
 sensitive input variables and output values, so that Terraform will consider
 any derived values as sensitive too. You can activate that experiment for your
 module using the
   <code>
    provider_sensitive_attrs
   </code>
   experiment keyword:
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">terraform</span> <span class="p">{</span>
   <span class="n">experiments</span> <span class="o">=</span> <span class="p">[</span><span class="n">provider_sensitive_attrs</span><span class="p">]</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <p>
   The behavior of this experiment might change even in future patch releases of
 Terraform, so we don't recommend using this experiment in modules you use
 to describe production infrastructure.
  </p>
  <p>
   If you enable this experiment and you have exported any sensitive resource
 attributes via your module's output values then you will see an error unless
 you also mark the output value as
   <code>
    sensitive = true
   </code>
   , confirming your intent
 to export it.
  </p>
 </div>
 
 <!-- ########### Expressions : Function Calls ############### -->
 <!-- ########### https://www.terraform.io/docs/language/expressions/operators.html ############### --
 ><!-- ########### Expressions : Function Calls ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="arithmetic-and-logical-operators">
    <a class="anchor" href="#arithmetic-and-logical-operators" name="arithmetic-and-logical-operators">
     »
    </a>
    Arithmetic and Logical Operators
   </h1>
   <div id="inner-quicknav">
    <span id="inner-quicknav-trigger">
     Jump to Section
     <svg height="5" width="9" xmlns="http://www.w3.org/2000/svg">
      <path d="M8.811 1.067a.612.612 0 0 0 0-.884.655.655 0 0 0-.908 0L4.5 3.491 1.097.183a.655.655 0 0 0-.909 0 .615.615 0 0 0 0 .884l3.857 3.75a.655.655 0 0 0 .91 0l3.856-3.75z" fill-rule="evenodd">
      </path>
     </svg>
    </span>
    <ul class="dropdown">
     <li class="level-h2">
      <a href="#arithmetic-operators">
       »
 Arithmetic Operators
      </a>
     </li>
     <li class="level-h2">
      <a href="#equality-operators">
       »
 Equality Operators
      </a>
     </li>
     <li class="level-h2">
      <a href="#comparison-operators">
       »
 Comparison Operators
      </a>
     </li>
     <li class="level-h2">
      <a href="#logical-operators">
       »
 Logical Operators
      </a>
     </li>
    </ul>
   </div>
  </div>
  <p>
   An
   <em>
    operator
   </em>
   is a type of expression that transforms or combines one or more
 other expressions. Operators either combine two values in some way to
 produce a third result value, or transform a single given value to
 produce a single result.
  </p>
  <p>
   Operators that work on two values place an operator symbol between the two
 values, similar to mathematical notation:
   <code>
    1 + 2
   </code>
   . Operators that work on
 only one value place an operator symbol before that value, like
   <code>
    !true
   </code>
   .
  </p>
  <p>
   The Terraform language has a set of operators for both arithmetic and logic,
 which are similar to operators in programming languages such as JavaScript
 or Ruby.
  </p>
  <p>
   When multiple operators are used together in an expression, they are evaluated
 in the following order of operations:
  </p>
  <ol>
   <li>
    <a name="">
    </a>
    <a href="#">
     <code>
      !
     </code>
    </a>
    ,
    <code>
     -
    </code>
    (multiplication by
    <code>
     -1
    </code>
    )
   </li>
   <li>
    <a name="-1">
    </a>
    <a href="#-1">
     <code>
      *
     </code>
    </a>
    ,
    <code>
     /
    </code>
    ,
    <code>
     %
    </code>
   </li>
   <li>
    <a name="-2">
    </a>
    <a href="#-2">
     <code>
      +
     </code>
    </a>
    ,
    <code>
     -
    </code>
    (subtraction)
   </li>
   <li>
    <a name="gt-">
    </a>
    <a href="#gt-">
     <code>
      &gt;
     </code>
    </a>
    ,
    <code>
     &gt;=
    </code>
    ,
    <code>
     &lt;
    </code>
    ,
    <code>
     &lt;=
    </code>
   </li>
   <li>
    <a name="-3">
    </a>
    <a href="#-3">
     <code>
      ==
     </code>
    </a>
    ,
    <code>
     !=
    </code>
   </li>
   <li>
    <a name="amp-amp-">
    </a>
    <a href="#amp-amp-">
     <code>
      &amp;&amp;
     </code>
    </a>
   </li>
   <li>
    <a name="-4">
    </a>
    <a href="#-4">
     <code>
      ||
     </code>
    </a>
   </li>
  </ol>
  <p>
   Parentheses can be used to override the default order of operations. Without
 parentheses, higher levels are evaluated first, so
   <code>
    1 + 2 * 3
   </code>
   is interpreted
 as
   <code>
    1 + (2 * 3)
   </code>
   and
   <em>
    not
   </em>
   as
   <code>
    (1 + 2) * 3
   </code>
   .
  </p>
  <p>
   The different operators can be gathered into a few different groups with
 similar behavior, as described below. Each group of operators expects its
 given values to be of a particular type. Terraform will attempt to convert
 values to the required type automatically, or will produce an error message
 if this automatic conversion is not possible.
  </p>
  <h2 id="arithmetic-operators">
   <a class="anchor" href="#arithmetic-operators" name="arithmetic-operators">
    »
   </a>
   Arithmetic Operators
  </h2>
  <p>
   The arithmetic operators all expect number values and produce number values
 as results:
  </p>
  <ul>
   <li>
    <a name="a-b">
    </a>
    <a href="#a-b">
     <code>
      a + b
     </code>
    </a>
    returns the result of adding
    <code>
     a
    </code>
    and
    <code>
     b
    </code>
    together.
   </li>
   <li>
    <a name="a-b-1">
    </a>
    <a href="#a-b-1">
     <code>
      a - b
     </code>
    </a>
    returns the result of subtracting
    <code>
     b
    </code>
    from
    <code>
     a
    </code>
    .
   </li>
   <li>
    <a name="a-b-2">
    </a>
    <a href="#a-b-2">
     <code>
      a * b
     </code>
    </a>
    returns the result of multiplying
    <code>
     a
    </code>
    and
    <code>
     b
    </code>
    .
   </li>
   <li>
    <a name="a-b-3">
    </a>
    <a href="#a-b-3">
     <code>
      a / b
     </code>
    </a>
    returns the result of dividing
    <code>
     a
    </code>
    by
    <code>
     b
    </code>
    .
   </li>
   <li>
    <a name="a-b-4">
    </a>
    <a href="#a-b-4">
     <code>
      a % b
     </code>
    </a>
    returns the remainder of dividing
    <code>
     a
    </code>
    by
    <code>
     b
    </code>
    . This operator is
 generally useful only when used with whole numbers.
   </li>
   <li>
    <a name="a">
    </a>
    <a href="#a">
     <code>
      -a
     </code>
    </a>
    returns the result of multiplying
    <code>
     a
    </code>
    by
    <code>
     -1
    </code>
    .
   </li>
  </ul>
  <h2 id="equality-operators">
   <a class="anchor" href="#equality-operators" name="equality-operators">
    »
   </a>
   Equality Operators
  </h2>
  <p>
   The equality operators both take two values of any type and produce boolean
 values as results.
  </p>
  <ul>
   <li>
    <a name="a-b-5">
    </a>
    <a href="#a-b-5">
     <code>
      a == b
     </code>
    </a>
    returns
    <code>
     true
    </code>
    if
    <code>
     a
    </code>
    and
    <code>
     b
    </code>
    both have the same type and the same
 value, or
    <code>
     false
    </code>
    otherwise.
   </li>
   <li>
    <a name="a-b-6">
    </a>
    <a href="#a-b-6">
     <code>
      a != b
     </code>
    </a>
    is the opposite of
    <code>
     a == b
    </code>
    .
   </li>
  </ul>
  <h2 id="comparison-operators">
   <a class="anchor" href="#comparison-operators" name="comparison-operators">
    »
   </a>
   Comparison Operators
  </h2>
  <p>
   The comparison operators all expect number values and produce boolean values
 as results.
  </p>
  <ul>
   <li>
    <a name="a-lt-b">
    </a>
    <a href="#a-lt-b">
     <code>
      a &lt; b
     </code>
    </a>
    returns
    <code>
     true
    </code>
    if
    <code>
     a
    </code>
    is less than
    <code>
     b
    </code>
    , or
    <code>
     false
    </code>
    otherwise.
   </li>
   <li>
    <a name="a-lt-b-1">
    </a>
    <a href="#a-lt-b-1">
     <code>
      a &lt;= b
     </code>
    </a>
    returns
    <code>
     true
    </code>
    if
    <code>
     a
    </code>
    is less than or equal to
    <code>
     b
    </code>
    , or
    <code>
     false
    </code>
    otherwise.
   </li>
   <li>
    <a name="a-gt-b">
    </a>
    <a href="#a-gt-b">
     <code>
      a &gt; b
     </code>
    </a>
    returns
    <code>
     true
    </code>
    if
    <code>
     a
    </code>
    is greater than
    <code>
     b
    </code>
    , or
    <code>
     false
    </code>
    otherwise.
   </li>
   <li>
    <a name="a-gt-b-1">
    </a>
    <a href="#a-gt-b-1">
     <code>
      a &gt;= b
     </code>
    </a>
    returns
    <code>
     true
    </code>
    if
    <code>
     a
    </code>
    is greater than or equal to
    <code>
     b
    </code>
    , or
    <code>
     false
    </code>
    otherwise.
   </li>
  </ul>
  <h2 id="logical-operators">
   <a class="anchor" href="#logical-operators" name="logical-operators">
    »
   </a>
   Logical Operators
  </h2>
  <p>
   The logical operators all expect bool values and produce bool values as results.
  </p>
  <ul>
   <li>
    <a name="a-b-7">
    </a>
    <a href="#a-b-7">
     <code>
      a || b
     </code>
    </a>
    returns
    <code>
     true
    </code>
    if either
    <code>
     a
    </code>
    or
    <code>
     b
    </code>
    is
    <code>
     true
    </code>
    , or
    <code>
     false
    </code>
    if both are
    <code>
     false
    </code>
    .
   </li>
   <li>
    <a name="a-amp-amp-b">
    </a>
    <a href="#a-amp-amp-b">
     <code>
      a &amp;&amp; b
     </code>
    </a>
    returns
    <code>
     true
    </code>
    if both
    <code>
     a
    </code>
    and
    <code>
     b
    </code>
    are
    <code>
     true
    </code>
    , or
    <code>
     false
    </code>
    if either one is
    <code>
     false
    </code>
    .
   </li>
   <li>
    <a name="a-1">
    </a>
    <a href="#a-1">
     <code>
      !a
     </code>
    </a>
    returns
    <code>
     true
    </code>
    if
    <code>
     a
    </code>
    is
    <code>
     false
    </code>
    , and
    <code>
     false
    </code>
    if
    <code>
     a
    </code>
    is
    <code>
     true
    </code>
    .
   </li>
  </ul>
 </div>
 
 <!-- ########### Expressions : Conditional Expressions ############### -->
 <!-- ########### https://www.terraform.io/docs/language/expressions/function-calls.html ############### --
 ><!-- ########### Expressions : Conditional Expressions ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="function-calls">
    <a class="anchor" href="#function-calls" name="function-calls">
     »
    </a>
    Function Calls
   </h1>
   <div id="inner-quicknav">
    <span id="inner-quicknav-trigger">
     Jump to Section
     <svg height="5" width="9" xmlns="http://www.w3.org/2000/svg">
      <path d="M8.811 1.067a.612.612 0 0 0 0-.884.655.655 0 0 0-.908 0L4.5 3.491 1.097.183a.655.655 0 0 0-.909 0 .615.615 0 0 0 0 .884l3.857 3.75a.655.655 0 0 0 .91 0l3.856-3.75z" fill-rule="evenodd">
      </path>
     </svg>
    </span>
    <ul class="dropdown">
     <li class="level-h2">
      <a href="#available-functions">
       »
 Available Functions
      </a>
     </li>
     <li class="level-h2">
      <a href="#expanding-function-arguments">
       »
 Expanding Function Arguments
      </a>
     </li>
     <li class="level-h2">
      <a href="#using-sensitive-data-as-function-arguments">
       »
 Using Sensitive Data as Function Arguments
      </a>
     </li>
    </ul>
   </div>
  </div>
  <blockquote>
   <p>
    <strong>
     Hands-on:
    </strong>
    Try the
    <a href="https://learn.hashicorp.com/tutorials/terraform/functions?in=terraform/configuration-language&amp;utm_source=WEBSITE&amp;utm_medium=WEB_IO&amp;utm_offer=ARTICLE_PAGE&amp;utm_content=DOCS">
     Perform Dynamic Operations with Functions
    </a>
    tutorial on HashiCorp Learn.
   </p>
  </blockquote>
  <p>
   The Terraform language has a number of
   <a href="/docs/language/functions/index.html">
    built-in functions
   </a>
   that can be used
 in expressions to transform and combine values. These
 are similar to the operators but all follow a common syntax:
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="o">&lt;</span><span class="no">FUNCTION</span> <span class="no">NAME</span><span class="o">&gt;</span><span class="p">(</span><span class="o">&lt;</span><span class="no">ARGUMENT</span> <span class="mi">1</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="no">ARGUMENT</span> <span class="mi">2</span><span class="o">&gt;</span><span class="p">)</span>
 </code></pre>
  </div>
  <p>
   The function name specifies which function to call. Each defined function
 expects a specific number of arguments with specific value types, and returns a
 specific value type as a result.
  </p>
  <p>
   Some functions take an arbitrary number of arguments. For example, the
   <code>
    min
   </code>
   function takes any amount of number arguments and returns the one that is
 numerically smallest:
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">min</span><span class="p">(</span><span class="mi">55</span><span class="p">,</span> <span class="mi">3453</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
 </code></pre>
  </div>
  <p>
   A function call expression evaluates to the function's return value.
  </p>
  <h2 id="available-functions">
   <a class="anchor" href="#available-functions" name="available-functions">
    »
   </a>
   Available Functions
  </h2>
  <p>
   For a full list of available functions, see
   <a href="/docs/language/functions/index.html">
    the function reference
   </a>
   .
  </p>
  <h2 id="expanding-function-arguments">
   <a class="anchor" href="#expanding-function-arguments" name="expanding-function-arguments">
    »
   </a>
   Expanding Function Arguments
  </h2>
  <p>
   If the arguments to pass to a function are available in a list or tuple value,
 that value can be
   <em>
    expanded
   </em>
   into separate arguments. Provide the list value as
 an argument and follow it with the
   <code>
    ...
   </code>
   symbol:
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">min</span><span class="p">([</span><span class="mi">55</span><span class="p">,</span> <span class="mi">2453</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span><span class="o">...</span><span class="p">)</span>
 </code></pre>
  </div>
  <p>
   The expansion symbol is three periods (
   <code>
    ...
   </code>
   ), not a Unicode ellipsis character
 (
   <code>
    …
   </code>
   ). Expansion is a special syntax that is only available in function calls.
  </p>
  <h2 id="using-sensitive-data-as-function-arguments">
   <a class="anchor" href="#using-sensitive-data-as-function-arguments" name="using-sensitive-data-as-function-arguments">
    »
   </a>
   Using Sensitive Data as Function Arguments
  </h2>
  <p>
   When using sensitive data, such as
   <a href="https://www.terraform.io/docs/language/values/variables.html#suppressing-values-in-cli-output">
    an input variable
   </a>
   or
   <a href="https://www.terraform.io/docs/language/values/outputs.html#sensitive-suppressing-values-in-cli-output">
    an output defined
   </a>
   as sensitive
 as function arguments, the result of the function call will be marked as sensitive.
  </p>
  <p>
   This is a conservative behavior that is true irrespective of the function being
 called. For example, passing an object containing a sensitive input variable to
 the
   <code>
    keys()
   </code>
   function will result in a list that is sensitive:
  </p>
  <div class="highlight">
   <pre class="highlight shell"><code><span class="o">&gt;</span> local.baz
 <span class="o">{</span>
   <span class="s2">"a"</span> <span class="o">=</span> <span class="o">(</span>sensitive<span class="o">)</span>
   <span class="s2">"b"</span> <span class="o">=</span> <span class="s2">"dog"</span>
 <span class="o">}</span>
 <span class="o">&gt;</span> keys<span class="o">(</span>local.baz<span class="o">)</span>
 <span class="o">(</span>sensitive<span class="o">)</span>
 </code></pre>
  </div>
 </div>
 
 <!-- ########### Expressions : For Expressions ############### -->
 <!-- ########### https://www.terraform.io/docs/language/expressions/conditionals.html ############### --
 ><!-- ########### Expressions : For Expressions ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="conditional-expressions">
    <a class="anchor" href="#conditional-expressions" name="conditional-expressions">
     »
    </a>
    Conditional Expressions
   </h1>
  </div>
  <blockquote>
   <p>
    <strong>
     Hands-on:
    </strong>
    Try the
    <a href="https://learn.hashicorp.com/tutorials/terraform/expressions?in=terraform/configuration-language&amp;utm_source=WEBSITE&amp;utm_medium=WEB_IO&amp;utm_offer=ARTICLE_PAGE&amp;utm_content=DOCS">
     Create Dynamic Expressions
    </a>
    tutorial on HashiCorp Learn.
   </p>
  </blockquote>
  <p>
   A
   <em>
    conditional expression
   </em>
   uses the value of a bool expression to select one of
 two values.
  </p>
  <p>
   The syntax of a conditional expression is as follows:
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">condition</span> <span class="p">?</span> <span class="n">true_val</span> <span class="p">:</span> <span class="n">false_val</span>
 </code></pre>
  </div>
  <p>
   If
   <code>
    condition
   </code>
   is
   <code>
    true
   </code>
   then the result is
   <code>
    true_val
   </code>
   . If
   <code>
    condition
   </code>
   is
   <code>
    false
   </code>
   then the result is
   <code>
    false_val
   </code>
   .
  </p>
  <p>
   A common use of conditional expressions is to define defaults to replace
 invalid values:
  </p>
  <div class="highlight">
   <pre class="highlight plaintext"><code>var.a != "" ? var.a : "default-a"
 </code></pre>
  </div>
  <p>
   If
   <code>
    var.a
   </code>
   is an empty string then the result is
   <code>
    "default-a"
   </code>
   , but otherwise
 it is the actual value of
   <code>
    var.a
   </code>
   .
  </p>
  <h2 id="conditions">
   <a class="anchor" href="#conditions" name="conditions">
    »
   </a>
   Conditions
  </h2>
  <p>
   The condition can be any expression that resolves to a boolean value. This will
 usually be an expression that uses the equality, comparison, or logical
 operators.
  </p>
  <h2 id="result-types">
   <a class="anchor" href="#result-types" name="result-types">
    »
   </a>
   Result Types
  </h2>
  <p>
   The two result values may be of any type, but they must both
 be of the
   <em>
    same
   </em>
   type so that Terraform can determine what type the whole
 conditional expression will return without knowing the condition value.
  </p>
 </div>
 
 <!-- ########### Expressions : Splat Expressions ############### -->
 <!-- ########### https://www.terraform.io/docs/language/expressions/for.html ############### --
 ><!-- ########### Expressions : Splat Expressions ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="for-expressions">
    <a class="anchor" href="#for-expressions" name="for-expressions">
     »
    </a>
    <code>
     for
    </code>
    Expressions
   </h1>
  </div>
  <p>
   A
   <em>
    <code>
     for
    </code>
    expression
   </em>
   creates a complex type value by transforming
 another complex type value. Each element in the input value
 can correspond to either one or zero values in the result, and an arbitrary
 expression can be used to transform each input element into an output element.
  </p>
  <p>
   For example, if
   <code>
    var.list
   </code>
   is a list of strings, then the following expression
 produces a list of strings with all-uppercase letters:
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="p">[</span><span class="k">for</span> <span class="n">s</span> <span class="k">in</span> <span class="n">var</span><span class="p">.</span><span class="nf">list</span> <span class="p">:</span> <span class="n">upper</span><span class="p">(</span><span class="n">s</span><span class="p">)]</span>
 </code></pre>
  </div>
  <p>
   This
   <code>
    for
   </code>
   expression iterates over each element of
   <code>
    var.list
   </code>
   , and then
 evaluates the expression
   <code>
    upper(s)
   </code>
   with
   <code>
    s
   </code>
   set to each respective element.
 It then builds a new tuple value with all of the results of executing that
 expression in the same order.
  </p>
  <p>
   The type of brackets around the
   <code>
    for
   </code>
   expression decide what type of result
 it produces. The above example uses
   <code>
    [
   </code>
   and
   <code>
    ]
   </code>
   , which produces a tuple. If
   <code>
    {
   </code>
   and
   <code>
    }
   </code>
   are used instead, the result is an object, and two result
 expressions must be provided separated by the
   <code>
    =&gt;
   </code>
   symbol:
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="p">{</span><span class="k">for</span> <span class="n">s</span> <span class="k">in</span> <span class="n">var</span><span class="p">.</span><span class="nf">list</span> <span class="p">:</span> <span class="n">s</span> <span class="o">=&gt;</span> <span class="n">upper</span><span class="p">(</span><span class="n">s</span><span class="p">)}</span>
 </code></pre>
  </div>
  <p>
   This expression produces an object whose attributes are the original elements
 from
   <code>
    var.list
   </code>
   and their corresponding values are the uppercase versions.
  </p>
  <p>
   A
   <code>
    for
   </code>
   expression can also include an optional
   <code>
    if
   </code>
   clause to filter elements
 from the source collection, which can produce a value with fewer elements than
 the source:
  </p>
  <div class="highlight">
   <pre class="highlight plaintext"><code>[for s in var.list : upper(s) if s != ""]
 </code></pre>
  </div>
  <p>
   The source value can also be an object or map value, in which case two
 temporary variable names can be provided to access the keys and values
 respectively:
  </p>
  <div class="highlight">
   <pre class="highlight plaintext"><code>[for k, v in var.map : length(k) + length(v)]
 </code></pre>
  </div>
  <p>
   Finally, if the result type is an object (using
   <code>
    {
   </code>
   and
   <code>
    }
   </code>
   delimiters) then
 the value result expression can be followed by the
   <code>
    ...
   </code>
   symbol to group
 together results that have a common key:
  </p>
  <div class="highlight">
   <pre class="highlight plaintext"><code>{for s in var.list : substr(s, 0, 1) =&gt; s... if s != ""}
 </code></pre>
  </div>
  <p>
   For expressions are particularly useful when combined with other language
 features to combine collections together in various ways. For example,
 the following two patterns are commonly used when constructing map values
 to use with
   <a href="/docs/language/meta-arguments/for_each.html">
    the
    <code>
     for_each
    </code>
    meta-argument
   </a>
   :
  </p>
  <ul>
   <li>
    Transform a multi-level nested structure into a flat list by
    <a href="/docs/language/functions/flatten.html#flattening-nested-structures-for-for_each">
     using nested
     <code>
      for
     </code>
     expressions with the
     <code>
      flatten
     </code>
     function
    </a>
    .
   </li>
   <li>
    Produce an exhaustive list of combinations of elements from two or more
 collections by
    <a href="/docs/language/functions/setproduct.html#finding-combinations-for-for_each">
     using the
     <code>
      setproduct
     </code>
     function inside a
     <code>
      for
     </code>
     expression
    </a>
    .
   </li>
  </ul>
 </div>
 
 <!-- ########### Expressions : Dynamic Blocks ############### -->
 <!-- ########### https://www.terraform.io/docs/language/expressions/splat.html ############### --
 ><!-- ########### Expressions : Dynamic Blocks ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="splat-expressions">
    <a class="anchor" href="#splat-expressions" name="splat-expressions">
     »
    </a>
    Splat Expressions
   </h1>
  </div>
  <blockquote>
   <p>
    <strong>
     Hands-on:
    </strong>
    Try the
    <a href="https://learn.hashicorp.com/tutorials/terraform/expressions?in=terraform/configuration-language&amp;utm_source=WEBSITE&amp;utm_medium=WEB_IO&amp;utm_offer=ARTICLE_PAGE&amp;utm_content=DOCS">
     Create Dynamic Expressions
    </a>
    tutorial on HashiCorp Learn.
   </p>
  </blockquote>
  <p>
   A
   <em>
    splat expression
   </em>
   provides a more concise way to express a common
 operation that could otherwise be performed with a
   <code>
    for
   </code>
   expression.
  </p>
  <p>
   If
   <code>
    var.list
   </code>
   is a list of objects that all have an attribute
   <code>
    id
   </code>
   , then
 a list of the ids could be produced with the following
   <code>
    for
   </code>
   expression:
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="p">[</span><span class="k">for</span> <span class="n">o</span> <span class="k">in</span> <span class="n">var</span><span class="p">.</span><span class="nf">list</span> <span class="p">:</span> <span class="n">o</span><span class="p">.</span><span class="nf">id</span><span class="p">]</span>
 </code></pre>
  </div>
  <p>
   This is equivalent to the following
   <em>
    splat expression:
   </em>
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">var</span><span class="p">.</span><span class="nf">list</span><span class="p">[</span><span class="o">*</span><span class="p">].</span><span class="nf">id</span>
 </code></pre>
  </div>
  <p>
   The special
   <code>
    [*]
   </code>
   symbol iterates over all of the elements of the list given
 to its left and accesses from each one the attribute name given on its
 right. A splat expression can also be used to access attributes and indexes
 from lists of complex types by extending the sequence of operations to the
 right of the symbol:
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">var</span><span class="p">.</span><span class="nf">list</span><span class="p">[</span><span class="o">*</span><span class="p">].</span><span class="nf">interfaces</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nf">name</span>
 </code></pre>
  </div>
  <p>
   The above expression is equivalent to the following
   <code>
    for
   </code>
   expression:
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="p">[</span><span class="k">for</span> <span class="n">o</span> <span class="k">in</span> <span class="n">var</span><span class="p">.</span><span class="nf">list</span> <span class="p">:</span> <span class="n">o</span><span class="p">.</span><span class="nf">interfaces</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nf">name</span><span class="p">]</span>
 </code></pre>
  </div>
  <p>
   Splat expressions are for lists only (and thus cannot be used
   <a href="/docs/language/meta-arguments/for_each.html#referring-to-instances">
    to reference resources
 created with
    <code>
     for_each
    </code>
   </a>
   ,
 which are represented as maps in Terraform). However, if a splat expression is applied
 to a value that is
   <em>
    not
   </em>
   a list or tuple then the value is automatically wrapped in
 a single-element list before processing.
  </p>
  <p>
   For example,
   <code>
    var.single_object[*].id
   </code>
   is equivalent to
   <code>
    [var.single_object][*].id
   </code>
   ,
 or effectively
   <code>
    [var.single_object.id]
   </code>
   . This behavior is not interesting in most cases,
 but it is particularly useful when referring to resources that may or may
 not have
   <code>
    count
   </code>
   set, and thus may or may not produce a tuple value:
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">aws_instance</span><span class="p">.</span><span class="nf">example</span><span class="p">[</span><span class="o">*</span><span class="p">].</span><span class="nf">id</span>
 </code></pre>
  </div>
  <p>
   The above will produce a list of ids whether
   <code>
    aws_instance.example
   </code>
   has
   <code>
    count
   </code>
   set or not, avoiding the need to revise various other expressions
 in the configuration when a particular resource switches to and from
 having
   <code>
    count
   </code>
   set.
  </p>
  <h2 id="legacy-attribute-only-splat-expressions">
   <a class="anchor" href="#legacy-attribute-only-splat-expressions" name="legacy-attribute-only-splat-expressions">
    »
   </a>
   Legacy (Attribute-only) Splat Expressions
  </h2>
  <p>
   An older variant of the splat expression is available for compatibility with
 code written in older versions of the Terraform language. This is a less useful
 version of the splat expression, and should be avoided in new configurations.
  </p>
  <p>
   An "attribute-only" splat expression is indicated by the sequence
   <code>
    .*
   </code>
   (instead
 of
   <code>
    [*]
   </code>
   ):
  </p>
  <div class="highlight">
   <pre class="highlight plaintext"><code>var.list.*.interfaces[0].name
 </code></pre>
  </div>
  <p>
   This form has a subtly different behavior, equivalent to the following
   <code>
    for
   </code>
   expression:
  </p>
  <div class="highlight">
   <pre class="highlight plaintext"><code>[for o in var.list : o.interfaces][0].name
 </code></pre>
  </div>
  <p>
   Notice that with the attribute-only splat expression the index operation
   <code>
    [0]
   </code>
   is applied to the result of the iteration, rather than as part of
 the iteration itself.
  </p>
 </div>
 
 <!-- ########### Expressions : Type Constraints ############### -->
 <!-- ########### https://www.terraform.io/docs/language/expressions/dynamic-blocks.html ############### --
 ><!-- ########### Expressions : Type Constraints ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="dynamic-blocks">
    <a class="anchor" href="#dynamic-blocks" name="dynamic-blocks">
     »
    </a>
    <code>
     dynamic
    </code>
    Blocks
   </h1>
  </div>
  <p>
   Within top-level block constructs like resources, expressions can usually be
 used only when assigning a value to an argument using the
   <code>
    name = expression
   </code>
   form. This covers many uses, but some resource types include repeatable
   <em>
    nested
 blocks
   </em>
   in their arguments, which do not accept expressions:
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">resource</span> <span class="s2">"aws_elastic_beanstalk_environment"</span> <span class="s2">"tfenvtest"</span> <span class="p">{</span>
   <span class="nb">name</span> <span class="o">=</span> <span class="s2">"tf-test-name"</span> <span class="c1"># can use expressions here</span>
 
   <span class="n">setting</span> <span class="p">{</span>
     <span class="c1"># but the "setting" block is always a literal block</span>
   <span class="p">}</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <p>
   You can dynamically construct repeatable nested blocks like
   <code>
    setting
   </code>
   using a
 special
   <code>
    dynamic
   </code>
   block type, which is supported inside
   <code>
    resource
   </code>
   ,
   <code>
    data
   </code>
   ,
   <code>
    provider
   </code>
   , and
   <code>
    provisioner
   </code>
   blocks:
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">resource</span> <span class="s2">"aws_elastic_beanstalk_environment"</span> <span class="s2">"tfenvtest"</span> <span class="p">{</span>
   <span class="nb">name</span>                <span class="o">=</span> <span class="s2">"tf-test-name"</span>
   <span class="n">application</span>         <span class="o">=</span> <span class="s2">"${aws_elastic_beanstalk_application.tftest.name}"</span>
   <span class="n">solution_stack_name</span> <span class="o">=</span> <span class="s2">"64bit Amazon Linux 2018.03 v2.11.4 running Go 1.12.6"</span>
 
   <span class="n">dynamic</span> <span class="s2">"setting"</span> <span class="p">{</span>
     <span class="n">for_each</span> <span class="o">=</span> <span class="n">var</span><span class="p">.</span><span class="nf">settings</span>
     <span class="n">content</span> <span class="p">{</span>
       <span class="n">namespace</span> <span class="o">=</span> <span class="n">setting</span><span class="p">.</span><span class="nf">value</span><span class="p">[</span><span class="s2">"namespace"</span><span class="p">]</span>
       <span class="nb">name</span> <span class="o">=</span> <span class="n">setting</span><span class="p">.</span><span class="nf">value</span><span class="p">[</span><span class="s2">"name"</span><span class="p">]</span>
       <span class="n">value</span> <span class="o">=</span> <span class="n">setting</span><span class="p">.</span><span class="nf">value</span><span class="p">[</span><span class="s2">"value"</span><span class="p">]</span>
     <span class="p">}</span>
   <span class="p">}</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <p>
   A
   <code>
    dynamic
   </code>
   block acts much like a
   <code>
    for
   </code>
   expression, but produces nested blocks
 instead of a complex typed value. It iterates over a given complex value, and
 generates a nested block for each element of that complex value.
  </p>
  <ul>
   <li>
    The label of the dynamic block (
    <code>
     "setting"
    </code>
    in the example above) specifies
 what kind of nested block to generate.
   </li>
   <li>
    The
    <code>
     for_each
    </code>
    argument provides the complex value to iterate over.
   </li>
   <li>
    The
    <code>
     iterator
    </code>
    argument (optional) sets the name of a temporary variable
 that represents the current element of the complex value. If omitted, the name
 of the variable defaults to the label of the
    <code>
     dynamic
    </code>
    block (
    <code>
     "setting"
    </code>
    in
 the example above).
   </li>
   <li>
    The
    <code>
     labels
    </code>
    argument (optional) is a list of strings that specifies the block
 labels, in order, to use for each generated block. You can use the temporary
 iterator variable in this value.
   </li>
   <li>
    The nested
    <code>
     content
    </code>
    block defines the body of each generated block. You can
 use the temporary iterator variable inside this block.
   </li>
  </ul>
  <p>
   Since the
   <code>
    for_each
   </code>
   argument accepts any collection or structural value,
 you can use a
   <code>
    for
   </code>
   expression or splat expression to transform an existing
 collection.
  </p>
  <p>
   The iterator object (
   <code>
    setting
   </code>
   in the example above) has two attributes:
  </p>
  <ul>
   <li>
    <a name="key">
    </a>
    <a href="#key">
     <code>
      key
     </code>
    </a>
    is the map key or list element index for the current element. If the
    <code>
     for_each
    </code>
    expression produces a
    <em>
     set
    </em>
    value then
    <code>
     key
    </code>
    is identical to
    <code>
     value
    </code>
    and should not be used.
   </li>
   <li>
    <a name="value">
    </a>
    <a href="#value">
     <code>
      value
     </code>
    </a>
    is the value of the current element.
   </li>
  </ul>
  <p>
   A
   <code>
    dynamic
   </code>
   block can only generate arguments that belong to the resource type,
 data source, provider or provisioner being configured. It is
   <em>
    not
   </em>
   possible
 to generate meta-argument blocks such as
   <code>
    lifecycle
   </code>
   and
   <code>
    provisioner
   </code>
   blocks, since Terraform must process these before it is safe to evaluate
 expressions.
  </p>
  <p>
   The
   <code>
    for_each
   </code>
   value must be a map or set with one element per desired
 nested block. If you need to declare resource instances based on a nested
 data structure or combinations of elements from multiple data structures you
 can use Terraform expressions and functions to derive a suitable value.
 For some common examples of such situations, see the
   <a href="/docs/language/functions/flatten.html">
    <code>
     flatten
    </code>
   </a>
   and
   <a href="/docs/language/functions/setproduct.html">
    <code>
     setproduct
    </code>
   </a>
   functions.
  </p>
  <h2 id="best-practices-for-dynamic-blocks">
   <a class="anchor" href="#best-practices-for-dynamic-blocks" name="best-practices-for-dynamic-blocks">
    »
   </a>
   Best Practices for
   <code>
    dynamic
   </code>
   Blocks
  </h2>
  <p>
   Overuse of
   <code>
    dynamic
   </code>
   blocks can make configuration hard to read and maintain, so
 we recommend using them only when you need to hide details in order to build a
 clean user interface for a re-usable module. Always write nested blocks out
 literally where possible.
  </p>
 </div>
 
 <!-- ########### Expressions : Version Constraints ############### -->
 <!-- ########### https://www.terraform.io/docs/language/expressions/type-constraints.html ############### --
 ><!-- ########### Expressions : Version Constraints ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="type-constraints">
    <a class="anchor" href="#type-constraints" name="type-constraints">
     »
    </a>
    Type Constraints
   </h1>
   <div id="inner-quicknav">
    <span id="inner-quicknav-trigger">
     Jump to Section
     <svg height="5" width="9" xmlns="http://www.w3.org/2000/svg">
      <path d="M8.811 1.067a.612.612 0 0 0 0-.884.655.655 0 0 0-.908 0L4.5 3.491 1.097.183a.655.655 0 0 0-.909 0 .615.615 0 0 0 0 .884l3.857 3.75a.655.655 0 0 0 .91 0l3.856-3.75z" fill-rule="evenodd">
      </path>
     </svg>
    </span>
    <ul class="dropdown">
     <li class="level-h2">
      <a href="#type-keywords-and-constructors">
       »
 Type Keywords and Constructors
      </a>
     </li>
     <li class="level-h2">
      <a href="#primitive-types">
       »
 Primitive Types
      </a>
     </li>
     <li class="level-h3">
      <a href="#conversion-of-primitive-types">
       »
 Conversion of Primitive Types
      </a>
     </li>
     <li class="level-h2">
      <a href="#complex-types">
       »
 Complex Types
      </a>
     </li>
     <li class="level-h3">
      <a href="#collection-types">
       »
 Collection Types
      </a>
     </li>
     <li class="level-h3">
      <a href="#structural-types">
       »
 Structural Types
      </a>
     </li>
     <li class="level-h3">
      <a href="#complex-type-literals">
       »
 Complex Type Literals
      </a>
     </li>
     <li class="level-h3">
      <a href="#conversion-of-complex-types">
       »
 Conversion of Complex Types
      </a>
     </li>
     <li class="level-h2">
      <a href="#dynamic-types-the-quot-any-quot-constraint">
       »
 Dynamic Types: The "any" Constraint
      </a>
     </li>
     <li class="level-h2">
      <a href="#experimental-optional-object-type-attributes">
       »
 Experimental: Optional Object Type Attributes
      </a>
     </li>
    </ul>
   </div>
  </div>
  <p>
   Terraform module authors and provider developers can use detailed type
 constraints to validate user-provided values for their input variables and
 resource arguments. This requires some additional knowledge about Terraform's
 type system, but allows you to build a more resilient user interface for your
 modules and resources.
  </p>
  <h2 id="type-keywords-and-constructors">
   <a class="anchor" href="#type-keywords-and-constructors" name="type-keywords-and-constructors">
    »
   </a>
   Type Keywords and Constructors
  </h2>
  <p>
   Type constraints are expressed using a mixture of
   <em>
    type keywords
   </em>
   and
 function-like constructs called
   <em>
    type constructors.
   </em>
  </p>
  <ul>
   <li>
    Type keywords are unquoted symbols that represent a static type.
   </li>
   <li>
    Type constructors are unquoted symbols followed by a pair of
 parentheses, which contain an argument that specifies more information about
 the type. Without its argument, a type constructor does not fully
 represent a type; instead, it represents a
    <em>
     kind
    </em>
    of similar types.
   </li>
  </ul>
  <p>
   Type constraints look like other kinds of Terraform
   <a href="/docs/language/expressions/index.html">
    expressions
   </a>
   , but are a special syntax. Within the
 Terraform language, they are only valid in the
   <code>
    type
   </code>
   argument of an
   <a href="/docs/language/values/variables.html">
    input variable
   </a>
   .
  </p>
  <h2 id="primitive-types">
   <a class="anchor" href="#primitive-types" name="primitive-types">
    »
   </a>
   Primitive Types
  </h2>
  <p>
   A
   <em>
    primitive
   </em>
   type is a simple type that isn't made from any other types. All
 primitive types in Terraform are represented by a type keyword. The available
 primitive types are:
  </p>
  <ul>
   <li>
    <a name="string">
    </a>
    <a href="#string">
     <code>
      string
     </code>
    </a>
    : a sequence of Unicode characters representing some text, such
 as
    <code>
     "hello"
    </code>
    .
   </li>
   <li>
    <a name="number">
    </a>
    <a href="#number">
     <code>
      number
     </code>
    </a>
    : a numeric value. The
    <code>
     number
    </code>
    type can represent both whole
 numbers like
    <code>
     15
    </code>
    and fractional values such as
    <code>
     6.283185
    </code>
    .
   </li>
   <li>
    <a name="bool">
    </a>
    <a href="#bool">
     <code>
      bool
     </code>
    </a>
    : either
    <code>
     true
    </code>
    or
    <code>
     false
    </code>
    .
    <code>
     bool
    </code>
    values can be used in conditional
 logic.
   </li>
  </ul>
  <h3 id="conversion-of-primitive-types">
   <a class="anchor" href="#conversion-of-primitive-types" name="conversion-of-primitive-types">
    »
   </a>
   Conversion of Primitive Types
  </h3>
  <p>
   The Terraform language will automatically convert
   <code>
    number
   </code>
   and
   <code>
    bool
   </code>
   values
 to
   <code>
    string
   </code>
   values when needed, and vice-versa as long as the string contains
 a valid representation of a number or boolean value.
  </p>
  <ul>
   <li>
    <a name="true">
    </a>
    <a href="#true">
     <code>
      true
     </code>
    </a>
    converts to
    <code>
     "true"
    </code>
    , and vice-versa
   </li>
   <li>
    <a name="false">
    </a>
    <a href="#false">
     <code>
      false
     </code>
    </a>
    converts to
    <code>
     "false"
    </code>
    , and vice-versa
   </li>
   <li>
    <a name="15">
    </a>
    <a href="#15">
     <code>
      15
     </code>
    </a>
    converts to
    <code>
     "15"
    </code>
    , and vice-versa
   </li>
  </ul>
  <h2 id="complex-types">
   <a class="anchor" href="#complex-types" name="complex-types">
    »
   </a>
   Complex Types
  </h2>
  <p>
   A
   <em>
    complex
   </em>
   type is a type that groups multiple values into a single value.
 Complex types are represented by type constructors, but several of them
 also have shorthand keyword versions.
  </p>
  <p>
   There are two categories of complex types: collection types (for grouping
 similar values), and structural types (for grouping potentially dissimilar
 values).
  </p>
  <h3 id="collection-types">
   <a class="anchor" href="#collection-types" name="collection-types">
    »
   </a>
   Collection Types
  </h3>
  <p>
   A
   <em>
    collection
   </em>
   type allows multiple values of
   <em>
    one
   </em>
   other type to be grouped
 together as a single value. The type of value
   <em>
    within
   </em>
   a collection is called
 its
   <em>
    element type.
   </em>
   All collection types must have an element type, which is
 provided as the argument to their constructor.
  </p>
  <p>
   For example, the type
   <code>
    list(string)
   </code>
   means "list of strings", which is a
 different type than
   <code>
    list(number)
   </code>
   , a list of numbers. All elements of a
 collection must always be of the same type.
  </p>
  <p>
   The three kinds of collection type in the Terraform language are:
  </p>
  <ul>
   <li>
    <p>
     <a name="list-">
     </a>
     <a href="#list-">
      <code>
       list(...)
      </code>
     </a>
     : a sequence of values identified by consecutive whole numbers
 starting with zero.
    </p>
    <p>
     The keyword
     <code>
      list
     </code>
     is a shorthand for
     <code>
      list(any)
     </code>
     , which accepts any
 element type as long as every element is the same type. This is for
 compatibility with older configurations; for new code, we recommend using
 the full form.
    </p>
   </li>
   <li>
    <p>
     <a name="map-">
     </a>
     <a href="#map-">
      <code>
       map(...)
      </code>
     </a>
     : a collection of values where each is identified by a string label.
    </p>
    <p>
     The keyword
     <code>
      map
     </code>
     is a shorthand for
     <code>
      map(any)
     </code>
     , which accepts any
 element type as long as every element is the same type. This is for
 compatibility with older configurations; for new code, we recommend using
 the full form.
    </p>
    <p>
     Maps can be made with braces ({}) and colons (:) or equals signs (=):
 { "foo": "bar", "bar": "baz" } OR { foo = "bar", bar = "baz" }. Quotes
 may be omitted on keys, unless the key starts with a number, in which
 case quotes are required. Commas are required between key/value pairs
 for single line maps. A newline between key/value pairs is sufficient
 in multi-line maps.
    </p>
    <p>
     Note: although colons are valid delimiters between keys and values,
 they are currently ignored by
     <code>
      terraform fmt
     </code>
     (whereas
     <code>
      terraform fmt
     </code>
     will attempt vertically align equals signs).
    </p>
   </li>
   <li>
    <p>
     <a name="set-">
     </a>
     <a href="#set-">
      <code>
       set(...)
      </code>
     </a>
     : a collection of unique values that do not have any secondary
 identifiers or ordering.
    </p>
   </li>
  </ul>
  <h3 id="structural-types">
   <a class="anchor" href="#structural-types" name="structural-types">
    »
   </a>
   Structural Types
  </h3>
  <p>
   A
   <em>
    structural
   </em>
   type allows multiple values of
   <em>
    several distinct types
   </em>
   to be
 grouped together as a single value. Structural types require a
   <em>
    schema
   </em>
   as an
 argument, to specify which types are allowed for which elements.
  </p>
  <p>
   The two kinds of structural type in the Terraform language are:
  </p>
  <ul>
   <li>
    <p>
     <a name="object-">
     </a>
     <a href="#object-">
      <code>
       object(...)
      </code>
     </a>
     : a collection of named attributes that each have their own type.
    </p>
    <p>
     The schema for object types is
     <code>
      { &lt;KEY&gt; = &lt;TYPE&gt;, &lt;KEY&gt; = &lt;TYPE&gt;, ... }
     </code>
     — a
 pair of curly braces containing a comma-separated series of
     <code>
      &lt;KEY&gt; = &lt;TYPE&gt;
     </code>
     pairs. Values that match the object type must contain
     <em>
      all
     </em>
     of the specified
 keys, and the value for each key must match its specified type. (Values with
     <em>
      additional
     </em>
     keys can still match an object type, but the extra attributes
 are discarded during type conversion.)
    </p>
   </li>
   <li>
    <p>
     <a name="tuple-">
     </a>
     <a href="#tuple-">
      <code>
       tuple(...)
      </code>
     </a>
     : a sequence of elements identified by consecutive whole
 numbers starting with zero, where each element has its own type.
    </p>
    <p>
     The schema for tuple types is
     <code>
      [&lt;TYPE&gt;, &lt;TYPE&gt;, ...]
     </code>
     — a pair of square
 brackets containing a comma-separated series of types. Values that match the
 tuple type must have
     <em>
      exactly
     </em>
     the same number of elements (no more and no
 fewer), and the value in each position must match the specified type for
 that position.
    </p>
   </li>
  </ul>
  <p>
   For example: an object type of
   <code>
    object({ name=string, age=number })
   </code>
   would match
 a value like the following:
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="p">{</span>
   <span class="nb">name</span> <span class="o">=</span> <span class="s2">"John"</span>
   <span class="n">age</span>  <span class="o">=</span> <span class="mi">52</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <p>
   Also, an object type of
   <code>
    object({ id=string, cidr_block=string })
   </code>
   would match
 the object produced by a reference to an
   <code>
    aws_vpc
   </code>
   resource, like
   <code>
    aws_vpc.example_vpc
   </code>
   ; although the resource has additional attributes, they
 would be discarded during type conversion.
  </p>
  <p>
   Finally, a tuple type of
   <code>
    tuple([string, number, bool])
   </code>
   would match a value
 like the following:
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="p">[</span><span class="s2">"a"</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="kp">true</span><span class="p">]</span>
 </code></pre>
  </div>
  <h3 id="complex-type-literals">
   <a class="anchor" href="#complex-type-literals" name="complex-type-literals">
    »
   </a>
   Complex Type Literals
  </h3>
  <p>
   The Terraform language has literal expressions for creating tuple and object
 values, which are described in
   <a href="/docs/language/expressions/types.html#literal-expressions">
    Expressions: Literal Expressions
   </a>
   as
 "list/tuple" literals and "map/object" literals, respectively.
  </p>
  <p>
   Terraform does
   <em>
    not
   </em>
   provide any way to directly represent lists, maps, or sets.
 However, due to the automatic conversion of complex types (described below), the
 difference between similar complex types is almost never relevant to a normal
 user, and most of the Terraform documentation conflates lists with tuples and
 maps with objects. The distinctions are only useful when restricting input
 values for a module or resource.
  </p>
  <h3 id="conversion-of-complex-types">
   <a class="anchor" href="#conversion-of-complex-types" name="conversion-of-complex-types">
    »
   </a>
   Conversion of Complex Types
  </h3>
  <p>
   Similar kinds of complex types (list/tuple/set and map/object) can usually be
 used interchangeably within the Terraform language, and most of Terraform's
 documentation glosses over the differences between the kinds of complex type.
 This is due to two conversion behaviors:
  </p>
  <ul>
   <li>
    Whenever possible, Terraform converts values between similar kinds of complex
 types if the provided value is not the exact type requested. "Similar kinds"
 is defined as follows:
    <ul>
     <li>
      Objects and maps are similar.
      <ul>
       <li>
        A map (or a larger object) can be converted to an object if it has
        <em>
         at least
        </em>
        the keys required by the object schema. Any additional
 attributes are discarded during conversion, which means map -&gt; object
 -&gt; map conversions can be lossy.
       </li>
      </ul>
     </li>
     <li>
      Tuples and lists are similar.
      <ul>
       <li>
        A list can only be converted to a tuple if it has
        <em>
         exactly
        </em>
        the
 required number of elements.
       </li>
      </ul>
     </li>
     <li>
      Sets are
      <em>
       almost
      </em>
      similar to both tuples and lists:
      <ul>
       <li>
        When a list or tuple is converted to a set, duplicate values are
 discarded and the ordering of elements is lost.
       </li>
       <li>
        When a
        <code>
         set
        </code>
        is converted to a list or tuple, the elements will be
 in an arbitrary order. If the set's elements were strings, they will
 be in lexicographical order; sets of other element types do not
 guarantee any particular order of elements.
       </li>
      </ul>
     </li>
    </ul>
   </li>
   <li>
    Whenever possible, Terraform converts
    <em>
     element values
    </em>
    within a complex type,
 either by converting complex-typed elements recursively or as described above
 in
    <a href="#conversion-of-primitive-types">
     Conversion of Primitive Types
    </a>
    .
   </li>
  </ul>
  <p>
   For example: if a module argument requires a value of type
   <code>
    list(string)
   </code>
   and a
 user provides the tuple
   <code>
    ["a", 15, true]
   </code>
   , Terraform will internally transform
 the value to
   <code>
    ["a", "15", "true"]
   </code>
   by converting the elements to the required
   <code>
    string
   </code>
   element type. Later, if the module uses those elements to set different
 resource arguments that require a string, a number, and a bool (respectively),
 Terraform will automatically convert the second and third strings back to the
 required types at that time, since they contain valid representations of a
 number and a bool.
  </p>
  <p>
   On the other hand, automatic conversion will fail if the provided value
 (including any of its element values) is incompatible with the required type. If
 an argument requires a type of
   <code>
    map(string)
   </code>
   and a user provides the object
   <code>
    {name = ["Kristy", "Claudia", "Mary Anne", "Stacey"], age = 12}
   </code>
   , Terraform
 will raise a type mismatch error, since a tuple cannot be converted to a string.
  </p>
  <h2 id="dynamic-types-the-quot-any-quot-constraint">
   <a class="anchor" href="#dynamic-types-the-quot-any-quot-constraint" name="dynamic-types-the-quot-any-quot-constraint">
    »
   </a>
   Dynamic Types: The "any" Constraint
  </h2>
  <p>
   The keyword
   <code>
    any
   </code>
   is a special construct that serves as a placeholder for a
 type yet to be decided.
   <code>
    any
   </code>
   is not
   <em>
    itself
   </em>
   a type: when interpreting a
 value against a type constraint containing
   <code>
    any
   </code>
   , Terraform will attempt to
 find a single actual type that could replace the
   <code>
    any
   </code>
   keyword to produce
 a valid result.
  </p>
  <p>
   For example, given the type constraint
   <code>
    list(any)
   </code>
   , Terraform will examine
 the given value and try to choose a replacement for the
   <code>
    any
   </code>
   that would
 make the result valid.
  </p>
  <p>
   If the given value were
   <code>
    ["a", "b", "c"]
   </code>
   -- whose physical type is
   <code>
    tuple([string, string, string])
   </code>
   , Terraform analyzes this as follows:
  </p>
  <ul>
   <li>
    Tuple types and list types are
    <em>
     similar
    </em>
    per the previous section, so the
 tuple-to-list conversion rule applies.
   </li>
   <li>
    All of the elements in the tuple are strings, so the type constraint
    <code>
     string
    </code>
    would be valid for all of the list elements.
   </li>
   <li>
    Therefore in this case the
    <code>
     any
    </code>
    argument is replaced with
    <code>
     string
    </code>
    ,
 and the final concrete value type is
    <code>
     list(string)
    </code>
    .
   </li>
  </ul>
  <p>
   All of the elements of a collection must have the same type, so conversion
 to
   <code>
    list(any)
   </code>
   requires that all of the given elements must be convertible
 to a common type. This implies some other behaviors that result from the
 conversion rules described in earlier sections.
  </p>
  <ul>
   <li>
    If the given value were instead
    <code>
     ["a", 1, "b"]
    </code>
    then Terraform would still
 select
    <code>
     list(string)
    </code>
    , because of the primitive type conversion rules, and
 the resulting value would be
    <code>
     ["a", "1", "b"]
    </code>
    due to the string conversion
 implied by that type constraint.
   </li>
   <li>
    If the given value were instead
    <code>
     ["a", [], "b"]
    </code>
    then the value cannot
 conform to the type constraint: there is no single type that both a string
 and an empty tuple can convert to. Terraform would reject this value,
 complaining that all elements must have the same type.
   </li>
  </ul>
  <p>
   Although the above examples use
   <code>
    list(any)
   </code>
   , a similar principle applies to
   <code>
    map(any)
   </code>
   and
   <code>
    set(any)
   </code>
   .
  </p>
  <p>
   If you wish to apply absolutely no constraint to the given value, the
   <code>
    any
   </code>
   keyword can be used in isolation:
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">variable</span> <span class="s2">"no_type_constraint"</span> <span class="p">{</span>
   <span class="n">type</span> <span class="o">=</span> <span class="n">any</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <p>
   In this case, Terraform will replace
   <code>
    any
   </code>
   with the exact type of the given
 value and thus perform no type conversion whatsoever.
  </p>
  <h2 id="experimental-optional-object-type-attributes">
   <a class="anchor" href="#experimental-optional-object-type-attributes" name="experimental-optional-object-type-attributes">
    »
   </a>
   Experimental: Optional Object Type Attributes
  </h2>
  <p>
   From Terraform v0.14 there is
   <em>
    experimental
   </em>
   support for marking particular
 attributes as optional in an object type constraint.
  </p>
  <p>
   To mark an attribute as optional, use the additional
   <code>
    optional(...)
   </code>
   modifier
 around its type declaration:
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">variable</span> <span class="s2">"with_optional_attribute"</span> <span class="p">{</span>
   <span class="n">type</span> <span class="o">=</span> <span class="n">object</span><span class="p">({</span>
     <span class="n">a</span> <span class="o">=</span> <span class="n">string</span>           <span class="c1"># a required attribute</span>
     <span class="n">b</span> <span class="o">=</span> <span class="n">optional</span><span class="p">(</span><span class="n">string</span><span class="p">)</span> <span class="c1"># an optional attribute</span>
   <span class="p">})</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <p>
   By default, for required attributes, Terraform will return an error if the
 source value has no matching attribute. Marking an attribute as optional
 changes the behavior in that situation: Terraform will instead just silently
 insert
   <code>
    null
   </code>
   as the value of the attribute, allowing the recieving module
 to describe an appropriate fallback behavior.
  </p>
  <p>
   Because this feature is currently experimental, it requires an explicit
 opt-in on a per-module basis. To use it, write a
   <code>
    terraform
   </code>
   block with the
   <code>
    experiments
   </code>
   argument set as follows:
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">terraform</span> <span class="p">{</span>
   <span class="n">experiments</span> <span class="o">=</span> <span class="p">[</span><span class="n">module_variable_optional_attrs</span><span class="p">]</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <p>
   Until the experiment is concluded, the behavior of this feature may see
 breaking changes even in minor releases. We recommend using this feature
 only in prerelease versions of modules as long as it remains experimental.
  </p>
 </div>
 
 <!-- ########### Functions : Overview ############### -->
 <!-- ########### https://www.terraform.io/docs/language/expressions/version-constraints.html ############### --
 ><!-- ########### Functions : Overview ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="version-constraints">
    <a class="anchor" href="#version-constraints" name="version-constraints">
     »
    </a>
    Version Constraints
   </h1>
   <div id="inner-quicknav">
    <span id="inner-quicknav-trigger">
     Jump to Section
     <svg height="5" width="9" xmlns="http://www.w3.org/2000/svg">
      <path d="M8.811 1.067a.612.612 0 0 0 0-.884.655.655 0 0 0-.908 0L4.5 3.491 1.097.183a.655.655 0 0 0-.909 0 .615.615 0 0 0 0 .884l3.857 3.75a.655.655 0 0 0 .91 0l3.856-3.75z" fill-rule="evenodd">
      </path>
     </svg>
    </span>
    <ul class="dropdown">
     <li class="level-h2">
      <a href="#version-constraint-syntax">
       »
 Version Constraint Syntax
      </a>
     </li>
     <li class="level-h2">
      <a href="#version-constraint-behavior">
       »
 Version Constraint Behavior
      </a>
     </li>
     <li class="level-h2">
      <a href="#best-practices">
       »
 Best Practices
      </a>
     </li>
     <li class="level-h3">
      <a href="#module-versions">
       »
 Module Versions
      </a>
     </li>
     <li class="level-h3">
      <a href="#terraform-core-and-provider-versions">
       »
 Terraform Core and Provider Versions
      </a>
     </li>
    </ul>
   </div>
  </div>
  <p>
   Anywhere that Terraform lets you specify a range of acceptable versions for
 something, it expects a specially formatted string known as a version
 constraint. Version constraints are used when configuring:
  </p>
  <ul>
   <li>
    <a href="/docs/language/modules/index.html">
     Modules
    </a>
   </li>
   <li>
    <a href="/docs/language/providers/requirements.html">
     Provider requirements
    </a>
   </li>
   <li>
    <a href="/docs/language/settings/index.html#specifying-a-required-terraform-version">
     The
     <code>
      required_version
     </code>
     setting
    </a>
    in the
    <code>
     terraform
    </code>
    block.
   </li>
  </ul>
  <h2 id="version-constraint-syntax">
   <a class="anchor" href="#version-constraint-syntax" name="version-constraint-syntax">
    »
   </a>
   Version Constraint Syntax
  </h2>
  <p>
   Terraform's syntax for version constraints is very similar to the syntax used by
 other dependency management systems like Bundler and NPM.
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">version</span> <span class="o">=</span> <span class="s2">"&gt;= 1.2.0, &lt; 2.0.0"</span>
 </code></pre>
  </div>
  <p>
   A version constraint is a
   <a href="/docs/language/expressions/strings.html">
    string literal
   </a>
   containing one or more conditions, which are separated by commas.
  </p>
  <p>
   Each condition consists of an operator and a version number.
  </p>
  <p>
   Version numbers should be a series of numbers separated by periods (like
   <code>
    1.2.0
   </code>
   ), optionally with a suffix to indicate a beta release.
  </p>
  <p>
   The following operators are valid:
  </p>
  <ul>
   <li>
    <p>
     <a name="">
     </a>
     <a href="#">
      <code>
       =
      </code>
     </a>
     (or no operator): Allows only one exact version number. Cannot be combined
 with other conditions.
    </p>
   </li>
   <li>
    <p>
     <a name="-1">
     </a>
     <a href="#-1">
      <code>
       !=
      </code>
     </a>
     : Excludes an exact version number.
    </p>
   </li>
   <li>
    <p>
     <a name="gt-">
     </a>
     <a href="#gt-">
      <code>
       &gt;
      </code>
     </a>
     ,
     <code>
      &gt;=
     </code>
     ,
     <code>
      &lt;
     </code>
     ,
     <code>
      &lt;=
     </code>
     : Comparisons against a specified version, allowing
 versions for which the comparison is true. "Greater-than" requests newer
 versions, and "less-than" requests older versions.
    </p>
   </li>
   <li>
    <p>
     <a name="gt--1">
     </a>
     <a href="#gt--1">
      <code>
       ~&gt;
      </code>
     </a>
     : Allows only the
     <em>
      rightmost
     </em>
     version component to increment. For example,
 to allow new patch releases within a specific minor release, use the full
 version number:
     <code>
      ~&gt; 1.0.4
     </code>
     will allow installation of
     <code>
      1.0.5
     </code>
     and
     <code>
      1.0.10
     </code>
     but not
     <code>
      1.1.0
     </code>
     . This is usually called the pessimistic constraint operator.
    </p>
   </li>
  </ul>
  <h2 id="version-constraint-behavior">
   <a class="anchor" href="#version-constraint-behavior" name="version-constraint-behavior">
    »
   </a>
   Version Constraint Behavior
  </h2>
  <p>
   A version number that meets every applicable constraint is considered acceptable.
  </p>
  <p>
   Terraform consults version constraints to determine whether it has acceptable
 versions of itself, any required provider plugins, and any required modules. For
 plugins and modules, it will use the newest installed version that meets the
 applicable constraints.
  </p>
  <p>
   If Terraform doesn't have an acceptable version of a required plugin or module,
 it will attempt to download the newest version that meets the applicable
 constraints.
  </p>
  <p>
   If Terraform isn't able to obtain acceptable versions of external dependencies,
 or if it doesn't have an acceptable version of itself, it won't proceed with any
 plans, applies, or state manipulation actions.
  </p>
  <p>
   Both the root module and any child module can constrain the acceptable versions
 of Terraform and any providers they use. Terraform considers these constraints
 equal, and will only proceed if all of them can be met.
  </p>
  <p>
   A prerelease version is a version number that contains a suffix introduced by
 a dash, like
   <code>
    1.2.0-beta
   </code>
   . A prerelease version can be selected only by an
   <em>
    exact
   </em>
   version constraint (the
   <code>
    =
   </code>
   operator or no operator). Prerelease
 versions do not match inexact operators such as
   <code>
    &gt;=
   </code>
   ,
   <code>
    ~&gt;
   </code>
   , etc.
  </p>
  <h2 id="best-practices">
   <a class="anchor" href="#best-practices" name="best-practices">
    »
   </a>
   Best Practices
  </h2>
  <h3 id="module-versions">
   <a class="anchor" href="#module-versions" name="module-versions">
    »
   </a>
   Module Versions
  </h3>
  <ul>
   <li>
    <p>
     When depending on third-party modules, require specific versions to ensure
 that updates only happen when convenient to you.
    </p>
   </li>
   <li>
    <p>
     For modules maintained within your organization, specifying version ranges
 may be appropriate if semantic versioning is used consistently or if there is
 a well-defined release process that avoids unwanted updates.
    </p>
   </li>
  </ul>
  <h3 id="terraform-core-and-provider-versions">
   <a class="anchor" href="#terraform-core-and-provider-versions" name="terraform-core-and-provider-versions">
    »
   </a>
   Terraform Core and Provider Versions
  </h3>
  <ul>
   <li>
    <p>
     Reusable modules should constrain only their minimum allowed versions of
 Terraform and providers, such as
     <code>
      &gt;= 0.12.0
     </code>
     . This helps avoid known
 incompatibilities, while allowing the user of the module flexibility to
 upgrade to newer versions of Terraform without altering the module.
    </p>
   </li>
   <li>
    <p>
     Root modules should use a
     <code>
      ~&gt;
     </code>
     constraint to set both a lower and upper bound
 on versions for each provider they depend on.
    </p>
   </li>
  </ul>
 </div>
 
 <!-- ########### Numeric Functions : abs ############### -->
 <!-- ########### https://www.terraform.io/docs/language/functions/index.html ############### --
 ><!-- ########### Numeric Functions : abs ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="built-in-functions">
    <a class="anchor" href="#built-in-functions" name="built-in-functions">
     »
    </a>
    Built-in Functions
   </h1>
  </div>
  <blockquote>
   <p>
    <strong>
     Hands-on:
    </strong>
    Try the
    <a href="https://learn.hashicorp.com/tutorials/terraform/functions?in=terraform/configuration-language&amp;utm_source=WEBSITE&amp;utm_medium=WEB_IO&amp;utm_offer=ARTICLE_PAGE&amp;utm_content=DOCS">
     Perform Dynamic Operations with Functions
    </a>
    tutorial on HashiCorp Learn.
   </p>
  </blockquote>
  <p>
   The Terraform language includes a number of built-in functions that you can
 call from within expressions to transform and combine values. The general
 syntax for function calls is a function name followed by comma-separated
 arguments in parentheses:
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">max</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">9</span><span class="p">)</span>
 </code></pre>
  </div>
  <p>
   For more details on syntax, see
   <a href="/docs/language/expressions/function-calls.html">
    <em>
     Function Calls
    </em>
   </a>
   in the Expressions section.
  </p>
  <p>
   The Terraform language does not support user-defined functions, and so only
 the functions built in to the language are available for use. The navigation
 for this section includes a list of all of the available built-in functions.
  </p>
  <p>
   You can experiment with the behavior of Terraform's built-in functions from
 the Terraform expression console, by running
   <a href="/docs/cli/commands/console.html">
    the
    <code>
     terraform console
    </code>
    command
   </a>
   :
  </p>
  <div class="highlight">
   <pre class="highlight plaintext"><code>&gt; max(5, 12, 9)
 12
 </code></pre>
  </div>
  <p>
   The examples in the documentation for each function use console output to
 illustrate the result of calling the function with different parameters.
  </p>
 </div>
 
 <!-- ########### Numeric Functions : ceil ############### -->
 <!-- ########### https://www.terraform.io/docs/language/functions/abs.html ############### --
 ><!-- ########### Numeric Functions : ceil ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="abs-function">
    <a class="anchor" href="#abs-function" name="abs-function">
     »
    </a>
    <code>
     abs
    </code>
    Function
   </h1>
  </div>
  <p>
   <code>
    abs
   </code>
   returns the absolute value of the given number. In other words, if the
 number is zero or positive then it is returned as-is, but if it is negative
 then it is multiplied by -1 to make it positive before returning it.
  </p>
  <h2 id="examples">
   <a class="anchor" href="#examples" name="examples">
    »
   </a>
   Examples
  </h2>
  <div class="highlight">
   <pre class="highlight plaintext"><code>&gt; abs(23)
 23
 &gt; abs(0)
 0
 &gt; abs(-12.4)
 12.4
 </code></pre>
  </div>
 </div>
 
 <!-- ########### Numeric Functions : floor ############### -->
 <!-- ########### https://www.terraform.io/docs/language/functions/ceil.html ############### --
 ><!-- ########### Numeric Functions : floor ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="ceil-function">
    <a class="anchor" href="#ceil-function" name="ceil-function">
     »
    </a>
    <code>
     ceil
    </code>
    Function
   </h1>
  </div>
  <p>
   <code>
    ceil
   </code>
   returns the closest whole number that is greater than or equal to the
 given value, which may be a fraction.
  </p>
  <h2 id="examples">
   <a class="anchor" href="#examples" name="examples">
    »
   </a>
   Examples
  </h2>
  <div class="highlight">
   <pre class="highlight plaintext"><code>&gt; ceil(5)
 5
 &gt; ceil(5.1)
 6
 </code></pre>
  </div>
  <h2 id="related-functions">
   <a class="anchor" href="#related-functions" name="related-functions">
    »
   </a>
   Related Functions
  </h2>
  <ul>
   <li>
    <a href="/docs/language/functions/floor.html">
     <code>
      floor
     </code>
    </a>
    , which rounds to the nearest whole number
    <em>
     less than
    </em>
    or equal.
   </li>
  </ul>
 </div>
 
 <!-- ########### Numeric Functions : log ############### -->
 <!-- ########### https://www.terraform.io/docs/language/functions/floor.html ############### --
 ><!-- ########### Numeric Functions : log ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="floor-function">
    <a class="anchor" href="#floor-function" name="floor-function">
     »
    </a>
    <code>
     floor
    </code>
    Function
   </h1>
  </div>
  <p>
   <code>
    floor
   </code>
   returns the closest whole number that is less than or equal to the
 given value, which may be a fraction.
  </p>
  <h2 id="examples">
   <a class="anchor" href="#examples" name="examples">
    »
   </a>
   Examples
  </h2>
  <div class="highlight">
   <pre class="highlight plaintext"><code>&gt; floor(5)
 5
 &gt; floor(4.9)
 4
 </code></pre>
  </div>
  <h2 id="related-functions">
   <a class="anchor" href="#related-functions" name="related-functions">
    »
   </a>
   Related Functions
  </h2>
  <ul>
   <li>
    <a href="/docs/language/functions/ceil.html">
     <code>
      ceil
     </code>
    </a>
    , which rounds to the nearest whole number
    <em>
     greater than
    </em>
    or equal.
   </li>
  </ul>
 </div>
 
 <!-- ########### Numeric Functions : max ############### -->
 <!-- ########### https://www.terraform.io/docs/language/functions/log.html ############### --
 ><!-- ########### Numeric Functions : max ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="log-function">
    <a class="anchor" href="#log-function" name="log-function">
     »
    </a>
    <code>
     log
    </code>
    Function
   </h1>
  </div>
  <p>
   <code>
    log
   </code>
   returns the logarithm of a given number in a given base.
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">log</span><span class="p">(</span><span class="n">number</span><span class="p">,</span> <span class="n">base</span><span class="p">)</span>
 </code></pre>
  </div>
  <h2 id="examples">
   <a class="anchor" href="#examples" name="examples">
    »
   </a>
   Examples
  </h2>
  <div class="highlight">
   <pre class="highlight plaintext"><code>&gt; log(50, 10)
 1.6989700043360185
 &gt; log(16, 2)
 4
 </code></pre>
  </div>
  <p>
   <code>
    log
   </code>
   and
   <code>
    ceil
   </code>
   can be used together to find the minimum number of binary
 digits required to represent a given number of distinct values:
  </p>
  <div class="highlight">
   <pre class="highlight plaintext"><code>&gt; ceil(log(15, 2))
 4
 &gt; ceil(log(16, 2))
 4
 &gt; ceil(log(17, 2))
 5
 </code></pre>
  </div>
 </div>
 
 <!-- ########### Numeric Functions : min ############### -->
 <!-- ########### https://www.terraform.io/docs/language/functions/max.html ############### --
 ><!-- ########### Numeric Functions : min ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="max-function">
    <a class="anchor" href="#max-function" name="max-function">
     »
    </a>
    <code>
     max
    </code>
    Function
   </h1>
  </div>
  <p>
   <code>
    max
   </code>
   takes one or more numbers and returns the greatest number from the set.
  </p>
  <h2 id="examples">
   <a class="anchor" href="#examples" name="examples">
    »
   </a>
   Examples
  </h2>
  <div class="highlight">
   <pre class="highlight plaintext"><code>&gt; max(12, 54, 3)
 54
 </code></pre>
  </div>
  <p>
   If the numbers are in a list or set value, use
   <code>
    ...
   </code>
   to expand the collection
 to individual arguments:
  </p>
  <div class="highlight">
   <pre class="highlight plaintext"><code>&gt; max([12, 54, 3]...)
 54
 </code></pre>
  </div>
  <h2 id="related-functions">
   <a class="anchor" href="#related-functions" name="related-functions">
    »
   </a>
   Related Functions
  </h2>
  <ul>
   <li>
    <a href="/docs/language/functions/min.html">
     <code>
      min
     </code>
    </a>
    , which returns the
    <em>
     smallest
    </em>
    number from a set.
   </li>
  </ul>
 </div>
 
 <!-- ########### Numeric Functions : parseint ############### -->
 <!-- ########### https://www.terraform.io/docs/language/functions/min.html ############### --
 ><!-- ########### Numeric Functions : parseint ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="min-function">
    <a class="anchor" href="#min-function" name="min-function">
     »
    </a>
    <code>
     min
    </code>
    Function
   </h1>
  </div>
  <p>
   <code>
    min
   </code>
   takes one or more numbers and returns the smallest number from the set.
  </p>
  <h2 id="examples">
   <a class="anchor" href="#examples" name="examples">
    »
   </a>
   Examples
  </h2>
  <div class="highlight">
   <pre class="highlight plaintext"><code>&gt; min(12, 54, 3)
 3
 </code></pre>
  </div>
  <p>
   If the numbers are in a list or set value, use
   <code>
    ...
   </code>
   to expand the collection
 to individual arguments:
  </p>
  <div class="highlight">
   <pre class="highlight plaintext"><code>&gt; min([12, 54, 3]...)
 3
 </code></pre>
  </div>
  <h2 id="related-functions">
   <a class="anchor" href="#related-functions" name="related-functions">
    »
   </a>
   Related Functions
  </h2>
  <ul>
   <li>
    <a href="/docs/language/functions/max.html">
     <code>
      max
     </code>
    </a>
    , which returns the
    <em>
     greatest
    </em>
    number from a set.
   </li>
  </ul>
 </div>
 
 <!-- ########### Numeric Functions : pow ############### -->
 <!-- ########### https://www.terraform.io/docs/language/functions/parseint.html ############### --
 ><!-- ########### Numeric Functions : pow ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="parseint-function">
    <a class="anchor" href="#parseint-function" name="parseint-function">
     »
    </a>
    <code>
     parseint
    </code>
    Function
   </h1>
  </div>
  <p>
   <code>
    parseint
   </code>
   parses the given string as a representation of an integer in
 the specified base and returns the resulting number. The base must be between 2
 and 62 inclusive.
  </p>
  <p>
   All bases use the arabic numerals 0 through 9 first. Bases between 11 and 36
 inclusive use case-insensitive latin letters to represent higher unit values.
 Bases 37 and higher use lowercase latin letters and then uppercase latin
 letters.
  </p>
  <p>
   If the given string contains any non-digit characters or digit characters that
 are too large for the given base then
   <code>
    parseint
   </code>
   will produce an error.
  </p>
  <h2 id="examples">
   <a class="anchor" href="#examples" name="examples">
    »
   </a>
   Examples
  </h2>
  <div class="highlight">
   <pre class="highlight plaintext"><code>&gt; parseint("100", 10)
 100
 
 &gt; parseint("FF", 16)
 255
 
 &gt; parseint("-10", 16)
 -16
 
 &gt; parseint("1011111011101111", 2)
 48879
 
 &gt; parseint("aA", 62)
 656
 
 &gt; parseint("12", 2)
 
 Error: Invalid function argument
 
 Invalid value for "number" parameter: cannot parse "12" as a base 2 integer.
 </code></pre>
  </div>
  <h2 id="related-functions">
   <a class="anchor" href="#related-functions" name="related-functions">
    »
   </a>
   Related Functions
  </h2>
  <ul>
   <li>
    <a href="/docs/language/functions/format.html">
     <code>
      format
     </code>
    </a>
    can format numbers and other values into strings,
 with optional zero padding, alignment, etc.
   </li>
  </ul>
 </div>
 
 <!-- ########### Numeric Functions : signum ############### -->
 <!-- ########### https://www.terraform.io/docs/language/functions/pow.html ############### --
 ><!-- ########### Numeric Functions : signum ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="pow-function">
    <a class="anchor" href="#pow-function" name="pow-function">
     »
    </a>
    <code>
     pow
    </code>
    Function
   </h1>
  </div>
  <p>
   <code>
    pow
   </code>
   calculates an exponent, by raising its first argument to the power of the second argument.
  </p>
  <h2 id="examples">
   <a class="anchor" href="#examples" name="examples">
    »
   </a>
   Examples
  </h2>
  <div class="highlight">
   <pre class="highlight plaintext"><code>&gt; pow(3, 2)
 9
 &gt; pow(4, 0)
 1
 </code></pre>
  </div>
 </div>
 
 <!-- ########### String Functions : chomp ############### -->
 <!-- ########### https://www.terraform.io/docs/language/functions/signum.html ############### --
 ><!-- ########### String Functions : chomp ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="signum-function">
    <a class="anchor" href="#signum-function" name="signum-function">
     »
    </a>
    <code>
     signum
    </code>
    Function
   </h1>
  </div>
  <p>
   <code>
    signum
   </code>
   determines the sign of a number, returning a number between -1 and
 1 to represent the sign.
  </p>
  <h2 id="examples">
   <a class="anchor" href="#examples" name="examples">
    »
   </a>
   Examples
  </h2>
  <div class="highlight">
   <pre class="highlight plaintext"><code>&gt; signum(-13)
 -1
 &gt; signum(0)
 0
 &gt; signum(344)
 1
 </code></pre>
  </div>
 </div>
 
 <!-- ########### String Functions : format ############### -->
 <!-- ########### https://www.terraform.io/docs/language/functions/chomp.html ############### --
 ><!-- ########### String Functions : format ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="chomp-function">
    <a class="anchor" href="#chomp-function" name="chomp-function">
     »
    </a>
    <code>
     chomp
    </code>
    Function
   </h1>
  </div>
  <p>
   <code>
    chomp
   </code>
   removes newline characters at the end of a string.
  </p>
  <p>
   This can be useful if, for example, the string was read from a file that has
 a newline character at the end.
  </p>
  <h2 id="examples">
   <a class="anchor" href="#examples" name="examples">
    »
   </a>
   Examples
  </h2>
  <div class="highlight">
   <pre class="highlight plaintext"><code>&gt; chomp("hello\n")
 hello
 &gt; chomp("hello\r\n")
 hello
 &gt; chomp("hello\n\n")
 hello
 </code></pre>
  </div>
  <h2 id="related-functions">
   <a class="anchor" href="#related-functions" name="related-functions">
    »
   </a>
   Related Functions
  </h2>
  <ul>
   <li>
    <a href="/docs/language/functions/trimspace.html">
     <code>
      trimspace
     </code>
    </a>
    , which removes all types of whitespace from
 both the start and the end of a string.
   </li>
  </ul>
 </div>
 
 <!-- ########### String Functions : formatlist ############### -->
 <!-- ########### https://www.terraform.io/docs/language/functions/format.html ############### --
 ><!-- ########### String Functions : formatlist ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="format-function">
    <a class="anchor" href="#format-function" name="format-function">
     »
    </a>
    <code>
     format
    </code>
    Function
   </h1>
   <div id="inner-quicknav">
    <span id="inner-quicknav-trigger">
     Jump to Section
     <svg height="5" width="9" xmlns="http://www.w3.org/2000/svg">
      <path d="M8.811 1.067a.612.612 0 0 0 0-.884.655.655 0 0 0-.908 0L4.5 3.491 1.097.183a.655.655 0 0 0-.909 0 .615.615 0 0 0 0 .884l3.857 3.75a.655.655 0 0 0 .91 0l3.856-3.75z" fill-rule="evenodd">
      </path>
     </svg>
    </span>
    <ul class="dropdown">
     <li class="level-h2">
      <a href="#examples">
       »
 Examples
      </a>
     </li>
     <li class="level-h2">
      <a href="#specification-syntax">
       »
 Specification Syntax
      </a>
     </li>
     <li class="level-h2">
      <a href="#related-functions">
       »
 Related Functions
      </a>
     </li>
    </ul>
   </div>
  </div>
  <p>
   <code>
    format
   </code>
   produces a string by formatting a number of other values according
 to a specification string. It is similar to the
   <code>
    printf
   </code>
   function in C, and
 other similar functions in other programming languages.
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="nb">format</span><span class="p">(</span><span class="n">spec</span><span class="p">,</span> <span class="n">values</span><span class="o">...</span><span class="p">)</span>
 </code></pre>
  </div>
  <h2 id="examples">
   <a class="anchor" href="#examples" name="examples">
    »
   </a>
   Examples
  </h2>
  <div class="highlight">
   <pre class="highlight plaintext"><code>&gt; format("Hello, %s!", "Ander")
 Hello, Ander!
 &gt; format("There are %d lights", 4)
 There are 4 lights
 </code></pre>
  </div>
  <p>
   Simple format verbs like
   <code>
    %s
   </code>
   and
   <code>
    %d
   </code>
   behave similarly to template
 interpolation syntax, which is often more readable:
  </p>
  <div class="highlight">
   <pre class="highlight plaintext"><code>&gt; format("Hello, %s!", var.name)
 Hello, Valentina!
 &gt; "Hello, ${var.name}!"
 Hello, Valentina!
 </code></pre>
  </div>
  <p>
   The
   <code>
    format
   </code>
   function is therefore more useful when you use more complex format
 specifications, as described in the following section.
  </p>
  <h2 id="specification-syntax">
   <a class="anchor" href="#specification-syntax" name="specification-syntax">
    »
   </a>
   Specification Syntax
  </h2>
  <p>
   The specification is a string that includes formatting verbs that are introduced
 with the
   <code>
    %
   </code>
   character. The function call must then have one additional argument
 for each verb sequence in the specification. The verbs are matched with
 consecutive arguments and formatted as directed, as long as each given argument
 is convertible to the type required by the format verb.
  </p>
  <p>
   The specification may contain the following verbs:
  </p>
  <table>
   <thead>
    <tr>
     <th>
      Verb
     </th>
     <th>
      Result
     </th>
    </tr>
   </thead>
   <tbody>
    <tr>
     <td>
      <code>
       %%
      </code>
     </td>
     <td>
      Literal percent sign, consuming no value.
     </td>
    </tr>
    <tr>
     <td>
      <code>
       %v
      </code>
     </td>
     <td>
      Default formatting based on the value type, as described below.
     </td>
    </tr>
    <tr>
     <td>
      <code>
       %#v
      </code>
     </td>
     <td>
      JSON serialization of the value, as with
      <code>
       jsonencode
      </code>
      .
     </td>
    </tr>
    <tr>
     <td>
      <code>
       %t
      </code>
     </td>
     <td>
      Convert to boolean and produce
      <code>
       true
      </code>
      or
      <code>
       false
      </code>
      .
     </td>
    </tr>
    <tr>
     <td>
      <code>
       %b
      </code>
     </td>
     <td>
      Convert to integer number and produce binary representation.
     </td>
    </tr>
    <tr>
     <td>
      <code>
       %d
      </code>
     </td>
     <td>
      Convert to integer number and produce decimal representation.
     </td>
    </tr>
    <tr>
     <td>
      <code>
       %o
      </code>
     </td>
     <td>
      Convert to integer number and produce octal representation.
     </td>
    </tr>
    <tr>
     <td>
      <code>
       %x
      </code>
     </td>
     <td>
      Convert to integer number and produce hexadecimal representation with lowercase letters.
     </td>
    </tr>
    <tr>
     <td>
      <code>
       %X
      </code>
     </td>
     <td>
      Like
      <code>
       %x
      </code>
      , but use uppercase letters.
     </td>
    </tr>
    <tr>
     <td>
      <code>
       %e
      </code>
     </td>
     <td>
      Convert to number and produce scientific notation, like
      <code>
       -1.234456e+78
      </code>
      .
     </td>
    </tr>
    <tr>
     <td>
      <code>
       %E
      </code>
     </td>
     <td>
      Like
      <code>
       %e
      </code>
      , but use an uppercase
      <code>
       E
      </code>
      to introduce the exponent.
     </td>
    </tr>
    <tr>
     <td>
      <code>
       %f
      </code>
     </td>
     <td>
      Convert to number and produce decimal fraction notation with no exponent, like
      <code>
       123.456
      </code>
      .
     </td>
    </tr>
    <tr>
     <td>
      <code>
       %g
      </code>
     </td>
     <td>
      Like
      <code>
       %e
      </code>
      for large exponents or like
      <code>
       %f
      </code>
      otherwise.
     </td>
    </tr>
    <tr>
     <td>
      <code>
       %G
      </code>
     </td>
     <td>
      Like
      <code>
       %E
      </code>
      for large exponents or like
      <code>
       %f
      </code>
      otherwise.
     </td>
    </tr>
    <tr>
     <td>
      <code>
       %s
      </code>
     </td>
     <td>
      Convert to string and insert the string's characters.
     </td>
    </tr>
    <tr>
     <td>
      <code>
       %q
      </code>
     </td>
     <td>
      Convert to string and produce a JSON quoted string representation.
     </td>
    </tr>
   </tbody>
  </table>
  <p>
   When
   <code>
    %v
   </code>
   is used, one of the following format verbs is chosen based on the value type:
  </p>
  <table>
   <thead>
    <tr>
     <th>
      Type
     </th>
     <th>
      Verb
     </th>
    </tr>
   </thead>
   <tbody>
    <tr>
     <td>
      <code>
       string
      </code>
     </td>
     <td>
      <code>
       %s
      </code>
     </td>
    </tr>
    <tr>
     <td>
      <code>
       number
      </code>
     </td>
     <td>
      <code>
       %g
      </code>
     </td>
    </tr>
    <tr>
     <td>
      <code>
       bool
      </code>
     </td>
     <td>
      <code>
       %t
      </code>
     </td>
    </tr>
    <tr>
     <td>
      any other
     </td>
     <td>
      <code>
       %#v
      </code>
     </td>
    </tr>
   </tbody>
  </table>
  <p>
   Null values produce the string
   <code>
    null
   </code>
   if formatted with
   <code>
    %v
   </code>
   or
   <code>
    %#v
   </code>
   , and
 cause an error for other verbs.
  </p>
  <p>
   A width modifier can be included with an optional decimal number immediately
 preceding the verb letter, to specify how many characters will be used to
 represent the value. Precision can be specified after the (optional) width
 with a period (
   <code>
    .
   </code>
   ) followed by a decimal number. If width or precision are
 omitted then default values are selected based on the given value. For example:
  </p>
  <table>
   <thead>
    <tr>
     <th>
      Sequence
     </th>
     <th>
      Result
     </th>
    </tr>
   </thead>
   <tbody>
    <tr>
     <td>
      <code>
       %f
      </code>
     </td>
     <td>
      Default width and precision.
     </td>
    </tr>
    <tr>
     <td>
      <code>
       %9f
      </code>
     </td>
     <td>
      Width 9, default precision.
     </td>
    </tr>
    <tr>
     <td>
      <code>
       %.2f
      </code>
     </td>
     <td>
      Default width, precision 2.
     </td>
    </tr>
    <tr>
     <td>
      <code>
       %9.2f
      </code>
     </td>
     <td>
      Width 9, precision 2.
     </td>
    </tr>
   </tbody>
  </table>
  <p>
   The following additional symbols can be used immediately after the
   <code>
    %
   </code>
   symbol
 to set additional flags:
  </p>
  <table>
   <thead>
    <tr>
     <th>
      Symbol
     </th>
     <th>
      Result
     </th>
    </tr>
   </thead>
   <tbody>
    <tr>
     <td>
      space
     </td>
     <td>
      Leave a space where the sign would be if a number is positive.
     </td>
    </tr>
    <tr>
     <td>
      <code>
       +
      </code>
     </td>
     <td>
      Show the sign of a number even if it is positive.
     </td>
    </tr>
    <tr>
     <td>
      <code>
       -
      </code>
     </td>
     <td>
      Pad the width with spaces on the left rather than the right.
     </td>
    </tr>
    <tr>
     <td>
      <code>
       0
      </code>
     </td>
     <td>
      Pad the width with leading zeros rather than spaces.
     </td>
    </tr>
   </tbody>
  </table>
  <p>
   By default,
   <code>
    %
   </code>
   sequences consume successive arguments starting with the first.
 Introducing a
   <code>
    [n]
   </code>
   sequence immediately before the verb letter, where
   <code>
    n
   </code>
   is a
 decimal integer, explicitly chooses a particular value argument by its
 one-based index. Subsequent calls without an explicit index will then proceed
 with
   <code>
    n
   </code>
   +1,
   <code>
    n
   </code>
   +2, etc.
  </p>
  <p>
   The function produces an error if the format string requests an impossible
 conversion or access more arguments than are given. An error is produced also
 for an unsupported format verb.
  </p>
  <div class="alert alert-info" role="alert">
   <p>
    <strong>
     Note:
    </strong>
    Width and precision modifiers with non-numeric types such as
 strings (
    <code>
     %s
    </code>
    ) are interpreted differently. Setting either width or precision to
 zero is the same as not including them at all.
   </p>
  </div>
  <h2 id="related-functions">
   <a class="anchor" href="#related-functions" name="related-functions">
    »
   </a>
   Related Functions
  </h2>
  <ul>
   <li>
    <a href="/docs/language/functions/formatdate.html">
     <code>
      formatdate
     </code>
    </a>
    is a specialized formatting function for
 human-readable timestamps.
   </li>
   <li>
    <a href="/docs/language/functions/formatlist.html">
     <code>
      formatlist
     </code>
    </a>
    uses the same specification syntax to
 produce a list of strings.
   </li>
  </ul>
 </div>
 
 <!-- ########### String Functions : indent ############### -->
 <!-- ########### https://www.terraform.io/docs/language/functions/formatlist.html ############### --
 ><!-- ########### String Functions : indent ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="formatlist-function">
    <a class="anchor" href="#formatlist-function" name="formatlist-function">
     »
    </a>
    <code>
     formatlist
    </code>
    Function
   </h1>
  </div>
  <p>
   <code>
    formatlist
   </code>
   produces a list of strings by formatting a number of other
 values according to a specification string.
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">formatlist</span><span class="p">(</span><span class="n">spec</span><span class="p">,</span> <span class="n">values</span><span class="o">...</span><span class="p">)</span>
 </code></pre>
  </div>
  <p>
   The specification string uses
   <a href="/docs/language/functions/format.html#specification-syntax">
    the same syntax as
    <code>
     format
    </code>
   </a>
   .
  </p>
  <p>
   The given values can be a mixture of list and non-list arguments. Any given
 lists must be the same length, which decides the length of the resulting list.
  </p>
  <p>
   The list arguments are iterated together in order by index, while the non-list
 arguments are used repeatedly for each iteration. The format string is evaluated
 once per element of the list arguments.
  </p>
  <h2 id="examples">
   <a class="anchor" href="#examples" name="examples">
    »
   </a>
   Examples
  </h2>
  <div class="highlight">
   <pre class="highlight plaintext"><code>&gt; formatlist("Hello, %s!", ["Valentina", "Ander", "Olivia", "Sam"])
 [
   "Hello, Valentina!",
   "Hello, Ander!",
   "Hello, Olivia!",
   "Hello, Sam!",
 ]
 &gt; formatlist("%s, %s!", "Salutations", ["Valentina", "Ander", "Olivia", "Sam"])
 [
   "Salutations, Valentina!",
   "Salutations, Ander!",
   "Salutations, Olivia!",
   "Salutations, Sam!",
 ]
 </code></pre>
  </div>
  <h2 id="related-functions">
   <a class="anchor" href="#related-functions" name="related-functions">
    »
   </a>
   Related Functions
  </h2>
  <ul>
   <li>
    <a href="/docs/language/functions/format.html">
     <code>
      format
     </code>
    </a>
    defines the specification syntax used by this
 function and produces a single string as its result.
   </li>
  </ul>
 </div>
 
 <!-- ########### String Functions : join ############### -->
 <!-- ########### https://www.terraform.io/docs/language/functions/indent.html ############### --
 ><!-- ########### String Functions : join ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="indent-function">
    <a class="anchor" href="#indent-function" name="indent-function">
     »
    </a>
    <code>
     indent
    </code>
    Function
   </h1>
  </div>
  <p>
   <code>
    indent
   </code>
   adds a given number of spaces to the beginnings of all but the first
 line in a given multi-line string.
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">indent</span><span class="p">(</span><span class="n">num_spaces</span><span class="p">,</span> <span class="n">string</span><span class="p">)</span>
 </code></pre>
  </div>
  <h2 id="examples">
   <a class="anchor" href="#examples" name="examples">
    »
   </a>
   Examples
  </h2>
  <p>
   This function is useful for inserting a multi-line string into an
 already-indented context in another string:
  </p>
  <div class="highlight">
   <pre class="highlight plaintext"><code>&gt; "  items: ${indent(2, "[\n  foo,\n  bar,\n]\n")}"
   items: [
     foo,
     bar,
   ]
 </code></pre>
  </div>
  <p>
   The first line of the string is not indented so that, as above, it can be
 placed after an introduction sequence that has already begun the line.
  </p>
 </div>
 
 <!-- ########### String Functions : lower ############### -->
 <!-- ########### https://www.terraform.io/docs/language/functions/join.html ############### --
 ><!-- ########### String Functions : lower ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="join-function">
    <a class="anchor" href="#join-function" name="join-function">
     »
    </a>
    <code>
     join
    </code>
    Function
   </h1>
  </div>
  <p>
   <code>
    join
   </code>
   produces a string by concatenating together all elements of a given
 list of strings with the given delimiter.
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">join</span><span class="p">(</span><span class="n">separator</span><span class="p">,</span> <span class="n">list</span><span class="p">)</span>
 </code></pre>
  </div>
  <h2 id="examples">
   <a class="anchor" href="#examples" name="examples">
    »
   </a>
   Examples
  </h2>
  <div class="highlight">
   <pre class="highlight plaintext"><code>&gt; join(", ", ["foo", "bar", "baz"])
 foo, bar, baz
 &gt; join(", ", ["foo"])
 foo
 </code></pre>
  </div>
  <h2 id="related-functions">
   <a class="anchor" href="#related-functions" name="related-functions">
    »
   </a>
   Related Functions
  </h2>
  <ul>
   <li>
    <a href="/docs/language/functions/split.html">
     <code>
      split
     </code>
    </a>
    performs the opposite operation: producing a list
 by separating a single string using a given delimiter.
   </li>
  </ul>
 </div>
 
 <!-- ########### String Functions : regex ############### -->
 <!-- ########### https://www.terraform.io/docs/language/functions/lower.html ############### --
 ><!-- ########### String Functions : regex ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="lower-function">
    <a class="anchor" href="#lower-function" name="lower-function">
     »
    </a>
    <code>
     lower
    </code>
    Function
   </h1>
  </div>
  <p>
   <code>
    lower
   </code>
   converts all cased letters in the given string to lowercase.
  </p>
  <h2 id="examples">
   <a class="anchor" href="#examples" name="examples">
    »
   </a>
   Examples
  </h2>
  <div class="highlight">
   <pre class="highlight plaintext"><code>&gt; lower("HELLO")
 hello
 &gt; lower("АЛЛО!")
 алло!
 </code></pre>
  </div>
  <p>
   This function uses Unicode's definition of letters and of upper- and lowercase.
  </p>
  <h2 id="related-functions">
   <a class="anchor" href="#related-functions" name="related-functions">
    »
   </a>
   Related Functions
  </h2>
  <ul>
   <li>
    <a href="/docs/language/functions/upper.html">
     <code>
      upper
     </code>
    </a>
    converts letters in a string to
    <em>
     uppercase
    </em>
    .
   </li>
   <li>
    <a href="/docs/language/functions/title.html">
     <code>
      title
     </code>
    </a>
    converts the first letter of each word in a string to uppercase.
   </li>
  </ul>
 </div>
 
 <!-- ########### String Functions : regexall ############### -->
 <!-- ########### https://www.terraform.io/docs/language/functions/regex.html ############### --
 ><!-- ########### String Functions : regexall ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="regex-function">
    <a class="anchor" href="#regex-function" name="regex-function">
     »
    </a>
    <code>
     regex
    </code>
    Function
   </h1>
   <div id="inner-quicknav">
    <span id="inner-quicknav-trigger">
     Jump to Section
     <svg height="5" width="9" xmlns="http://www.w3.org/2000/svg">
      <path d="M8.811 1.067a.612.612 0 0 0 0-.884.655.655 0 0 0-.908 0L4.5 3.491 1.097.183a.655.655 0 0 0-.909 0 .615.615 0 0 0 0 .884l3.857 3.75a.655.655 0 0 0 .91 0l3.856-3.75z" fill-rule="evenodd">
      </path>
     </svg>
    </span>
    <ul class="dropdown">
     <li class="level-h2">
      <a href="#matching-flags">
       »
 Matching Flags
      </a>
     </li>
     <li class="level-h2">
      <a href="#examples">
       »
 Examples
      </a>
     </li>
     <li class="level-h2">
      <a href="#related-functions">
       »
 Related Functions
      </a>
     </li>
    </ul>
   </div>
  </div>
  <p>
   <code>
    regex
   </code>
   applies a
   <a href="https://en.wikipedia.org/wiki/Regular_expression">
    regular expression
   </a>
   to a string and returns the matching substrings.
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">regex</span><span class="p">(</span><span class="n">pattern</span><span class="p">,</span> <span class="n">string</span><span class="p">)</span>
 </code></pre>
  </div>
  <p>
   The return type of
   <code>
    regex
   </code>
   depends on the capture groups, if any, in the
 pattern:
  </p>
  <ul>
   <li>
    If the pattern has no capture groups at all, the result is a single string
 covering the substring matched by the pattern as a whole.
   </li>
   <li>
    If the pattern has one or more
    <em>
     unnamed
    </em>
    capture groups, the result is a
 list of the captured substrings in the same order as the definition of
 the capture groups.
   </li>
   <li>
    If the pattern has one or more
    <em>
     named
    </em>
    capture groups, the result is a
 map of the captured substrings, using the capture group names as map keys.
   </li>
  </ul>
  <p>
   It's not valid to mix both named and unnamed capture groups in the same pattern.
  </p>
  <p>
   If the given pattern does not match at all, the
   <code>
    regex
   </code>
   raises an error. To
   <em>
    test
   </em>
   whether a given pattern matches a string, use
   <a href="/docs/language/functions/regexall.html">
    <code>
     regexall
    </code>
   </a>
   and test that the result has length greater than
 zero.
  </p>
  <p>
   The pattern is a string containing a mixture of literal characters and special
 matching operators as described in the following table. Note that when giving a
 regular expression pattern as a literal quoted string in the Terraform
 language, the quoted string itself already uses backslash
   <code>
    \
   </code>
   as an escape
 character for the string, so any backslashes intended to be recognized as part
 of the pattern must be escaped as
   <code>
    \\
   </code>
   .
  </p>
  <table>
   <thead>
    <tr>
     <th>
      Sequence
     </th>
     <th>
      Matches
     </th>
    </tr>
   </thead>
   <tbody>
    <tr>
     <td>
      <code>
       .
      </code>
     </td>
     <td>
      Any character except newline
     </td>
    </tr>
    <tr>
     <td>
      <code>
       [xyz]
      </code>
     </td>
     <td>
      Any character listed between the brackets (
      <code>
       x
      </code>
      ,
      <code>
       y
      </code>
      , and
      <code>
       z
      </code>
      in this example)
     </td>
    </tr>
    <tr>
     <td>
      <code>
       [a-z]
      </code>
     </td>
     <td>
      Any character between
      <code>
       a
      </code>
      and
      <code>
       z
      </code>
      , inclusive
     </td>
    </tr>
    <tr>
     <td>
      <code>
       [^xyz]
      </code>
     </td>
     <td>
      The opposite of
      <code>
       [xyz]
      </code>
     </td>
    </tr>
    <tr>
     <td>
      <code>
       \d
      </code>
     </td>
     <td>
      ASCII digits (0 through 9, inclusive)
     </td>
    </tr>
    <tr>
     <td>
      <code>
       \D
      </code>
     </td>
     <td>
      Anything except ASCII digits
     </td>
    </tr>
    <tr>
     <td>
      <code>
       \s
      </code>
     </td>
     <td>
      ASCII spaces (space, tab, newline, carriage return, form feed)
     </td>
    </tr>
    <tr>
     <td>
      <code>
       \S
      </code>
     </td>
     <td>
      Anything except ASCII spaces
     </td>
    </tr>
    <tr>
     <td>
      <code>
       \w
      </code>
     </td>
     <td>
      The same as
      <code>
       [0-9A-Za-z_]
      </code>
     </td>
    </tr>
    <tr>
     <td>
      <code>
       \W
      </code>
     </td>
     <td>
      Anything except the characters matched by
      <code>
       \w
      </code>
     </td>
    </tr>
    <tr>
     <td>
      <code>
       [[:alnum:]]
      </code>
     </td>
     <td>
      The same as
      <code>
       [0-9A-Za-z]
      </code>
     </td>
    </tr>
    <tr>
     <td>
      <code>
       [[:alpha:]]
      </code>
     </td>
     <td>
      The same as
      <code>
       [A-Za-z]
      </code>
     </td>
    </tr>
    <tr>
     <td>
      <code>
       [[:ascii:]]
      </code>
     </td>
     <td>
      Any ASCII character
     </td>
    </tr>
    <tr>
     <td>
      <code>
       [[:blank:]]
      </code>
     </td>
     <td>
      ASCII tab or space
     </td>
    </tr>
    <tr>
     <td>
      <code>
       [[:cntrl:]]
      </code>
     </td>
     <td>
      ASCII/Unicode control characters
     </td>
    </tr>
    <tr>
     <td>
      <code>
       [[:digit:]]
      </code>
     </td>
     <td>
      The same as
      <code>
       [0-9]
      </code>
     </td>
    </tr>
    <tr>
     <td>
      <code>
       [[:graph:]]
      </code>
     </td>
     <td>
      All "graphical" (printable) ASCII characters
     </td>
    </tr>
    <tr>
     <td>
      <code>
       [[:lower:]]
      </code>
     </td>
     <td>
      The same as
      <code>
       [a-z]
      </code>
     </td>
    </tr>
    <tr>
     <td>
      <code>
       [[:print:]]
      </code>
     </td>
     <td>
      The same as
      <code>
       [[:graph:]]
      </code>
     </td>
    </tr>
    <tr>
     <td>
      <code>
       [[:punct:]]
      </code>
     </td>
     <td>
      The same as
      <code>
       [!-/:-@[-`{-~]
      </code>
     </td>
    </tr>
    <tr>
     <td>
      <code>
       [[:space:]]
      </code>
     </td>
     <td>
      The same as
      <code>
       [\t\n\v\f\r ]
      </code>
     </td>
    </tr>
    <tr>
     <td>
      <code>
       [[:upper:]]
      </code>
     </td>
     <td>
      The same as
      <code>
       [A-Z]
      </code>
     </td>
    </tr>
    <tr>
     <td>
      <code>
       [[:word:]]
      </code>
     </td>
     <td>
      The same as
      <code>
       \w
      </code>
     </td>
    </tr>
    <tr>
     <td>
      <code>
       [[:xdigit:]]
      </code>
     </td>
     <td>
      The same as
      <code>
       [0-9A-Fa-f]
      </code>
     </td>
    </tr>
    <tr>
     <td>
      <code>
       \pN
      </code>
     </td>
     <td>
      Unicode character class by using single-letter class names ("N" in this example)
     </td>
    </tr>
    <tr>
     <td>
      <code>
       \p{Greek}
      </code>
     </td>
     <td>
      Unicode character class by unicode name ("Greek" in this example)
     </td>
    </tr>
    <tr>
     <td>
      <code>
       \PN
      </code>
     </td>
     <td>
      The opposite of
      <code>
       \pN
      </code>
     </td>
    </tr>
    <tr>
     <td>
      <code>
       \P{Greek}
      </code>
     </td>
     <td>
      The opposite of
      <code>
       \p{Greek}
      </code>
     </td>
    </tr>
    <tr>
     <td>
      <code>
       xy
      </code>
     </td>
     <td>
      <code>
       x
      </code>
      followed immediately by
      <code>
       y
      </code>
     </td>
    </tr>
    <tr>
     <td>
      `x
     </td>
     <td>
      y`
     </td>
    </tr>
    <tr>
     <td>
      <code>
       x*
      </code>
     </td>
     <td>
      zero or more
      <code>
       x
      </code>
      , preferring more
     </td>
    </tr>
    <tr>
     <td>
      <code>
       x*?
      </code>
     </td>
     <td>
      zero or more
      <code>
       x
      </code>
      , preferring fewer
     </td>
    </tr>
    <tr>
     <td>
      <code>
       x+
      </code>
     </td>
     <td>
      one or more
      <code>
       x
      </code>
      , preferring more
     </td>
    </tr>
    <tr>
     <td>
      <code>
       x+?
      </code>
     </td>
     <td>
      one or more
      <code>
       x
      </code>
      , preferring fewer
     </td>
    </tr>
    <tr>
     <td>
      <code>
       x?
      </code>
     </td>
     <td>
      zero or one
      <code>
       x
      </code>
      , preferring one
     </td>
    </tr>
    <tr>
     <td>
      <code>
       x??
      </code>
     </td>
     <td>
      zero or one
      <code>
       x
      </code>
      , preferring zero
     </td>
    </tr>
    <tr>
     <td>
      <code>
       x{n,m}
      </code>
     </td>
     <td>
      between
      <code>
       n
      </code>
      and
      <code>
       m
      </code>
      repetitions of
      <code>
       x
      </code>
      , preferring more
     </td>
    </tr>
    <tr>
     <td>
      <code>
       x{n,m}?
      </code>
     </td>
     <td>
      between
      <code>
       n
      </code>
      and
      <code>
       m
      </code>
      repetitions of
      <code>
       x
      </code>
      , preferring fewer
     </td>
    </tr>
    <tr>
     <td>
      <code>
       x{n,}
      </code>
     </td>
     <td>
      at least
      <code>
       n
      </code>
      repetitions of
      <code>
       x
      </code>
      , preferring more
     </td>
    </tr>
    <tr>
     <td>
      <code>
       x{n,}?
      </code>
     </td>
     <td>
      at least
      <code>
       n
      </code>
      repetitions of
      <code>
       x
      </code>
      , preferring fewer
     </td>
    </tr>
    <tr>
     <td>
      <code>
       x{n}
      </code>
     </td>
     <td>
      exactly
      <code>
       n
      </code>
      repetitions of
      <code>
       x
      </code>
     </td>
    </tr>
    <tr>
     <td>
      <code>
       (x)
      </code>
     </td>
     <td>
      unnamed capture group for sub-pattern
      <code>
       x
      </code>
     </td>
    </tr>
    <tr>
     <td>
      <code>
       (?P&lt;name&gt;x)
      </code>
     </td>
     <td>
      named capture group, named
      <code>
       name
      </code>
      , for sub-pattern
      <code>
       x
      </code>
     </td>
    </tr>
    <tr>
     <td>
      <code>
       (?:x)
      </code>
     </td>
     <td>
      non-capturing sub-pattern
      <code>
       x
      </code>
     </td>
    </tr>
    <tr>
     <td>
      <code>
       \*
      </code>
     </td>
     <td>
      Literal
      <code>
       *
      </code>
      for any punctuation character
      <code>
       *
      </code>
     </td>
    </tr>
    <tr>
     <td>
      <code>
       \Q...\E
      </code>
     </td>
     <td>
      Literal
      <code>
       ...
      </code>
      for any text
      <code>
       ...
      </code>
      as long as it does not include literally
      <code>
       \E
      </code>
     </td>
    </tr>
   </tbody>
  </table>
  <p>
   In addition to the above matching operators that consume the characters they
 match, there are some additional operators that
   <em>
    only
   </em>
   match, but consume
 no characters. These are "zero-width" matching operators:
  </p>
  <table>
   <thead>
    <tr>
     <th>
      Sequence
     </th>
     <th>
      Matches
     </th>
    </tr>
   </thead>
   <tbody>
    <tr>
     <td>
      <code>
       ^
      </code>
     </td>
     <td>
      At the beginning of the given string
     </td>
    </tr>
    <tr>
     <td>
      <code>
       $
      </code>
     </td>
     <td>
      At the end of the given string
     </td>
    </tr>
    <tr>
     <td>
      <code>
       \A
      </code>
     </td>
     <td>
      At the beginning of the given string
     </td>
    </tr>
    <tr>
     <td>
      <code>
       \z
      </code>
     </td>
     <td>
      At the end of the given string
     </td>
    </tr>
    <tr>
     <td>
      <code>
       \b
      </code>
     </td>
     <td>
      At an ASCII word boundary (transition between
      <code>
       \w
      </code>
      and either
      <code>
       \W
      </code>
      ,
      <code>
       \A
      </code>
      or
      <code>
       \z
      </code>
      , or vice-versa)
     </td>
    </tr>
    <tr>
     <td>
      <code>
       \B
      </code>
     </td>
     <td>
      Not at an ASCII word boundary
     </td>
    </tr>
   </tbody>
  </table>
  <p>
   Terraform uses the
   <a href="https://github.com/google/re2/wiki/Syntax">
    RE2
   </a>
   regular expression language.
 This engine does not support all of the features found in some other regular
 expression engines; in particular, it does not support backreferences.
  </p>
  <h2 id="matching-flags">
   <a class="anchor" href="#matching-flags" name="matching-flags">
    »
   </a>
   Matching Flags
  </h2>
  <p>
   Some of the matching behaviors described above can be modified by setting
 matching flags, activated using either the
   <code>
    (?flags)
   </code>
   operator (to activate
 within the current sub-pattern) or the
   <code>
    (?flags:x)
   </code>
   operator (to match
   <code>
    x
   </code>
   with
 the modified flags). Each flag is a single letter, and multiple flags can be
 set at once by listing multiple letters in the
   <code>
    flags
   </code>
   position.
 The available flags are listed in the table below:
  </p>
  <table>
   <thead>
    <tr>
     <th>
      Flag
     </th>
     <th>
      Meaning
     </th>
    </tr>
   </thead>
   <tbody>
    <tr>
     <td>
      <code>
       i
      </code>
     </td>
     <td>
      Case insensitive: a literal letter in the pattern matches both lowercase and uppercase versions of that letter
     </td>
    </tr>
    <tr>
     <td>
      <code>
       m
      </code>
     </td>
     <td>
      The
      <code>
       ^
      </code>
      and
      <code>
       $
      </code>
      operators also match the beginning and end of lines within the string, marked by newline characters; behavior of
      <code>
       \A
      </code>
      and
      <code>
       \z
      </code>
      is unchanged
     </td>
    </tr>
    <tr>
     <td>
      <code>
       s
      </code>
     </td>
     <td>
      The
      <code>
       .
      </code>
      operator also matches newline
     </td>
    </tr>
    <tr>
     <td>
      <code>
       U
      </code>
     </td>
     <td>
      The meaning of presence or absense
      <code>
       ?
      </code>
      after a repetition operator is inverted. For example,
      <code>
       x*
      </code>
      is interpreted like
      <code>
       x*?
      </code>
      and vice-versa.
     </td>
    </tr>
   </tbody>
  </table>
  <h2 id="examples">
   <a class="anchor" href="#examples" name="examples">
    »
   </a>
   Examples
  </h2>
  <div class="highlight">
   <pre class="highlight plaintext"><code>&gt; regex("[a-z]+", "53453453.345345aaabbbccc23454")
 aaabbbccc
 
 &gt; regex("(\\d\\d\\d\\d)-(\\d\\d)-(\\d\\d)", "2019-02-01")
 [
   "2019",
   "02",
   "01",
 ]
 
 &gt; regex("^(?:(?P&lt;scheme&gt;[^:/?#]+):)?(?://(?P&lt;authority&gt;[^/?#]*))?", "https://terraform.io/docs/")
 {
   "authority" = "terraform.io"
   "scheme" = "https"
 }
 
 &gt; regex("[a-z]+", "53453453.34534523454")
 
 Error: Error in function call
 
 Call to function "regex" failed: pattern did not match any part of the given
 string.
 </code></pre>
  </div>
  <h2 id="related-functions">
   <a class="anchor" href="#related-functions" name="related-functions">
    »
   </a>
   Related Functions
  </h2>
  <ul>
   <li>
    <a href="/docs/language/functions/regexall.html">
     <code>
      regexall
     </code>
    </a>
    searches for potentially multiple matches of a given pattern in a string.
   </li>
   <li>
    <a href="/docs/language/functions/replace.html">
     <code>
      replace
     </code>
    </a>
    replaces a substring of a string with another string, optionally matching using the same regular expression syntax as
    <code>
     regex
    </code>
    .
   </li>
  </ul>
  <p>
   If Terraform already has a more specialized function to parse the syntax you
 are trying to match, prefer to use that function instead. Regular expressions
 can be hard to read and can obscure your intent, making a configuration harder
 to read and understand.
  </p>
 </div>
 
 <!-- ########### String Functions : replace ############### -->
 <!-- ########### https://www.terraform.io/docs/language/functions/regexall.html ############### --
 ><!-- ########### String Functions : replace ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="regexall-function">
    <a class="anchor" href="#regexall-function" name="regexall-function">
     »
    </a>
    <code>
     regexall
    </code>
    Function
   </h1>
  </div>
  <p>
   <code>
    regexall
   </code>
   applies a
   <a href="https://en.wikipedia.org/wiki/Regular_expression">
    regular expression
   </a>
   to a string and returns a list of all matches.
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">regexall</span><span class="p">(</span><span class="n">pattern</span><span class="p">,</span> <span class="n">string</span><span class="p">)</span>
 </code></pre>
  </div>
  <p>
   <code>
    regexall
   </code>
   is a variant of
   <a href="/docs/language/functions/regex.html">
    <code>
     regex
    </code>
   </a>
   and uses the same pattern
 syntax. For any given input to
   <code>
    regex
   </code>
   ,
   <code>
    regexall
   </code>
   returns a list of whatever
 type
   <code>
    regex
   </code>
   would've returned, with one element per match. That is:
  </p>
  <ul>
   <li>
    If the pattern has no capture groups at all, the result is a list of
 strings.
   </li>
   <li>
    If the pattern has one or more
    <em>
     unnamed
    </em>
    capture groups, the result is a
 list of lists.
   </li>
   <li>
    If the pattern has one or more
    <em>
     named
    </em>
    capture groups, the result is a
 list of maps.
   </li>
  </ul>
  <p>
   <code>
    regexall
   </code>
   can also be used to test whether a particular string matches a
 given pattern, by testing whether the length of the resulting list of matches
 is greater than zero.
  </p>
  <h2 id="examples">
   <a class="anchor" href="#examples" name="examples">
    »
   </a>
   Examples
  </h2>
  <div class="highlight">
   <pre class="highlight plaintext"><code>&gt; regexall("[a-z]+", "1234abcd5678efgh9")
 [
   "abcd",
   "efgh",
 ]
 
 &gt; length(regexall("[a-z]+", "1234abcd5678efgh9"))
 2
 
 &gt; length(regexall("[a-z]+", "123456789")) &gt; 0
 false
 </code></pre>
  </div>
  <h2 id="related-functions">
   <a class="anchor" href="#related-functions" name="related-functions">
    »
   </a>
   Related Functions
  </h2>
  <ul>
   <li>
    <a href="/docs/language/functions/regex.html">
     <code>
      regex
     </code>
    </a>
    searches for a single match of a given pattern, and
 returns an error if no match is found.
   </li>
  </ul>
  <p>
   If Terraform already has a more specialized function to parse the syntax you
 are trying to match, prefer to use that function instead. Regular expressions
 can be hard to read and can obscure your intent, making a configuration harder
 to read and understand.
  </p>
 </div>
 
 <!-- ########### String Functions : split ############### -->
 <!-- ########### https://www.terraform.io/docs/language/functions/replace.html ############### --
 ><!-- ########### String Functions : split ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="replace-function">
    <a class="anchor" href="#replace-function" name="replace-function">
     »
    </a>
    <code>
     replace
    </code>
    Function
   </h1>
  </div>
  <p>
   <code>
    replace
   </code>
   searches a given string for another given substring, and replaces
 each occurrence with a given replacement string.
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">replace</span><span class="p">(</span><span class="n">string</span><span class="p">,</span> <span class="n">substring</span><span class="p">,</span> <span class="n">replacement</span><span class="p">)</span>
 </code></pre>
  </div>
  <p>
   If
   <code>
    substring
   </code>
   is wrapped in forward slashes, it is treated as a regular
 expression, using the same pattern syntax as
   <a href="/docs/language/functions/regex.html">
    <code>
     regex
    </code>
   </a>
   . If using a regular expression for the substring
 argument, the
   <code>
    replacement
   </code>
   string can incorporate captured strings from
 the input by using an
   <code>
    $n
   </code>
   sequence, where
   <code>
    n
   </code>
   is the index or name of a
 capture group.
  </p>
  <h2 id="examples">
   <a class="anchor" href="#examples" name="examples">
    »
   </a>
   Examples
  </h2>
  <div class="highlight">
   <pre class="highlight plaintext"><code>&gt; replace("1 + 2 + 3", "+", "-")
 1 - 2 - 3
 
 &gt; replace("hello world", "/w.*d/", "everybody")
 hello everybody
 </code></pre>
  </div>
  <h2 id="related-functions">
   <a class="anchor" href="#related-functions" name="related-functions">
    »
   </a>
   Related Functions
  </h2>
  <ul>
   <li>
    <a href="/docs/language/functions/regex.html">
     <code>
      regex
     </code>
    </a>
    searches a given string for a substring matching a
 given regular expression pattern.
   </li>
  </ul>
 </div>
 
 <!-- ########### String Functions : strrev ############### -->
 <!-- ########### https://www.terraform.io/docs/language/functions/split.html ############### --
 ><!-- ########### String Functions : strrev ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="split-function">
    <a class="anchor" href="#split-function" name="split-function">
     »
    </a>
    <code>
     split
    </code>
    Function
   </h1>
  </div>
  <p>
   <code>
    split
   </code>
   produces a list by dividing a given string at all occurrences of a
 given separator.
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="nb">split</span><span class="p">(</span><span class="n">separator</span><span class="p">,</span> <span class="n">string</span><span class="p">)</span>
 </code></pre>
  </div>
  <h2 id="examples">
   <a class="anchor" href="#examples" name="examples">
    »
   </a>
   Examples
  </h2>
  <div class="highlight">
   <pre class="highlight plaintext"><code>&gt; split(",", "foo,bar,baz")
 [
   "foo",
   "bar",
   "baz",
 ]
 &gt; split(",", "foo")
 [
   "foo",
 ]
 &gt; split(",", "")
 [
   "",
 ]
 </code></pre>
  </div>
  <h2 id="related-functions">
   <a class="anchor" href="#related-functions" name="related-functions">
    »
   </a>
   Related Functions
  </h2>
  <ul>
   <li>
    <a href="/docs/language/functions/join.html">
     <code>
      join
     </code>
    </a>
    performs the opposite operation: producing a string
 joining together a list of strings with a given separator.
   </li>
  </ul>
 </div>
 
 <!-- ########### String Functions : substr ############### -->
 <!-- ########### https://www.terraform.io/docs/language/functions/strrev.html ############### --
 ><!-- ########### String Functions : substr ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="strrev-function">
    <a class="anchor" href="#strrev-function" name="strrev-function">
     »
    </a>
    <code>
     strrev
    </code>
    Function
   </h1>
  </div>
  <p>
   <code>
    strrev
   </code>
   reverses the characters in a string.
 Note that the characters are treated as
   <em>
    Unicode characters
   </em>
   (in technical terms, Unicode
   <a href="https://unicode.org/reports/tr29/#Grapheme_Cluster_Boundaries">
    grapheme cluster boundaries
   </a>
   are respected).
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">strrev</span><span class="p">(</span><span class="n">string</span><span class="p">)</span>
 </code></pre>
  </div>
  <h2 id="examples">
   <a class="anchor" href="#examples" name="examples">
    »
   </a>
   Examples
  </h2>
  <div class="highlight">
   <pre class="highlight plaintext"><code>&gt; strrev("hello")
 olleh
 &gt; strrev("a ☃")
 ☃ a
 </code></pre>
  </div>
  <h2 id="related-functions">
   <a class="anchor" href="#related-functions" name="related-functions">
    »
   </a>
   Related Functions
  </h2>
  <ul>
   <li>
    <a href="/docs/language/functions/reverse.html">
     <code>
      reverse
     </code>
    </a>
    reverses a sequence.
   </li>
  </ul>
 </div>
 
 <!-- ########### String Functions : title ############### -->
 <!-- ########### https://www.terraform.io/docs/language/functions/substr.html ############### --
 ><!-- ########### String Functions : title ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="substr-function">
    <a class="anchor" href="#substr-function" name="substr-function">
     »
    </a>
    <code>
     substr
    </code>
    Function
   </h1>
  </div>
  <p>
   <code>
    substr
   </code>
   extracts a substring from a given string by offset and length.
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">substr</span><span class="p">(</span><span class="n">string</span><span class="p">,</span> <span class="n">offset</span><span class="p">,</span> <span class="n">length</span><span class="p">)</span>
 </code></pre>
  </div>
  <h2 id="examples">
   <a class="anchor" href="#examples" name="examples">
    »
   </a>
   Examples
  </h2>
  <div class="highlight">
   <pre class="highlight plaintext"><code>&gt; substr("hello world", 1, 4)
 ello
 </code></pre>
  </div>
  <p>
   The offset and length are both counted in
   <em>
    unicode characters
   </em>
   rather than
 bytes:
  </p>
  <div class="highlight">
   <pre class="highlight plaintext"><code>&gt; substr("🤔🤷", 0, 1)
 🤔
 </code></pre>
  </div>
 </div>
 
 <!-- ########### String Functions : trim ############### -->
 <!-- ########### https://www.terraform.io/docs/language/functions/title.html ############### --
 ><!-- ########### String Functions : trim ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="title-function">
    <a class="anchor" href="#title-function" name="title-function">
     »
    </a>
    <code>
     title
    </code>
    Function
   </h1>
  </div>
  <p>
   <code>
    title
   </code>
   converts the first letter of each word in the given string to uppercase.
  </p>
  <h2 id="examples">
   <a class="anchor" href="#examples" name="examples">
    »
   </a>
   Examples
  </h2>
  <div class="highlight">
   <pre class="highlight plaintext"><code>&gt; title("hello world")
 Hello World
 </code></pre>
  </div>
  <p>
   This function uses Unicode's definition of letters and of upper- and lowercase.
  </p>
  <h2 id="related-functions">
   <a class="anchor" href="#related-functions" name="related-functions">
    »
   </a>
   Related Functions
  </h2>
  <ul>
   <li>
    <a href="/docs/language/functions/upper.html">
     <code>
      upper
     </code>
    </a>
    converts
    <em>
     all
    </em>
    letters in a string to uppercase.
   </li>
   <li>
    <a href="/docs/language/functions/lower.html">
     <code>
      lower
     </code>
    </a>
    converts all letters in a string to lowercase.
   </li>
  </ul>
 </div>
 
 <!-- ########### String Functions : trimprefix ############### -->
 <!-- ########### https://www.terraform.io/docs/language/functions/trim.html ############### --
 ><!-- ########### String Functions : trimprefix ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="trim-function">
    <a class="anchor" href="#trim-function" name="trim-function">
     »
    </a>
    <code>
     trim
    </code>
    Function
   </h1>
  </div>
  <p>
   <code>
    trim
   </code>
   removes the specified characters from the start and end of the given
 string.
  </p>
  <h2 id="examples">
   <a class="anchor" href="#examples" name="examples">
    »
   </a>
   Examples
  </h2>
  <div class="highlight">
   <pre class="highlight plaintext"><code>&gt; trim("?!hello?!", "!?")
 hello
 </code></pre>
  </div>
  <h2 id="related-functions">
   <a class="anchor" href="#related-functions" name="related-functions">
    »
   </a>
   Related Functions
  </h2>
  <ul>
   <li>
    <a href="/docs/language/functions/trimprefix.html">
     <code>
      trimprefix
     </code>
    </a>
    removes a word from the start of a string.
   </li>
   <li>
    <a href="/docs/language/functions/trimsuffix.html">
     <code>
      trimsuffix
     </code>
    </a>
    removes a word from the end of a string.
   </li>
   <li>
    <a href="/docs/language/functions/trimspace.html">
     <code>
      trimspace
     </code>
    </a>
    removes all types of whitespace from
 both the start and the end of a string.
   </li>
  </ul>
 </div>
 
 <!-- ########### String Functions : trimsuffix ############### -->
 <!-- ########### https://www.terraform.io/docs/language/functions/trimprefix.html ############### --
 ><!-- ########### String Functions : trimsuffix ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="trimprefix-function">
    <a class="anchor" href="#trimprefix-function" name="trimprefix-function">
     »
    </a>
    <code>
     trimprefix
    </code>
    Function
   </h1>
  </div>
  <p>
   <code>
    trimprefix
   </code>
   removes the specified prefix from the start of the given string. If the string does not start with the prefix, the string is returned unchanged.
  </p>
  <h2 id="examples">
   <a class="anchor" href="#examples" name="examples">
    »
   </a>
   Examples
  </h2>
  <div class="highlight">
   <pre class="highlight plaintext"><code>&gt; trimprefix("helloworld", "hello")
 world
 </code></pre>
  </div>
  <div class="highlight">
   <pre class="highlight plaintext"><code>&gt; trimprefix("helloworld", "cat")
 helloworld
 </code></pre>
  </div>
  <h2 id="related-functions">
   <a class="anchor" href="#related-functions" name="related-functions">
    »
   </a>
   Related Functions
  </h2>
  <ul>
   <li>
    <a href="/docs/language/functions/trim.html">
     <code>
      trim
     </code>
    </a>
    removes characters at the start and end of a string.
   </li>
   <li>
    <a href="/docs/language/functions/trimsuffix.html">
     <code>
      trimsuffix
     </code>
    </a>
    removes a word from the end of a string.
   </li>
   <li>
    <a href="/docs/language/functions/trimspace.html">
     <code>
      trimspace
     </code>
    </a>
    removes all types of whitespace from
 both the start and the end of a string.
   </li>
  </ul>
 </div>
 
 <!-- ########### String Functions : trimspace ############### -->
 <!-- ########### https://www.terraform.io/docs/language/functions/trimsuffix.html ############### --
 ><!-- ########### String Functions : trimspace ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="trimsuffix-function">
    <a class="anchor" href="#trimsuffix-function" name="trimsuffix-function">
     »
    </a>
    <code>
     trimsuffix
    </code>
    Function
   </h1>
  </div>
  <p>
   <code>
    trimsuffix
   </code>
   removes the specified suffix from the end of the given string.
  </p>
  <h2 id="examples">
   <a class="anchor" href="#examples" name="examples">
    »
   </a>
   Examples
  </h2>
  <div class="highlight">
   <pre class="highlight plaintext"><code>&gt; trimsuffix("helloworld", "world")
 hello
 </code></pre>
  </div>
  <h2 id="related-functions">
   <a class="anchor" href="#related-functions" name="related-functions">
    »
   </a>
   Related Functions
  </h2>
  <ul>
   <li>
    <a href="/docs/language/functions/trim.html">
     <code>
      trim
     </code>
    </a>
    removes characters at the start and end of a string.
   </li>
   <li>
    <a href="/docs/language/functions/trimprefix.html">
     <code>
      trimprefix
     </code>
    </a>
    removes a word from the start of a string.
   </li>
   <li>
    <a href="/docs/language/functions/trimspace.html">
     <code>
      trimspace
     </code>
    </a>
    removes all types of whitespace from
 both the start and the end of a string.
   </li>
  </ul>
 </div>
 
 <!-- ########### String Functions : upper ############### -->
 <!-- ########### https://www.terraform.io/docs/language/functions/trimspace.html ############### --
 ><!-- ########### String Functions : upper ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="trimspace-function">
    <a class="anchor" href="#trimspace-function" name="trimspace-function">
     »
    </a>
    <code>
     trimspace
    </code>
    Function
   </h1>
  </div>
  <p>
   <code>
    trimspace
   </code>
   removes any space characters from the start and end of the given
 string.
  </p>
  <p>
   This function follows the Unicode definition of "space", which includes
 regular spaces, tabs, newline characters, and various other space-like
 characters.
  </p>
  <h2 id="examples">
   <a class="anchor" href="#examples" name="examples">
    »
   </a>
   Examples
  </h2>
  <div class="highlight">
   <pre class="highlight plaintext"><code>&gt; trimspace("  hello\n\n")
 hello
 </code></pre>
  </div>
  <h2 id="related-functions">
   <a class="anchor" href="#related-functions" name="related-functions">
    »
   </a>
   Related Functions
  </h2>
  <ul>
   <li>
    <a href="/docs/language/functions/chomp.html">
     <code>
      chomp
     </code>
    </a>
    removes just line ending characters from the
    <em>
     end
    </em>
    of
 a string.
   </li>
  </ul>
 </div>
 
 <!-- ########### Collection Functions : alltrue ############### -->
 <!-- ########### https://www.terraform.io/docs/language/functions/upper.html ############### --
 ><!-- ########### Collection Functions : alltrue ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="upper-function">
    <a class="anchor" href="#upper-function" name="upper-function">
     »
    </a>
    <code>
     upper
    </code>
    Function
   </h1>
  </div>
  <p>
   <code>
    upper
   </code>
   converts all cased letters in the given string to uppercase.
  </p>
  <h2 id="examples">
   <a class="anchor" href="#examples" name="examples">
    »
   </a>
   Examples
  </h2>
  <div class="highlight">
   <pre class="highlight plaintext"><code>&gt; upper("hello")
 HELLO
 &gt; upper("алло!")
 АЛЛО!
 </code></pre>
  </div>
  <p>
   This function uses Unicode's definition of letters and of upper- and lowercase.
  </p>
  <h2 id="related-functions">
   <a class="anchor" href="#related-functions" name="related-functions">
    »
   </a>
   Related Functions
  </h2>
  <ul>
   <li>
    <a href="/docs/language/functions/lower.html">
     <code>
      lower
     </code>
    </a>
    converts letters in a string to
    <em>
     lowercase
    </em>
    .
   </li>
   <li>
    <a href="/docs/language/functions/title.html">
     <code>
      title
     </code>
    </a>
    converts the first letter of each word in a string to uppercase.
   </li>
  </ul>
 </div>
 
 <!-- ########### Collection Functions : anytrue ############### -->
 <!-- ########### https://www.terraform.io/docs/language/functions/alltrue.html ############### --
 ><!-- ########### Collection Functions : anytrue ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="alltrue-function">
    <a class="anchor" href="#alltrue-function" name="alltrue-function">
     »
    </a>
    <code>
     alltrue
    </code>
    Function
   </h1>
  </div>
  <div class="alert alert-info" role="alert">
   <p>
    <strong>
     Note:
    </strong>
    This function is available in Terraform 0.14 and later.
   </p>
  </div>
  <p>
   <code>
    alltrue
   </code>
   returns
   <code>
    true
   </code>
   if all elements in a given collection are
   <code>
    true
   </code>
   or
   <code>
    "true"
   </code>
   . It also returns
   <code>
    true
   </code>
   if the collection is empty.
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">alltrue</span><span class="p">(</span><span class="n">list</span><span class="p">)</span>
 </code></pre>
  </div>
  <h2 id="examples">
   <a class="anchor" href="#examples" name="examples">
    »
   </a>
   Examples
  </h2>
  <div class="highlight">
   <pre class="highlight plaintext"><code>&gt; alltrue(["true", true])
 true
 &gt; alltrue([true, false])
 false
 </code></pre>
  </div>
 </div>
 
 <!-- ########### Collection Functions : chunklist ############### -->
 <!-- ########### https://www.terraform.io/docs/language/functions/anytrue.html ############### --
 ><!-- ########### Collection Functions : chunklist ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="anytrue-function">
    <a class="anchor" href="#anytrue-function" name="anytrue-function">
     »
    </a>
    <code>
     anytrue
    </code>
    Function
   </h1>
  </div>
  <div class="alert alert-info" role="alert">
   <p>
    <strong>
     Note:
    </strong>
    This function is available in Terraform 0.14 and later.
   </p>
  </div>
  <p>
   <code>
    anytrue
   </code>
   returns
   <code>
    true
   </code>
   if any element in a given collection is
   <code>
    true
   </code>
   or
   <code>
    "true"
   </code>
   . It also returns
   <code>
    false
   </code>
   if the collection is empty.
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">anytrue</span><span class="p">(</span><span class="n">list</span><span class="p">)</span>
 </code></pre>
  </div>
  <h2 id="examples">
   <a class="anchor" href="#examples" name="examples">
    »
   </a>
   Examples
  </h2>
  <div class="highlight">
   <pre class="highlight plaintext"><code>&gt; anytrue(["true"])
 true
 &gt; anytrue([true])
 true
 &gt; anytrue([true, false])
 true
 &gt; anytrue([])
 false
 </code></pre>
  </div>
 </div>
 
 <!-- ########### Collection Functions : coalesce ############### -->
 <!-- ########### https://www.terraform.io/docs/language/functions/chunklist.html ############### --
 ><!-- ########### Collection Functions : coalesce ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="chunklist-function">
    <a class="anchor" href="#chunklist-function" name="chunklist-function">
     »
    </a>
    <code>
     chunklist
    </code>
    Function
   </h1>
  </div>
  <p>
   <code>
    chunklist
   </code>
   splits a single list into fixed-size chunks, returning a list
 of lists.
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">chunklist</span><span class="p">(</span><span class="n">list</span><span class="p">,</span> <span class="n">chunk_size</span><span class="p">)</span>
 </code></pre>
  </div>
  <h2 id="examples">
   <a class="anchor" href="#examples" name="examples">
    »
   </a>
   Examples
  </h2>
  <div class="highlight">
   <pre class="highlight plaintext"><code>&gt; chunklist(["a", "b", "c", "d", "e"], 2)
 [
   [
     "a",
     "b",
   ],
   [
     "c",
     "d",
   ],
   [
     "e",
   ],
 ]
 &gt; chunklist(["a", "b", "c", "d", "e"], 1)
 [
   [
     "a",
   ],
   [
     "b",
   ],
   [
     "c",
   ],
   [
     "d",
   ],
   [
     "e",
   ],
 ]
 </code></pre>
  </div>
 </div>
 
 <!-- ########### Collection Functions : coalescelist ############### -->
 <!-- ########### https://www.terraform.io/docs/language/functions/coalesce.html ############### --
 ><!-- ########### Collection Functions : coalescelist ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="coalesce-function">
    <a class="anchor" href="#coalesce-function" name="coalesce-function">
     »
    </a>
    <code>
     coalesce
    </code>
    Function
   </h1>
  </div>
  <p>
   <code>
    coalesce
   </code>
   takes any number of arguments and returns the first one
 that isn't null or an empty string.
  </p>
  <h2 id="examples">
   <a class="anchor" href="#examples" name="examples">
    »
   </a>
   Examples
  </h2>
  <div class="highlight">
   <pre class="highlight plaintext"><code>&gt; coalesce("a", "b")
 a
 &gt; coalesce("", "b")
 b
 &gt; coalesce(1,2)
 1
 </code></pre>
  </div>
  <p>
   To perform the
   <code>
    coalesce
   </code>
   operation with a list of strings, use the
   <code>
    ...
   </code>
   symbol to expand the list as arguments:
  </p>
  <div class="highlight">
   <pre class="highlight plaintext"><code>&gt; coalesce(["", "b"]...)
 b
 </code></pre>
  </div>
  <h2 id="related-functions">
   <a class="anchor" href="#related-functions" name="related-functions">
    »
   </a>
   Related Functions
  </h2>
  <ul>
   <li>
    <a href="/docs/language/functions/coalescelist.html">
     <code>
      coalescelist
     </code>
    </a>
    performs a similar operation with
 list arguments rather than individual arguments.
   </li>
  </ul>
 </div>
 
 <!-- ########### Collection Functions : compact ############### -->
 <!-- ########### https://www.terraform.io/docs/language/functions/coalescelist.html ############### --
 ><!-- ########### Collection Functions : compact ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="coalescelist-function">
    <a class="anchor" href="#coalescelist-function" name="coalescelist-function">
     »
    </a>
    <code>
     coalescelist
    </code>
    Function
   </h1>
  </div>
  <p>
   <code>
    coalescelist
   </code>
   takes any number of list arguments and returns the first one
 that isn't empty.
  </p>
  <h2 id="examples">
   <a class="anchor" href="#examples" name="examples">
    »
   </a>
   Examples
  </h2>
  <div class="highlight">
   <pre class="highlight plaintext"><code>&gt; coalescelist(["a", "b"], ["c", "d"])
 [
   "a",
   "b",
 ]
 &gt; coalescelist([], ["c", "d"])
 [
   "c",
   "d",
 ]
 </code></pre>
  </div>
  <p>
   To perform the
   <code>
    coalescelist
   </code>
   operation with a list of lists, use the
   <code>
    ...
   </code>
   symbol to expand the outer list as arguments:
  </p>
  <div class="highlight">
   <pre class="highlight plaintext"><code>&gt; coalescelist([[], ["c", "d"]]...)
 [
   "c",
   "d",
 ]
 </code></pre>
  </div>
  <h2 id="related-functions">
   <a class="anchor" href="#related-functions" name="related-functions">
    »
   </a>
   Related Functions
  </h2>
  <ul>
   <li>
    <a href="/docs/language/functions/coalesce.html">
     <code>
      coalesce
     </code>
    </a>
    performs a similar operation with string
 arguments rather than list arguments.
   </li>
  </ul>
 </div>
 
 <!-- ########### Collection Functions : concat ############### -->
 <!-- ########### https://www.terraform.io/docs/language/functions/compact.html ############### --
 ><!-- ########### Collection Functions : concat ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="compact-function">
    <a class="anchor" href="#compact-function" name="compact-function">
     »
    </a>
    <code>
     compact
    </code>
    Function
   </h1>
  </div>
  <p>
   <code>
    compact
   </code>
   takes a list of strings and returns a new list with any empty string
 elements removed.
  </p>
  <h2 id="examples">
   <a class="anchor" href="#examples" name="examples">
    »
   </a>
   Examples
  </h2>
  <div class="highlight">
   <pre class="highlight plaintext"><code>&gt; compact(["a", "", "b", "c"])
 [
   "a",
   "b",
   "c",
 ]
 </code></pre>
  </div>
 </div>
 
 <!-- ########### Collection Functions : contains ############### -->
 <!-- ########### https://www.terraform.io/docs/language/functions/concat.html ############### --
 ><!-- ########### Collection Functions : contains ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="concat-function">
    <a class="anchor" href="#concat-function" name="concat-function">
     »
    </a>
    <code>
     concat
    </code>
    Function
   </h1>
  </div>
  <p>
   <code>
    concat
   </code>
   takes two or more lists and combines them into a single list.
  </p>
  <h2 id="examples">
   <a class="anchor" href="#examples" name="examples">
    »
   </a>
   Examples
  </h2>
  <div class="highlight">
   <pre class="highlight plaintext"><code>&gt; concat(["a", ""], ["b", "c"])
 [
   "a",
   "",
   "b",
   "c",
 ]
 </code></pre>
  </div>
 </div>
 
 <!-- ########### Collection Functions : distinct ############### -->
 <!-- ########### https://www.terraform.io/docs/language/functions/contains.html ############### --
 ><!-- ########### Collection Functions : distinct ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="contains-function">
    <a class="anchor" href="#contains-function" name="contains-function">
     »
    </a>
    <code>
     contains
    </code>
    Function
   </h1>
  </div>
  <p>
   <code>
    contains
   </code>
   determines whether a given list or set contains a given single value
 as one of its elements.
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">contains</span><span class="p">(</span><span class="n">list</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
 </code></pre>
  </div>
  <h2 id="examples">
   <a class="anchor" href="#examples" name="examples">
    »
   </a>
   Examples
  </h2>
  <div class="highlight">
   <pre class="highlight plaintext"><code>&gt; contains(["a", "b", "c"], "a")
 true
 &gt; contains(["a", "b", "c"], "d")
 false
 </code></pre>
  </div>
 </div>
 
 <!-- ########### Collection Functions : element ############### -->
 <!-- ########### https://www.terraform.io/docs/language/functions/distinct.html ############### --
 ><!-- ########### Collection Functions : element ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="distinct-function">
    <a class="anchor" href="#distinct-function" name="distinct-function">
     »
    </a>
    <code>
     distinct
    </code>
    Function
   </h1>
  </div>
  <p>
   <code>
    distinct
   </code>
   takes a list and returns a new list with any duplicate elements
 removed.
  </p>
  <p>
   The first occurrence of each value is retained and the relative ordering of
 these elements is preserved.
  </p>
  <h2 id="examples">
   <a class="anchor" href="#examples" name="examples">
    »
   </a>
   Examples
  </h2>
  <div class="highlight">
   <pre class="highlight plaintext"><code>&gt; distinct(["a", "b", "a", "c", "d", "b"])
 [
   "a",
   "b",
   "c",
   "d",
 ]
 </code></pre>
  </div>
 </div>
 
 <!-- ########### Collection Functions : flatten ############### -->
 <!-- ########### https://www.terraform.io/docs/language/functions/element.html ############### --
 ><!-- ########### Collection Functions : flatten ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="element-function">
    <a class="anchor" href="#element-function" name="element-function">
     »
    </a>
    <code>
     element
    </code>
    Function
   </h1>
  </div>
  <p>
   <code>
    element
   </code>
   retrieves a single element from a list.
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">element</span><span class="p">(</span><span class="n">list</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
 </code></pre>
  </div>
  <p>
   The index is zero-based. This function produces an error if used with an
 empty list. The index must be a non-negative integer.
  </p>
  <p>
   Use the built-in index syntax
   <code>
    list[index]
   </code>
   in most cases. Use this function
 only for the special additional "wrap-around" behavior described below.
  </p>
  <h2 id="examples">
   <a class="anchor" href="#examples" name="examples">
    »
   </a>
   Examples
  </h2>
  <div class="highlight">
   <pre class="highlight plaintext"><code>&gt; element(["a", "b", "c"], 1)
 b
 </code></pre>
  </div>
  <p>
   If the given index is greater than the length of the list then the index is
 "wrapped around" by taking the index modulo the length of the list:
  </p>
  <div class="highlight">
   <pre class="highlight plaintext"><code>&gt; element(["a", "b", "c"], 3)
 a
 </code></pre>
  </div>
  <p>
   To get the last element from the list use
   <a href="/docs/language/functions/length.html">
    <code>
     length
    </code>
   </a>
   to find
 the size of the list (minus 1 as the list is zero-based) and then pick the
 last element:
  </p>
  <div class="highlight">
   <pre class="highlight plaintext"><code>&gt; element(["a", "b", "c"], length(["a", "b", "c"])-1)
 c
 </code></pre>
  </div>
  <h2 id="related-functions">
   <a class="anchor" href="#related-functions" name="related-functions">
    »
   </a>
   Related Functions
  </h2>
  <ul>
   <li>
    <a href="/docs/language/functions/index.html">
     <code>
      index
     </code>
    </a>
    finds the index for a particular element value.
   </li>
   <li>
    <a href="/docs/language/functions/lookup.html">
     <code>
      lookup
     </code>
    </a>
    retrieves a value from a
    <em>
     map
    </em>
    given its
    <em>
     key
    </em>
    .
   </li>
  </ul>
 </div>
 
 <!-- ########### Collection Functions : index ############### -->
 <!-- ########### https://www.terraform.io/docs/language/functions/flatten.html ############### --
 ><!-- ########### Collection Functions : index ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="flatten-function">
    <a class="anchor" href="#flatten-function" name="flatten-function">
     »
    </a>
    <code>
     flatten
    </code>
    Function
   </h1>
   <div id="inner-quicknav">
    <span id="inner-quicknav-trigger">
     Jump to Section
     <svg height="5" width="9" xmlns="http://www.w3.org/2000/svg">
      <path d="M8.811 1.067a.612.612 0 0 0 0-.884.655.655 0 0 0-.908 0L4.5 3.491 1.097.183a.655.655 0 0 0-.909 0 .615.615 0 0 0 0 .884l3.857 3.75a.655.655 0 0 0 .91 0l3.856-3.75z" fill-rule="evenodd">
      </path>
     </svg>
    </span>
    <ul class="dropdown">
     <li class="level-h2">
      <a href="#examples">
       »
 Examples
      </a>
     </li>
     <li class="level-h2">
      <a href="#flattening-nested-structures-for-for_each">
       »
 Flattening nested structures for for_each
      </a>
     </li>
     <li class="level-h2">
      <a href="#related-functions">
       »
 Related Functions
      </a>
     </li>
    </ul>
   </div>
  </div>
  <p>
   <code>
    flatten
   </code>
   takes a list and replaces any elements that are lists with a
 flattened sequence of the list contents.
  </p>
  <h2 id="examples">
   <a class="anchor" href="#examples" name="examples">
    »
   </a>
   Examples
  </h2>
  <div class="highlight">
   <pre class="highlight plaintext"><code>&gt; flatten([["a", "b"], [], ["c"]])
 ["a", "b", "c"]
 </code></pre>
  </div>
  <p>
   If any of the nested lists also contain directly-nested lists, these too are
 flattened recursively:
  </p>
  <div class="highlight">
   <pre class="highlight plaintext"><code>&gt; flatten([[["a", "b"], []], ["c"]])
 ["a", "b", "c"]
 </code></pre>
  </div>
  <p>
   Indirectly-nested lists, such as those in maps, are
   <em>
    not
   </em>
   flattened.
  </p>
  <h2 id="flattening-nested-structures-for-for_each">
   <a class="anchor" href="#flattening-nested-structures-for-for_each" name="flattening-nested-structures-for-for_each">
    »
   </a>
   Flattening nested structures for
   <code>
    for_each
   </code>
  </h2>
  <p>
   The
   <a href="/docs/language/meta-arguments/for_each.html">
    resource
    <code>
     for_each
    </code>
   </a>
   and
   <a href="/docs/language/expressions/dynamic-blocks.html">
    <code>
     dynamic
    </code>
    block
   </a>
   language features both require a collection value that has one element for
 each repetition.
  </p>
  <p>
   Sometimes your input data structure isn't naturally in a suitable shape for
 use in a
   <code>
    for_each
   </code>
   argument, and
   <code>
    flatten
   </code>
   can be a useful helper function
 when reducing a nested data structure into a flat one.
  </p>
  <p>
   For example, consider a module that declares a variable like the following:
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">variable</span> <span class="s2">"networks"</span> <span class="p">{</span>
   <span class="n">type</span> <span class="o">=</span> <span class="n">map</span><span class="p">(</span><span class="n">object</span><span class="p">({</span>
     <span class="n">cidr_block</span> <span class="o">=</span> <span class="n">string</span>
     <span class="n">subnets</span>    <span class="o">=</span> <span class="n">map</span><span class="p">(</span><span class="n">object</span><span class="p">({</span> <span class="n">cidr_block</span> <span class="o">=</span> <span class="n">string</span> <span class="p">}))</span>
   <span class="p">}))</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <p>
   The above is a reasonable way to model objects that naturally form a tree,
 such as top-level networks and their subnets. The repetition for the top-level
 networks can use this variable directly, because it's already in a form
 where the resulting instances match one-to-one with map elements:
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">resource</span> <span class="s2">"aws_vpc"</span> <span class="s2">"example"</span> <span class="p">{</span>
   <span class="n">for_each</span> <span class="o">=</span> <span class="n">var</span><span class="p">.</span><span class="nf">networks</span>
 
   <span class="n">cidr_block</span> <span class="o">=</span> <span class="n">each</span><span class="p">.</span><span class="nf">value</span><span class="p">.</span><span class="nf">cidr_block</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <p>
   However, in order to declare all of the
   <em>
    subnets
   </em>
   with a single
   <code>
    resource
   </code>
   block, we must first flatten the structure to produce a collection where each
 top-level element represents a single subnet:
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">locals</span> <span class="p">{</span>
   <span class="c1"># flatten ensures that this local value is a flat list of objects, rather</span>
   <span class="c1"># than a list of lists of objects.</span>
   <span class="n">network_subnets</span> <span class="o">=</span> <span class="n">flatten</span><span class="p">([</span>
     <span class="k">for</span> <span class="n">network_key</span><span class="p">,</span> <span class="n">network</span> <span class="k">in</span> <span class="n">var</span><span class="p">.</span><span class="nf">networks</span> <span class="p">:</span> <span class="p">[</span>
       <span class="k">for</span> <span class="n">subnet_key</span><span class="p">,</span> <span class="n">subnet</span> <span class="k">in</span> <span class="n">network</span><span class="p">.</span><span class="nf">subnets</span> <span class="p">:</span> <span class="p">{</span>
         <span class="n">network_key</span> <span class="o">=</span> <span class="n">network_key</span>
         <span class="n">subnet_key</span>  <span class="o">=</span> <span class="n">subnet_key</span>
         <span class="n">network_id</span>  <span class="o">=</span> <span class="n">aws_vpc</span><span class="p">.</span><span class="nf">example</span><span class="p">[</span><span class="n">network_key</span><span class="p">].</span><span class="nf">id</span>
         <span class="n">cidr_block</span>  <span class="o">=</span> <span class="n">subnet</span><span class="p">.</span><span class="nf">cidr_block</span>
       <span class="p">}</span>
     <span class="p">]</span>
   <span class="p">])</span>
 <span class="p">}</span>
 
 <span class="n">resource</span> <span class="s2">"aws_subnet"</span> <span class="s2">"example"</span> <span class="p">{</span>
   <span class="c1"># local.network_subnets is a list, so we must now project it into a map</span>
   <span class="c1"># where each key is unique. We'll combine the network and subnet keys to</span>
   <span class="c1"># produce a single unique key per instance.</span>
   <span class="n">for_each</span> <span class="o">=</span> <span class="p">{</span>
     <span class="k">for</span> <span class="n">subnet</span> <span class="k">in</span> <span class="n">local</span><span class="p">.</span><span class="nf">network_subnets</span> <span class="p">:</span> <span class="s2">"${subnet.network_key}.${subnet.subnet_key}"</span> <span class="o">=&gt;</span> <span class="n">subnet</span>
   <span class="p">}</span>
 
   <span class="n">vpc_id</span>            <span class="o">=</span> <span class="n">each</span><span class="p">.</span><span class="nf">value</span><span class="p">.</span><span class="nf">network_id</span>
   <span class="n">availability_zone</span> <span class="o">=</span> <span class="n">each</span><span class="p">.</span><span class="nf">value</span><span class="p">.</span><span class="nf">subnet_key</span>
   <span class="n">cidr_block</span>        <span class="o">=</span> <span class="n">each</span><span class="p">.</span><span class="nf">value</span><span class="p">.</span><span class="nf">cidr_block</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <p>
   The above results in one subnet instance per subnet object, while retaining
 the associations between the subnets and their containing networks.
  </p>
  <h2 id="related-functions">
   <a class="anchor" href="#related-functions" name="related-functions">
    »
   </a>
   Related Functions
  </h2>
  <ul>
   <li>
    <a href="/docs/language/functions/setproduct.html">
     <code>
      setproduct
     </code>
    </a>
    finds all of the combinations of multiple
 lists or sets of values, which can also be useful when preparing collections
 for use with
    <code>
     for_each
    </code>
    constructs.
   </li>
  </ul>
 </div>
 
 <!-- ########### Collection Functions : keys ############### -->
 <!-- ########### https://www.terraform.io/docs/language/functions/index_function.html ############### --
 ><!-- ########### Collection Functions : keys ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="index-function">
    <a class="anchor" href="#index-function" name="index-function">
     »
    </a>
    <code>
     index
    </code>
    Function
   </h1>
  </div>
  <p>
   <code>
    index
   </code>
   finds the element index for a given value in a list.
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">index</span><span class="p">(</span><span class="n">list</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
 </code></pre>
  </div>
  <p>
   The returned index is zero-based. This function produces an error if the given
 value is not present in the list.
  </p>
  <h2 id="examples">
   <a class="anchor" href="#examples" name="examples">
    »
   </a>
   Examples
  </h2>
  <div class="highlight">
   <pre class="highlight plaintext"><code>&gt; index(["a", "b", "c"], "b")
 1
 </code></pre>
  </div>
  <h2 id="related-functions">
   <a class="anchor" href="#related-functions" name="related-functions">
    »
   </a>
   Related Functions
  </h2>
  <ul>
   <li>
    <a href="/docs/language/functions/element.html">
     <code>
      element
     </code>
    </a>
    retrieves a particular element from a list given
 its index.
   </li>
  </ul>
 </div>
 
 <!-- ########### Collection Functions : length ############### -->
 <!-- ########### https://www.terraform.io/docs/language/functions/keys.html ############### --
 ><!-- ########### Collection Functions : length ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="keys-function">
    <a class="anchor" href="#keys-function" name="keys-function">
     »
    </a>
    <code>
     keys
    </code>
    Function
   </h1>
  </div>
  <p>
   <code>
    keys
   </code>
   takes a map and returns a list containing the keys from that map.
  </p>
  <p>
   The keys are returned in lexicographical order, ensuring that the result will
 be identical as long as the keys in the map don't change.
  </p>
  <h2 id="examples">
   <a class="anchor" href="#examples" name="examples">
    »
   </a>
   Examples
  </h2>
  <div class="highlight">
   <pre class="highlight plaintext"><code>&gt; keys({a=1, c=2, d=3})
 [
   "a",
   "c",
   "d",
 ]
 </code></pre>
  </div>
  <h2 id="related-functions">
   <a class="anchor" href="#related-functions" name="related-functions">
    »
   </a>
   Related Functions
  </h2>
  <ul>
   <li>
    <a href="/docs/language/functions/values.html">
     <code>
      values
     </code>
    </a>
    returns a list of the
    <em>
     values
    </em>
    from a map.
   </li>
  </ul>
 </div>
 
 <!-- ########### Collection Functions : list ############### -->
 <!-- ########### https://www.terraform.io/docs/language/functions/length.html ############### --
 ><!-- ########### Collection Functions : list ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="length-function">
    <a class="anchor" href="#length-function" name="length-function">
     »
    </a>
    <code>
     length
    </code>
    Function
   </h1>
  </div>
  <p>
   <code>
    length
   </code>
   determines the length of a given list, map, or string.
  </p>
  <p>
   If given a list or map, the result is the number of elements in that collection.
 If given a string, the result is the number of characters in the string.
  </p>
  <h2 id="examples">
   <a class="anchor" href="#examples" name="examples">
    »
   </a>
   Examples
  </h2>
  <div class="highlight">
   <pre class="highlight plaintext"><code>&gt; length([])
 0
 &gt; length(["a", "b"])
 2
 &gt; length({"a" = "b"})
 1
 &gt; length("hello")
 5
 </code></pre>
  </div>
  <p>
   When given a string, the result is the number of characters, rather than the
 number of bytes or Unicode sequences that form them:
  </p>
  <div class="highlight">
   <pre class="highlight plaintext"><code>&gt; length("👾🕹️")
 2
 </code></pre>
  </div>
  <p>
   A "character" is a
   <em>
    grapheme cluster
   </em>
   , as defined by
   <a href="http://unicode.org/reports/tr29/">
    Unicode Standard Annex #29
   </a>
   . Note that
 remote APIs may have a different definition of "character" for the purpose of
 length limits on string arguments; a Terraform provider is responsible for
 translating Terraform's string representation into that used by its respective
 remote system and applying any additional validation rules to it.
  </p>
 </div>
 
 <!-- ########### Collection Functions : lookup ############### -->
 <!-- ########### https://www.terraform.io/docs/language/functions/list.html ############### --
 ><!-- ########### Collection Functions : lookup ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="list-function">
    <a class="anchor" href="#list-function" name="list-function">
     »
    </a>
    <code>
     list
    </code>
    Function
   </h1>
  </div>
  <div class="alert alert-warning" role="alert">
   <p>
    <strong>
     This function is deprecated.
    </strong>
    From Terraform v0.12, the Terraform
 language has built-in syntax for creating lists using the
    <code>
     [
    </code>
    and
    <code>
     ]
    </code>
    delimiters. Use the built-in syntax instead. The
    <code>
     list
    </code>
    function will be
 removed in a future version of Terraform.
   </p>
  </div>
  <p>
   <code>
    list
   </code>
   takes an arbitrary number of arguments and returns a list containing
 those values in the same order.
  </p>
  <h2 id="examples">
   <a class="anchor" href="#examples" name="examples">
    »
   </a>
   Examples
  </h2>
  <div class="highlight">
   <pre class="highlight plaintext"><code>&gt; list("a", "b", "c")
 [
   "a",
   "b",
   "c",
 ]
 </code></pre>
  </div>
  <p>
   Do not use the above form in Terraform v0.12 or above. Instead, use the
 built-in list construction syntax, which achieves the same result:
  </p>
  <div class="highlight">
   <pre class="highlight plaintext"><code>&gt; ["a", "b", "c"]
 [
   "a",
   "b",
   "c",
 ]
 </code></pre>
  </div>
  <h2 id="related-functions">
   <a class="anchor" href="#related-functions" name="related-functions">
    »
   </a>
   Related Functions
  </h2>
  <ul>
   <li>
    <a href="/docs/language/functions/tolist.html">
     <code>
      tolist
     </code>
    </a>
    converts a set value to a list.
   </li>
  </ul>
 </div>
 
 <!-- ########### Collection Functions : map ############### -->
 <!-- ########### https://www.terraform.io/docs/language/functions/lookup.html ############### --
 ><!-- ########### Collection Functions : map ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="lookup-function">
    <a class="anchor" href="#lookup-function" name="lookup-function">
     »
    </a>
    <code>
     lookup
    </code>
    Function
   </h1>
  </div>
  <p>
   <code>
    lookup
   </code>
   retrieves the value of a single element from a map, given its key.
 If the given key does not exist, the given default value is returned instead.
  </p>
  <div class="highlight">
   <pre class="highlight plaintext"><code>lookup(map, key, default)
 </code></pre>
  </div>
  <div class="alert alert-info" role="alert">
   <p>
    For historical reasons, the
    <code>
     default
    </code>
    parameter is actually optional. However,
 omitting
    <code>
     default
    </code>
    is deprecated since v0.7 because that would then be
 equivalent to the native index syntax,
    <code>
     map[key]
    </code>
    .
   </p>
  </div>
  <h2 id="examples">
   <a class="anchor" href="#examples" name="examples">
    »
   </a>
   Examples
  </h2>
  <div class="highlight">
   <pre class="highlight plaintext"><code>&gt; lookup({a="ay", b="bee"}, "a", "what?")
 ay
 &gt; lookup({a="ay", b="bee"}, "c", "what?")
 what?
 </code></pre>
  </div>
  <h2 id="related-functions">
   <a class="anchor" href="#related-functions" name="related-functions">
    »
   </a>
   Related Functions
  </h2>
  <ul>
   <li>
    <a href="/docs/language/functions/element.html">
     <code>
      element
     </code>
    </a>
    retrieves a value from a
    <em>
     list
    </em>
    given its
    <em>
     index
    </em>
    .
   </li>
  </ul>
 </div>
 
 <!-- ########### Collection Functions : matchkeys ############### -->
 <!-- ########### https://www.terraform.io/docs/language/functions/map.html ############### --
 ><!-- ########### Collection Functions : matchkeys ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="map-function">
    <a class="anchor" href="#map-function" name="map-function">
     »
    </a>
    <code>
     map
    </code>
    Function
   </h1>
  </div>
  <div class="alert alert-warning" role="alert">
   <p>
    <strong>
     This function is deprecated.
    </strong>
    From Terraform v0.12, the Terraform
 language has built-in syntax for creating maps using the
    <code>
     {
    </code>
    and
    <code>
     }
    </code>
    delimiters. Use the built-in syntax instead. The
    <code>
     map
    </code>
    function will be
 removed in a future version of Terraform.
   </p>
  </div>
  <p>
   <code>
    map
   </code>
   takes an even number of arguments and returns a map whose elements
 are constructed from consecutive pairs of arguments.
  </p>
  <h2 id="examples">
   <a class="anchor" href="#examples" name="examples">
    »
   </a>
   Examples
  </h2>
  <div class="highlight">
   <pre class="highlight plaintext"><code>&gt; map("a", "b", "c", "d")
 {
   "a" = "b"
   "c" = "d"
 }
 </code></pre>
  </div>
  <p>
   Do not use the above form in Terraform v0.12 or above. Instead, use the
 built-in map construction syntax, which achieves the same result:
  </p>
  <div class="highlight">
   <pre class="highlight plaintext"><code>&gt; {"a" = "b", "c" = "d"}
 {
   "a" = "b"
   "c" = "d"
 }
 </code></pre>
  </div>
  <h2 id="related-functions">
   <a class="anchor" href="#related-functions" name="related-functions">
    »
   </a>
   Related Functions
  </h2>
  <ul>
   <li>
    <a href="/docs/language/functions/tomap.html">
     <code>
      tomap
     </code>
    </a>
    performs a type conversion to a map type.
   </li>
  </ul>
 </div>
 
 <!-- ########### Collection Functions : merge ############### -->
 <!-- ########### https://www.terraform.io/docs/language/functions/matchkeys.html ############### --
 ><!-- ########### Collection Functions : merge ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="matchkeys-function">
    <a class="anchor" href="#matchkeys-function" name="matchkeys-function">
     »
    </a>
    <code>
     matchkeys
    </code>
    Function
   </h1>
  </div>
  <p>
   <code>
    matchkeys
   </code>
   constructs a new list by taking a subset of elements from one
 list whose indexes match the corresponding indexes of values in another
 list.
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">matchkeys</span><span class="p">(</span><span class="n">valueslist</span><span class="p">,</span> <span class="n">keyslist</span><span class="p">,</span> <span class="n">searchset</span><span class="p">)</span>
 </code></pre>
  </div>
  <p>
   <code>
    matchkeys
   </code>
   identifies the indexes in
   <code>
    keyslist
   </code>
   that are equal to elements of
   <code>
    searchset
   </code>
   , and then constructs a new list by taking those same indexes from
   <code>
    valueslist
   </code>
   . Both
   <code>
    valueslist
   </code>
   and
   <code>
    keyslist
   </code>
   must be the same length.
  </p>
  <p>
   The ordering of the values in
   <code>
    valueslist
   </code>
   is preserved in the result.
  </p>
  <h2 id="examples">
   <a class="anchor" href="#examples" name="examples">
    »
   </a>
   Examples
  </h2>
  <div class="highlight">
   <pre class="highlight plaintext"><code>&gt; matchkeys(["i-123", "i-abc", "i-def"], ["us-west", "us-east", "us-east"], ["us-east"])
 [
   "i-abc",
   "i-def",
 ]
 </code></pre>
  </div>
  <p>
   If the result ordering is not significant, you can achieve a similar result
 using a
   <code>
    for
   </code>
   expression with a map:
  </p>
  <div class="highlight">
   <pre class="highlight plaintext"><code>&gt; [for i, z in {"i-123"="us-west","i-abc"="us-east","i-def"="us-east"}: i if z == "us-east"]
 [
   "i-def",
   "i-abc",
 ]
 </code></pre>
  </div>
  <p>
   If the keys and values of interest are attributes of objects in a list of
 objects then you can also achieve a similar result using a
   <code>
    for
   </code>
   expression
 with that list:
  </p>
  <div class="highlight">
   <pre class="highlight plaintext"><code>&gt; [for x in [{id="i-123",zone="us-west"},{id="i-abc",zone="us-east"}]: x.id if x.zone == "us-east"]
 [
   "i-abc",
 ]
 </code></pre>
  </div>
  <p>
   For example, the previous form can be used with the list of resource instances
 produced by a
   <code>
    resource
   </code>
   block with the
   <code>
    count
   </code>
   meta-attribute set, to filter
 the instances by matching one of the resource attributes:
  </p>
  <div class="highlight">
   <pre class="highlight plaintext"><code>&gt; [for x in aws_instance.example: x.id if x.availability_zone == "us-east-1a"]
 [
   "i-abc123",
   "i-def456",
 ]
 </code></pre>
  </div>
  <p>
   Since the signature of
   <code>
    matchkeys
   </code>
   is complicated and not immediately clear to
 the reader when used in configuration, prefer to use
   <code>
    for
   </code>
   expressions where
 possible to maximize readability.
  </p>
 </div>
 
 <!-- ########### Collection Functions : range ############### -->
 <!-- ########### https://www.terraform.io/docs/language/functions/merge.html ############### --
 ><!-- ########### Collection Functions : range ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="merge-function">
    <a class="anchor" href="#merge-function" name="merge-function">
     »
    </a>
    <code>
     merge
    </code>
    Function
   </h1>
  </div>
  <p>
   <code>
    merge
   </code>
   takes an arbitrary number of maps or objects, and returns a single map
 or object that contains a merged set of elements from all arguments.
  </p>
  <p>
   If more than one given map or object defines the same key or attribute, then
 the one that is later in the argument sequence takes precedence. If the
 argument types do not match, the resulting type will be an object matching the
 type structure of the attributes after the merging rules have been applied.
  </p>
  <h2 id="examples">
   <a class="anchor" href="#examples" name="examples">
    »
   </a>
   Examples
  </h2>
  <div class="highlight">
   <pre class="highlight plaintext"><code>&gt; merge({a="b", c="d"}, {e="f", c="z"})
 {
   "a" = "b"
   "c" = "z"
   "e" = "f"
 }
 </code></pre>
  </div>
  <div class="highlight">
   <pre class="highlight plaintext"><code>&gt; merge({a="b"}, {a=[1,2], c="z"}, {d=3})
 {
   "a" = [
     1,
     2,
   ]
   "c" = "z"
   "d" = 3
 }
 </code></pre>
  </div>
 </div>
 
 <!-- ########### Collection Functions : reverse ############### -->
 <!-- ########### https://www.terraform.io/docs/language/functions/range.html ############### --
 ><!-- ########### Collection Functions : reverse ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="range-function">
    <a class="anchor" href="#range-function" name="range-function">
     »
    </a>
    <code>
     range
    </code>
    Function
   </h1>
  </div>
  <p>
   <code>
    range
   </code>
   generates a list of numbers using a start value, a limit value,
 and a step value.
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">range</span><span class="p">(</span><span class="n">max</span><span class="p">)</span>
 <span class="n">range</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">limit</span><span class="p">)</span>
 <span class="n">range</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">limit</span><span class="p">,</span> <span class="n">step</span><span class="p">)</span>
 </code></pre>
  </div>
  <p>
   The
   <code>
    start
   </code>
   and
   <code>
    step
   </code>
   arguments can be omitted, in which case
   <code>
    start
   </code>
   defaults
 to zero and
   <code>
    step
   </code>
   defaults to either one or negative one depending on whether
   <code>
    limit
   </code>
   is greater than or less than
   <code>
    start
   </code>
   .
  </p>
  <p>
   The resulting list is created by starting with the given
   <code>
    start
   </code>
   value and
 repeatedly adding
   <code>
    step
   </code>
   to it until the result is equal to or beyond
   <code>
    limit
   </code>
   .
  </p>
  <p>
   The interpretation of
   <code>
    limit
   </code>
   depends on the direction of
   <code>
    step
   </code>
   : for a positive
 step, the sequence is complete when the next number is greater than or equal
 to
   <code>
    limit
   </code>
   . For a negative step, it's complete when less than or equal.
  </p>
  <p>
   The sequence-building algorithm follows the following pseudocode:
  </p>
  <div class="highlight">
   <pre class="highlight plaintext"><code>let num = start
 while num &lt; limit: (or, for negative step, num &gt;= limit)
   append num to the sequence
   num = num + step
 return the sequence
 </code></pre>
  </div>
  <p>
   Because the sequence is created as a physical list in memory, Terraform imposes
 an artificial limit of 1024 numbers in the resulting sequence in order to avoid
 unbounded memory usage if, for example, a very large value were accidentally
 passed as the limit or a very small value as the step. If the algorithm above
 would append the 1025th number to the sequence, the function immediately exits
 with an error.
  </p>
  <p>
   We recommend iterating over existing collections where possible, rather than
 creating ranges. However, creating small numerical sequences can sometimes
 be useful when combined with other collections in collection-manipulation
 functions or
   <code>
    for
   </code>
   expressions.
  </p>
  <h2 id="examples">
   <a class="anchor" href="#examples" name="examples">
    »
   </a>
   Examples
  </h2>
  <div class="highlight">
   <pre class="highlight plaintext"><code>&gt; range(3)
 [
   0,
   1,
   2,
 ]
 
 &gt; range(1, 4)
 [
   1,
   2,
   3,
 ]
 
 &gt; range(1, 8, 2)
 [
   1,
   3,
   5,
   7,
 ]
 
 &gt; range(1, 4, 0.5)
 [
   1,
   1.5,
   2,
   2.5,
   3,
   3.5,
 ]
 
 &gt; range(4, 1)
 [
   4,
   3,
   2,
 ]
 
 &gt; range(10, 5, -2)
 [
   10,
   8,
   6,
 ]
 </code></pre>
  </div>
  <p>
   The
   <code>
    range
   </code>
   function is primarily useful when working with other collections
 to produce a certain number of instances of something. For example:
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">variable</span> <span class="s2">"name_counts"</span> <span class="p">{</span>
   <span class="n">type</span>    <span class="o">=</span> <span class="n">map</span><span class="p">(</span><span class="n">number</span><span class="p">)</span>
   <span class="n">default</span> <span class="o">=</span> <span class="p">{</span>
     <span class="s2">"foo"</span> <span class="o">=</span> <span class="mi">2</span>
     <span class="s2">"bar"</span> <span class="o">=</span> <span class="mi">4</span>
   <span class="p">}</span>
 <span class="p">}</span>
 
 <span class="n">locals</span> <span class="p">{</span>
   <span class="n">expanded_names</span> <span class="o">=</span> <span class="p">{</span>
     <span class="k">for</span> <span class="nb">name</span><span class="p">,</span> <span class="n">count</span> <span class="k">in</span> <span class="n">var</span><span class="p">.</span><span class="nf">name_counts</span> <span class="p">:</span> <span class="nb">name</span> <span class="o">=&gt;</span> <span class="p">[</span>
       <span class="k">for</span> <span class="n">i</span> <span class="k">in</span> <span class="n">range</span><span class="p">(</span><span class="n">count</span><span class="p">)</span> <span class="p">:</span> <span class="nb">format</span><span class="p">(</span><span class="s2">"%s%02d"</span><span class="p">,</span> <span class="nb">name</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span>
     <span class="p">]</span>
   <span class="p">}</span>
 <span class="p">}</span>
 
 <span class="n">output</span> <span class="s2">"expanded_names"</span> <span class="p">{</span>
   <span class="n">value</span> <span class="o">=</span> <span class="n">local</span><span class="p">.</span><span class="nf">expanded_names</span>
 <span class="p">}</span>
 
 <span class="c1"># Produces the following expanded_names value when run with the default</span>
 <span class="c1"># "name_counts":</span>
 <span class="c1">#</span>
 <span class="c1"># {</span>
 <span class="c1">#   "bar" = [</span>
 <span class="c1">#     "bar00",</span>
 <span class="c1">#     "bar01",</span>
 <span class="c1">#     "bar02",</span>
 <span class="c1">#     "bar03",</span>
 <span class="c1">#   ]</span>
 <span class="c1">#   "foo" = [</span>
 <span class="c1">#     "foo00",</span>
 <span class="c1">#     "foo01",</span>
 <span class="c1">#   ]</span>
 <span class="c1"># }</span>
 </code></pre>
  </div>
 </div>
 
 <!-- ########### Collection Functions : setintersection ############### -->
 <!-- ########### https://www.terraform.io/docs/language/functions/reverse.html ############### --
 ><!-- ########### Collection Functions : setintersection ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="reverse-function">
    <a class="anchor" href="#reverse-function" name="reverse-function">
     »
    </a>
    <code>
     reverse
    </code>
    Function
   </h1>
  </div>
  <p>
   <code>
    reverse
   </code>
   takes a sequence and produces a new sequence of the same length
 with all of the same elements as the given sequence but in reverse order.
  </p>
  <h2 id="examples">
   <a class="anchor" href="#examples" name="examples">
    »
   </a>
   Examples
  </h2>
  <div class="highlight">
   <pre class="highlight plaintext"><code>&gt; reverse([1, 2, 3])
 [
   3,
   2,
   1,
 ]
 </code></pre>
  </div>
  <h2 id="related-functions">
   <a class="anchor" href="#related-functions" name="related-functions">
    »
   </a>
   Related Functions
  </h2>
  <ul>
   <li>
    <a href="/docs/language/functions/strrev.html">
     <code>
      strrev
     </code>
    </a>
    reverses a string.
   </li>
  </ul>
 </div>
 
 <!-- ########### Collection Functions : setproduct ############### -->
 <!-- ########### https://www.terraform.io/docs/language/functions/setintersection.html ############### --
 ><!-- ########### Collection Functions : setproduct ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="setintersection-function">
    <a class="anchor" href="#setintersection-function" name="setintersection-function">
     »
    </a>
    <code>
     setintersection
    </code>
    Function
   </h1>
  </div>
  <p>
   The
   <code>
    setintersection
   </code>
   function takes multiple sets and produces a single set
 containing only the elements that all of the given sets have in common.
 In other words, it computes the
   <a href="https://en.wikipedia.org/wiki/Intersection_(set_theory)">
    intersection
   </a>
   of the sets.
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">setintersection</span><span class="p">(</span><span class="n">sets</span><span class="o">...</span><span class="p">)</span>
 </code></pre>
  </div>
  <h2 id="examples">
   <a class="anchor" href="#examples" name="examples">
    »
   </a>
   Examples
  </h2>
  <div class="highlight">
   <pre class="highlight plaintext"><code>&gt; setintersection(["a", "b"], ["b", "c"], ["b", "d"])
 [
   "b",
 ]
 </code></pre>
  </div>
  <p>
   The given arguments are converted to sets, so the result is also a set and
 the ordering of the given elements is not preserved.
  </p>
  <h2 id="related-functions">
   <a class="anchor" href="#related-functions" name="related-functions">
    »
   </a>
   Related Functions
  </h2>
  <ul>
   <li>
    <a href="/docs/language/functions/contains.html">
     <code>
      contains
     </code>
    </a>
    tests whether a given list or set contains
 a given element value.
   </li>
   <li>
    <a href="/docs/language/functions/setproduct.html">
     <code>
      setproduct
     </code>
    </a>
    computes the
    <em>
     Cartesian product
    </em>
    of multiple
 sets.
   </li>
   <li>
    <a href="/docs/language/functions/setsubtract.html">
     <code>
      setsubtract
     </code>
    </a>
    computes the
    <em>
     relative complement
    </em>
    of two sets
   </li>
   <li>
    <a href="/docs/language/functions/setunion.html">
     <code>
      setunion
     </code>
    </a>
    computes the
    <em>
     union
    </em>
    of
 multiple sets.
   </li>
  </ul>
 </div>
 
 <!-- ########### Collection Functions : setsubtract ############### -->
 <!-- ########### https://www.terraform.io/docs/language/functions/setproduct.html ############### --
 ><!-- ########### Collection Functions : setsubtract ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="setproduct-function">
    <a class="anchor" href="#setproduct-function" name="setproduct-function">
     »
    </a>
    <code>
     setproduct
    </code>
    Function
   </h1>
   <div id="inner-quicknav">
    <span id="inner-quicknav-trigger">
     Jump to Section
     <svg height="5" width="9" xmlns="http://www.w3.org/2000/svg">
      <path d="M8.811 1.067a.612.612 0 0 0 0-.884.655.655 0 0 0-.908 0L4.5 3.491 1.097.183a.655.655 0 0 0-.909 0 .615.615 0 0 0 0 .884l3.857 3.75a.655.655 0 0 0 .91 0l3.856-3.75z" fill-rule="evenodd">
      </path>
     </svg>
    </span>
    <ul class="dropdown">
     <li class="level-h2">
      <a href="#examples">
       »
 Examples
      </a>
     </li>
     <li class="level-h2">
      <a href="#finding-combinations-for-for_each">
       »
 Finding combinations for for_each
      </a>
     </li>
     <li class="level-h2">
      <a href="#related-functions">
       »
 Related Functions
      </a>
     </li>
    </ul>
   </div>
  </div>
  <p>
   The
   <code>
    setproduct
   </code>
   function finds all of the possible combinations of elements
 from all of the given sets by computing the
   <a href="https://en.wikipedia.org/wiki/Cartesian_product">
    Cartesian product
   </a>
   .
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">setproduct</span><span class="p">(</span><span class="n">sets</span><span class="o">...</span><span class="p">)</span>
 </code></pre>
  </div>
  <p>
   This function is particularly useful for finding the exhaustive set of all
 combinations of members of multiple sets, such as per-application-per-environment
 resources.
  </p>
  <div class="highlight">
   <pre class="highlight plaintext"><code>&gt; setproduct(["development", "staging", "production"], ["app1", "app2"])
 [
   [
     "development",
     "app1",
   ],
   [
     "development",
     "app2",
   ],
   [
     "staging",
     "app1",
   ],
   [
     "staging",
     "app2",
   ],
   [
     "production",
     "app1",
   ],
   [
     "production",
     "app2",
   ],
 ]
 </code></pre>
  </div>
  <p>
   You must pass at least two arguments to this function.
  </p>
  <p>
   Although defined primarily for sets, this function can also work with lists.
 If all of the given arguments are lists then the result is a list, preserving
 the ordering of the given lists. Otherwise the result is a set. In either case,
 the result's element type is a list of values corresponding to each given
 argument in turn.
  </p>
  <h2 id="examples">
   <a class="anchor" href="#examples" name="examples">
    »
   </a>
   Examples
  </h2>
  <p>
   There is an example of the common usage of this function above. There are some
 other situations that are less common when hand-writing but may arise in
 reusable module situations.
  </p>
  <p>
   If any of the arguments is empty then the result is always empty itself,
 similar to how multiplying any number by zero gives zero:
  </p>
  <div class="highlight">
   <pre class="highlight plaintext"><code>&gt; setproduct(["development", "staging", "production"], [])
 []
 </code></pre>
  </div>
  <p>
   Similarly, if all of the arguments have only one element then the result has
 only one element, which is the first element of each argument:
  </p>
  <div class="highlight">
   <pre class="highlight plaintext"><code>&gt; setproduct(["a"], ["b"])
 [
   [
     "a",
     "b",
   ],
 ]
 </code></pre>
  </div>
  <p>
   Each argument must have a consistent type for all of its elements. If not,
 Terraform will attempt to convert to the most general type, or produce an
 error if such a conversion is impossible. For example, mixing both strings and
 numbers results in the numbers being converted to strings so that the result
 elements all have a consistent type:
  </p>
  <div class="highlight">
   <pre class="highlight plaintext"><code>&gt; setproduct(["staging", "production"], ["a", 2])
 [
   [
     "staging",
     "a",
   ],
   [
     "staging",
     "2",
   ],
   [
     "production",
     "a",
   ],
   [
     "production",
     "2",
   ],
 ]
 </code></pre>
  </div>
  <h2 id="finding-combinations-for-for_each">
   <a class="anchor" href="#finding-combinations-for-for_each" name="finding-combinations-for-for_each">
    »
   </a>
   Finding combinations for
   <code>
    for_each
   </code>
  </h2>
  <p>
   The
   <a href="/docs/language/meta-arguments/for_each.html">
    resource
    <code>
     for_each
    </code>
   </a>
   and
   <a href="/docs/language/expressions/dynamic-blocks.html">
    <code>
     dynamic
    </code>
    block
   </a>
   language features both require a collection value that has one element for
 each repetition.
  </p>
  <p>
   Sometimes your input data comes in separate values that cannot be directly
 used in a
   <code>
    for_each
   </code>
   argument, and
   <code>
    setproduct
   </code>
   can be a useful helper function
 for the situation where you want to find all unique combinations of elements in
 a number of different collections.
  </p>
  <p>
   For example, consider a module that declares variables like the following:
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">variable</span> <span class="s2">"networks"</span> <span class="p">{</span>
   <span class="n">type</span> <span class="o">=</span> <span class="n">map</span><span class="p">(</span><span class="n">object</span><span class="p">({</span>
     <span class="n">base_cidr_block</span> <span class="o">=</span> <span class="n">string</span>
   <span class="p">}))</span>
 <span class="p">}</span>
 
 <span class="n">variable</span> <span class="s2">"subnets"</span> <span class="p">{</span>
   <span class="n">type</span> <span class="o">=</span> <span class="n">map</span><span class="p">(</span><span class="n">object</span><span class="p">({</span>
     <span class="n">number</span> <span class="o">=</span> <span class="n">number</span>
   <span class="p">}))</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <p>
   If the goal is to create each of the defined subnets per each of the defined
 networks, creating the top-level networks can directly use
   <code>
    var.networks
   </code>
   because it's already in a form where the resulting instances match one-to-one
 with map elements:
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">resource</span> <span class="s2">"aws_vpc"</span> <span class="s2">"example"</span> <span class="p">{</span>
   <span class="n">for_each</span> <span class="o">=</span> <span class="n">var</span><span class="p">.</span><span class="nf">networks</span>
 
   <span class="n">cidr_block</span> <span class="o">=</span> <span class="n">each</span><span class="p">.</span><span class="nf">value</span><span class="p">.</span><span class="nf">base_cidr_block</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <p>
   However, in order to declare all of the
   <em>
    subnets
   </em>
   with a single
   <code>
    resource
   </code>
   block, we must first produce a collection whose elements represent all of
 the combinations of networks and subnets, so that each element itself
 represents a subnet:
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">locals</span> <span class="p">{</span>
   <span class="c1"># setproduct works with sets and lists, but our variables are both maps</span>
   <span class="c1"># so we'll need to convert them first.</span>
   <span class="n">networks</span> <span class="o">=</span> <span class="p">[</span>
     <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">network</span> <span class="k">in</span> <span class="n">var</span><span class="p">.</span><span class="nf">networks</span> <span class="p">:</span> <span class="p">{</span>
       <span class="n">key</span>        <span class="o">=</span> <span class="n">key</span>
       <span class="n">cidr_block</span> <span class="o">=</span> <span class="n">network</span><span class="p">.</span><span class="nf">cidr_block</span>
     <span class="p">}</span>
   <span class="p">]</span>
   <span class="n">subnets</span> <span class="o">=</span> <span class="p">[</span>
     <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">subnet</span> <span class="k">in</span> <span class="n">var</span><span class="p">.</span><span class="nf">subnets</span> <span class="p">:</span> <span class="p">{</span>
       <span class="n">key</span>    <span class="o">=</span> <span class="n">key</span>
       <span class="n">number</span> <span class="o">=</span> <span class="n">subnet</span><span class="p">.</span><span class="nf">number</span>
     <span class="p">}</span>
   <span class="p">]</span>
 
   <span class="n">network_subnets</span> <span class="o">=</span> <span class="p">[</span>
     <span class="c1"># in pair, element zero is a network and element one is a subnet,</span>
     <span class="c1"># in all unique combinations.</span>
     <span class="k">for</span> <span class="n">pair</span> <span class="k">in</span> <span class="n">setproduct</span><span class="p">(</span><span class="n">local</span><span class="p">.</span><span class="nf">networks</span><span class="p">,</span> <span class="n">local</span><span class="p">.</span><span class="nf">subnets</span><span class="p">)</span> <span class="p">:</span> <span class="p">{</span>
       <span class="n">network_key</span> <span class="o">=</span> <span class="n">pair</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nf">key</span>
       <span class="n">subnet_key</span>  <span class="o">=</span> <span class="n">pair</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="nf">key</span>
       <span class="n">network_id</span>  <span class="o">=</span> <span class="n">aws_vpc</span><span class="p">.</span><span class="nf">example</span><span class="p">[</span><span class="n">pair</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nf">key</span><span class="p">].</span><span class="nf">id</span>
 
       <span class="c1"># The cidr_block is derived from the corresponding network. See the</span>
       <span class="c1"># cidrsubnet function for more information on how this calculation works.</span>
       <span class="n">cidr_block</span> <span class="o">=</span> <span class="n">cidrsubnet</span><span class="p">(</span><span class="n">pair</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nf">cidr_block</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="n">pair</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="nf">number</span><span class="p">)</span>
     <span class="p">}</span>
   <span class="p">]</span>
 <span class="p">}</span>
 
 <span class="n">resource</span> <span class="s2">"aws_subnet"</span> <span class="s2">"example"</span> <span class="p">{</span>
   <span class="c1"># local.network_subnets is a list, so we must now project it into a map</span>
   <span class="c1"># where each key is unique. We'll combine the network and subnet keys to</span>
   <span class="c1"># produce a single unique key per instance.</span>
   <span class="n">for_each</span> <span class="o">=</span> <span class="p">{</span>
     <span class="k">for</span> <span class="n">subnet</span> <span class="k">in</span> <span class="n">local</span><span class="p">.</span><span class="nf">network_subnets</span> <span class="p">:</span> <span class="s2">"${subnet.network_key}.${subnet.subnet_key}"</span> <span class="o">=&gt;</span> <span class="n">subnet</span>
   <span class="p">}</span>
 
   <span class="n">vpc_id</span>            <span class="o">=</span> <span class="n">each</span><span class="p">.</span><span class="nf">value</span><span class="p">.</span><span class="nf">network_id</span>
   <span class="n">availability_zone</span> <span class="o">=</span> <span class="n">each</span><span class="p">.</span><span class="nf">value</span><span class="p">.</span><span class="nf">subnet_key</span>
   <span class="n">cidr_block</span>        <span class="o">=</span> <span class="n">each</span><span class="p">.</span><span class="nf">value</span><span class="p">.</span><span class="nf">cidr_block</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <p>
   The above results in one subnet instance per combination of network and subnet
 elements in the input variables.
  </p>
  <h2 id="related-functions">
   <a class="anchor" href="#related-functions" name="related-functions">
    »
   </a>
   Related Functions
  </h2>
  <ul>
   <li>
    <a href="/docs/language/functions/contains.html">
     <code>
      contains
     </code>
    </a>
    tests whether a given list or set contains
 a given element value.
   </li>
   <li>
    <a href="/docs/language/functions/flatten.html">
     <code>
      flatten
     </code>
    </a>
    is useful for flattening hierarchical data
 into a single list, for situations where the relationships between two
 object types are defined explicitly.
   </li>
   <li>
    <a href="/docs/language/functions/setintersection.html">
     <code>
      setintersection
     </code>
    </a>
    computes the
    <em>
     intersection
    </em>
    of
 multiple sets.
   </li>
   <li>
    <a href="/docs/language/functions/setsubtract.html">
     <code>
      setsubtract
     </code>
    </a>
    computes the
    <em>
     relative complement
    </em>
    of two sets
   </li>
   <li>
    <a href="/docs/language/functions/setunion.html">
     <code>
      setunion
     </code>
    </a>
    computes the
    <em>
     union
    </em>
    of multiple
 sets.
   </li>
  </ul>
 </div>
 
 <!-- ########### Collection Functions : setunion ############### -->
 <!-- ########### https://www.terraform.io/docs/language/functions/setsubtract.html ############### --
 ><!-- ########### Collection Functions : setunion ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="setsubtract-function">
    <a class="anchor" href="#setsubtract-function" name="setsubtract-function">
     »
    </a>
    <code>
     setsubtract
    </code>
    Function
   </h1>
   <div id="inner-quicknav">
    <span id="inner-quicknav-trigger">
     Jump to Section
     <svg height="5" width="9" xmlns="http://www.w3.org/2000/svg">
      <path d="M8.811 1.067a.612.612 0 0 0 0-.884.655.655 0 0 0-.908 0L4.5 3.491 1.097.183a.655.655 0 0 0-.909 0 .615.615 0 0 0 0 .884l3.857 3.75a.655.655 0 0 0 .91 0l3.856-3.75z" fill-rule="evenodd">
      </path>
     </svg>
    </span>
    <ul class="dropdown">
     <li class="level-h2">
      <a href="#examples">
       »
 Examples
      </a>
     </li>
     <li class="level-h3">
      <a href="#set-difference-symmetric-difference-">
       »
 Set Difference (Symmetric Difference)
      </a>
     </li>
     <li class="level-h2">
      <a href="#related-functions">
       »
 Related Functions
      </a>
     </li>
    </ul>
   </div>
  </div>
  <p>
   The
   <code>
    setsubtract
   </code>
   function returns a new set containing the elements from the first set that are not present in the second set. In other words, it computes the
   <a href="https://en.wikipedia.org/wiki/Complement_(set_theory)#Relative_complement">
    relative complement
   </a>
   of the first set in the second set.
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">setsubtract</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>
 </code></pre>
  </div>
  <h2 id="examples">
   <a class="anchor" href="#examples" name="examples">
    »
   </a>
   Examples
  </h2>
  <div class="highlight">
   <pre class="highlight plaintext"><code>&gt; setsubtract(["a", "b", "c"], ["a", "c"])
 [
   "b",
 ]
 </code></pre>
  </div>
  <h3 id="set-difference-symmetric-difference-">
   <a class="anchor" href="#set-difference-symmetric-difference-" name="set-difference-symmetric-difference-">
    »
   </a>
   Set Difference (Symmetric Difference)
  </h3>
  <div class="highlight">
   <pre class="highlight plaintext"><code>&gt; setunion(setsubtract(["a", "b", "c"], ["a", "c", "d"]), setsubtract(["a", "c", "d"], ["a", "b", "c"]))
 [
   "b",
   "d",
 ]
 </code></pre>
  </div>
  <h2 id="related-functions">
   <a class="anchor" href="#related-functions" name="related-functions">
    »
   </a>
   Related Functions
  </h2>
  <ul>
   <li>
    <a href="/docs/language/functions/setintersection.html">
     <code>
      setintersection
     </code>
    </a>
    computes the
    <em>
     intersection
    </em>
    of multiple sets
   </li>
   <li>
    <a href="/docs/language/functions/setproduct.html">
     <code>
      setproduct
     </code>
    </a>
    computes the
    <em>
     Cartesian product
    </em>
    of multiple
 sets.
   </li>
   <li>
    <a href="/docs/language/functions/setunion.html">
     <code>
      setunion
     </code>
    </a>
    computes the
    <em>
     union
    </em>
    of
 multiple sets.
   </li>
  </ul>
 </div>
 
 <!-- ########### Collection Functions : slice ############### -->
 <!-- ########### https://www.terraform.io/docs/language/functions/setunion.html ############### --
 ><!-- ########### Collection Functions : slice ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="setunion-function">
    <a class="anchor" href="#setunion-function" name="setunion-function">
     »
    </a>
    <code>
     setunion
    </code>
    Function
   </h1>
  </div>
  <p>
   The
   <code>
    setunion
   </code>
   function takes multiple sets and produces a single set
 containing the elements from all of the given sets. In other words, it
 computes the
   <a href="https://en.wikipedia.org/wiki/Union_(set_theory)">
    union
   </a>
   of
 the sets.
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">setunion</span><span class="p">(</span><span class="n">sets</span><span class="o">...</span><span class="p">)</span>
 </code></pre>
  </div>
  <h2 id="examples">
   <a class="anchor" href="#examples" name="examples">
    »
   </a>
   Examples
  </h2>
  <div class="highlight">
   <pre class="highlight plaintext"><code>&gt; setunion(["a", "b"], ["b", "c"], ["d"])
 [
   "d",
   "b",
   "c",
   "a",
 ]
 </code></pre>
  </div>
  <p>
   The given arguments are converted to sets, so the result is also a set and
 the ordering of the given elements is not preserved.
  </p>
  <h2 id="related-functions">
   <a class="anchor" href="#related-functions" name="related-functions">
    »
   </a>
   Related Functions
  </h2>
  <ul>
   <li>
    <a href="/docs/language/functions/contains.html">
     <code>
      contains
     </code>
    </a>
    tests whether a given list or set contains
 a given element value.
   </li>
   <li>
    <a href="/docs/language/functions/setintersection.html">
     <code>
      setintersection
     </code>
    </a>
    computes the
    <em>
     intersection
    </em>
    of
 multiple sets.
   </li>
   <li>
    <a href="/docs/language/functions/setproduct.html">
     <code>
      setproduct
     </code>
    </a>
    computes the
    <em>
     Cartesian product
    </em>
    of multiple
 sets.
   </li>
   <li>
    <a href="/docs/language/functions/setsubtract.html">
     <code>
      setsubtract
     </code>
    </a>
    computes the
    <em>
     relative complement
    </em>
    of two sets
   </li>
  </ul>
 </div>
 
 <!-- ########### Collection Functions : sort ############### -->
 <!-- ########### https://www.terraform.io/docs/language/functions/slice.html ############### --
 ><!-- ########### Collection Functions : sort ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="slice-function">
    <a class="anchor" href="#slice-function" name="slice-function">
     »
    </a>
    <code>
     slice
    </code>
    Function
   </h1>
  </div>
  <p>
   <code>
    slice
   </code>
   extracts some consecutive elements from within a list.
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">slice</span><span class="p">(</span><span class="n">list</span><span class="p">,</span> <span class="n">startindex</span><span class="p">,</span> <span class="n">endindex</span><span class="p">)</span>
 </code></pre>
  </div>
  <p>
   <code>
    startindex
   </code>
   is inclusive, while
   <code>
    endindex
   </code>
   is exclusive. This function returns
 an error if either index is outside the bounds of valid indices for the given
 list.
  </p>
  <h2 id="examples">
   <a class="anchor" href="#examples" name="examples">
    »
   </a>
   Examples
  </h2>
  <div class="highlight">
   <pre class="highlight plaintext"><code>&gt; slice(["a", "b", "c", "d"], 1, 3)
 [
   "b",
   "c",
 ]
 </code></pre>
  </div>
  <h2 id="related-functions">
   <a class="anchor" href="#related-functions" name="related-functions">
    »
   </a>
   Related Functions
  </h2>
  <ul>
   <li>
    <a href="/docs/language/functions/substr.html">
     <code>
      substr
     </code>
    </a>
    performs a similar function for characters in a
 string, although it uses a length instead of an end index.
   </li>
  </ul>
 </div>
 
 <!-- ########### Collection Functions : sum ############### -->
 <!-- ########### https://www.terraform.io/docs/language/functions/sort.html ############### --
 ><!-- ########### Collection Functions : sum ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="sort-function">
    <a class="anchor" href="#sort-function" name="sort-function">
     »
    </a>
    <code>
     sort
    </code>
    Function
   </h1>
  </div>
  <p>
   <code>
    sort
   </code>
   takes a list of strings and returns a new list with those strings
 sorted lexicographically.
  </p>
  <p>
   The sort is in terms of Unicode codepoints, with higher codepoints appearing
 after lower ones in the result.
  </p>
  <h2 id="examples">
   <a class="anchor" href="#examples" name="examples">
    »
   </a>
   Examples
  </h2>
  <div class="highlight">
   <pre class="highlight plaintext"><code>&gt; sort(["e", "d", "a", "x"])
 [
   "a",
   "d",
   "e",
   "x",
 ]
 </code></pre>
  </div>
 </div>
 
 <!-- ########### Collection Functions : transpose ############### -->
 <!-- ########### https://www.terraform.io/docs/language/functions/sum.html ############### --
 ><!-- ########### Collection Functions : transpose ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="sum-function">
    <a class="anchor" href="#sum-function" name="sum-function">
     »
    </a>
    <code>
     sum
    </code>
    Function
   </h1>
  </div>
  <p>
   <code>
    sum
   </code>
   takes a list or set of numbers and returns the sum of those numbers.
  </p>
  <h2 id="examples">
   <a class="anchor" href="#examples" name="examples">
    »
   </a>
   Examples
  </h2>
  <div class="highlight">
   <pre class="highlight plaintext"><code>&gt; sum([10, 13, 6, 4.5])
 33.5
 </code></pre>
  </div>
 </div>
 
 <!-- ########### Collection Functions : values ############### -->
 <!-- ########### https://www.terraform.io/docs/language/functions/transpose.html ############### --
 ><!-- ########### Collection Functions : values ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="transpose-function">
    <a class="anchor" href="#transpose-function" name="transpose-function">
     »
    </a>
    <code>
     transpose
    </code>
    Function
   </h1>
  </div>
  <p>
   <code>
    transpose
   </code>
   takes a map of lists of strings and swaps the keys and values
 to produce a new map of lists of strings.
  </p>
  <h2 id="examples">
   <a class="anchor" href="#examples" name="examples">
    »
   </a>
   Examples
  </h2>
  <div class="highlight">
   <pre class="highlight plaintext"><code>&gt; transpose({"a" = ["1", "2"], "b" = ["2", "3"]})
 {
   "1" = [
     "a",
   ],
   "2" = [
     "a",
     "b",
   ],
   "3" = [
     "b",
   ],
 }
 </code></pre>
  </div>
 </div>
 
 <!-- ########### Collection Functions : zipmap ############### -->
 <!-- ########### https://www.terraform.io/docs/language/functions/values.html ############### --
 ><!-- ########### Collection Functions : zipmap ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="values-function">
    <a class="anchor" href="#values-function" name="values-function">
     »
    </a>
    <code>
     values
    </code>
    Function
   </h1>
  </div>
  <p>
   <code>
    values
   </code>
   takes a map and returns a list containing the values of the elements
 in that map.
  </p>
  <p>
   The values are returned in lexicographical order by their corresponding
   <em>
    keys
   </em>
   ,
 so the values will be returned in the same order as their keys would be
 returned from
   <a href="/docs/language/functions/keys.html">
    <code>
     keys
    </code>
   </a>
   .
  </p>
  <h2 id="examples">
   <a class="anchor" href="#examples" name="examples">
    »
   </a>
   Examples
  </h2>
  <div class="highlight">
   <pre class="highlight plaintext"><code>&gt; values({a=3, c=2, d=1})
 [
   3,
   2,
   1,
 ]
 </code></pre>
  </div>
  <h2 id="related-functions">
   <a class="anchor" href="#related-functions" name="related-functions">
    »
   </a>
   Related Functions
  </h2>
  <ul>
   <li>
    <a href="/docs/language/functions/keys.html">
     <code>
      keys
     </code>
    </a>
    returns a list of the
    <em>
     keys
    </em>
    from a map.
   </li>
  </ul>
 </div>
 
 <!-- ########### Encoding Functions : base64decode ############### -->
 <!-- ########### https://www.terraform.io/docs/language/functions/zipmap.html ############### --
 ><!-- ########### Encoding Functions : base64decode ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="zipmap-function">
    <a class="anchor" href="#zipmap-function" name="zipmap-function">
     »
    </a>
    <code>
     zipmap
    </code>
    Function
   </h1>
  </div>
  <p>
   <code>
    zipmap
   </code>
   constructs a map from a list of keys and a corresponding list of
 values.
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">zipmap</span><span class="p">(</span><span class="n">keyslist</span><span class="p">,</span> <span class="n">valueslist</span><span class="p">)</span>
 </code></pre>
  </div>
  <p>
   Both
   <code>
    keyslist
   </code>
   and
   <code>
    valueslist
   </code>
   must be of the same length.
   <code>
    keyslist
   </code>
   must
 be a list of strings, while
   <code>
    valueslist
   </code>
   can be a list of any type.
  </p>
  <p>
   Each pair of elements with the same index from the two lists will be used
 as the key and value of an element in the resulting map. If the same value
 appears multiple times in
   <code>
    keyslist
   </code>
   then the value with the highest index
 is used in the resulting map.
  </p>
  <h2 id="examples">
   <a class="anchor" href="#examples" name="examples">
    »
   </a>
   Examples
  </h2>
  <div class="highlight">
   <pre class="highlight plaintext"><code>&gt; zipmap(["a", "b"], [1, 2])
 {
   "a" = 1,
   "b" = 2,
 }
 </code></pre>
  </div>
 </div>
 
 <!-- ########### Encoding Functions : base64encode ############### -->
 <!-- ########### https://www.terraform.io/docs/language/functions/base64decode.html ############### --
 ><!-- ########### Encoding Functions : base64encode ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="base64decode-function">
    <a class="anchor" href="#base64decode-function" name="base64decode-function">
     »
    </a>
    <code>
     base64decode
    </code>
    Function
   </h1>
  </div>
  <p>
   <code>
    base64decode
   </code>
   takes a string containing a Base64 character sequence and
 returns the original string.
  </p>
  <p>
   Terraform uses the "standard" Base64 alphabet as defined in
   <a href="https://tools.ietf.org/html/rfc4648#section-4">
    RFC 4648 section 4
   </a>
   .
  </p>
  <p>
   Strings in the Terraform language are sequences of unicode characters rather
 than bytes, so this function will also interpret the resulting bytes as
 UTF-8. If the bytes after Base64 decoding are
   <em>
    not
   </em>
   valid UTF-8, this function
 produces an error.
  </p>
  <p>
   While we do not recommend manipulating large, raw binary data in the Terraform
 language, Base64 encoding is the standard way to represent arbitrary byte
 sequences, and so resource types that accept or return binary data will use
 Base64 themselves, which avoids the need to encode or decode it directly in
 most cases. Various other functions with names containing "base64" can generate
 or manipulate Base64 data directly.
  </p>
  <p>
   <code>
    base64decode
   </code>
   is, in effect, a shorthand for calling
   <a href="/docs/language/functions/textdecodebase64.html">
    <code>
     textdecodebase64
    </code>
   </a>
   with the encoding name set to
   <code>
    UTF-8
   </code>
   .
  </p>
  <h2 id="examples">
   <a class="anchor" href="#examples" name="examples">
    »
   </a>
   Examples
  </h2>
  <div class="highlight">
   <pre class="highlight plaintext"><code>&gt; base64decode("SGVsbG8gV29ybGQ=")
 Hello World
 </code></pre>
  </div>
  <h2 id="related-functions">
   <a class="anchor" href="#related-functions" name="related-functions">
    »
   </a>
   Related Functions
  </h2>
  <ul>
   <li>
    <a href="/docs/language/functions/base64encode.html">
     <code>
      base64encode
     </code>
    </a>
    performs the opposite operation,
 encoding the UTF-8 bytes for a string as Base64.
   </li>
   <li>
    <a href="/docs/language/functions/textdecodebase64.html">
     <code>
      textdecodebase64
     </code>
    </a>
    is a more general function that
 supports character encodings other than UTF-8.
   </li>
   <li>
    <a href="/docs/language/functions/base64gzip.html">
     <code>
      base64gzip
     </code>
    </a>
    applies gzip compression to a string
 and returns the result with Base64 encoding.
   </li>
   <li>
    <a href="/docs/language/functions/filebase64.html">
     <code>
      filebase64
     </code>
    </a>
    reads a file from the local filesystem
 and returns its raw bytes with Base64 encoding.
   </li>
  </ul>
 </div>
 
 <!-- ########### Encoding Functions : base64gzip ############### -->
 <!-- ########### https://www.terraform.io/docs/language/functions/base64encode.html ############### --
 ><!-- ########### Encoding Functions : base64gzip ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="base64encode-function">
    <a class="anchor" href="#base64encode-function" name="base64encode-function">
     »
    </a>
    <code>
     base64encode
    </code>
    Function
   </h1>
  </div>
  <p>
   <code>
    base64encode
   </code>
   applies Base64 encoding to a string.
  </p>
  <p>
   Terraform uses the "standard" Base64 alphabet as defined in
   <a href="https://tools.ietf.org/html/rfc4648#section-4">
    RFC 4648 section 4
   </a>
   .
  </p>
  <p>
   Strings in the Terraform language are sequences of unicode characters rather
 than bytes, so this function will first encode the characters from the string
 as UTF-8, and then apply Base64 encoding to the result.
  </p>
  <p>
   The Terraform language applies Unicode normalization to all strings, and so
 passing a string through
   <code>
    base64decode
   </code>
   and then
   <code>
    base64encode
   </code>
   may not yield
 the original result exactly.
  </p>
  <p>
   While we do not recommend manipulating large, raw binary data in the Terraform
 language, Base64 encoding is the standard way to represent arbitrary byte
 sequences, and so resource types that accept or return binary data will use
 Base64 themselves, and so this function exists primarily to allow string
 data to be easily provided to resource types that expect Base64 bytes.
  </p>
  <p>
   <code>
    base64encode
   </code>
   is, in effect, a shorthand for calling
   <a href="/docs/language/functions/textencodebase64.html">
    <code>
     textencodebase64
    </code>
   </a>
   with the encoding name set to
   <code>
    UTF-8
   </code>
   .
  </p>
  <h2 id="examples">
   <a class="anchor" href="#examples" name="examples">
    »
   </a>
   Examples
  </h2>
  <div class="highlight">
   <pre class="highlight plaintext"><code>&gt; base64encode("Hello World")
 SGVsbG8gV29ybGQ=
 </code></pre>
  </div>
  <h2 id="related-functions">
   <a class="anchor" href="#related-functions" name="related-functions">
    »
   </a>
   Related Functions
  </h2>
  <ul>
   <li>
    <a href="/docs/language/functions/base64decode.html">
     <code>
      base64decode
     </code>
    </a>
    performs the opposite operation,
 decoding Base64 data and interpreting it as a UTF-8 string.
   </li>
   <li>
    <a href="/docs/language/functions/textencodebase64.html">
     <code>
      textencodebase64
     </code>
    </a>
    is a more general function that
 supports character encodings other than UTF-8.
   </li>
   <li>
    <a href="/docs/language/functions/base64gzip.html">
     <code>
      base64gzip
     </code>
    </a>
    applies gzip compression to a string
 and returns the result with Base64 encoding all in one operation.
   </li>
   <li>
    <a href="/docs/language/functions/filebase64.html">
     <code>
      filebase64
     </code>
    </a>
    reads a file from the local filesystem
 and returns its raw bytes with Base64 encoding, without creating an
 intermediate Unicode string.
   </li>
  </ul>
 </div>
 
 <!-- ########### Encoding Functions : csvdecode ############### -->
 <!-- ########### https://www.terraform.io/docs/language/functions/base64gzip.html ############### --
 ><!-- ########### Encoding Functions : csvdecode ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="base64gzip-function">
    <a class="anchor" href="#base64gzip-function" name="base64gzip-function">
     »
    </a>
    <code>
     base64gzip
    </code>
    Function
   </h1>
  </div>
  <p>
   <code>
    base64gzip
   </code>
   compresses a string with gzip and then encodes the result in
 Base64 encoding.
  </p>
  <p>
   Terraform uses the "standard" Base64 alphabet as defined in
   <a href="https://tools.ietf.org/html/rfc4648#section-4">
    RFC 4648 section 4
   </a>
   .
  </p>
  <p>
   Strings in the Terraform language are sequences of unicode characters rather
 than bytes, so this function will first encode the characters from the string
 as UTF-8, then apply gzip compression, and then finally apply Base64 encoding.
  </p>
  <p>
   While we do not recommend manipulating large, raw binary data in the Terraform
 language, this function can be used to compress reasonably sized text strings
 generated within the Terraform language. For example, the result of this
 function can be used to create a compressed object in Amazon S3 as part of
 an S3 website.
  </p>
  <h2 id="related-functions">
   <a class="anchor" href="#related-functions" name="related-functions">
    »
   </a>
   Related Functions
  </h2>
  <ul>
   <li>
    <a href="/docs/language/functions/base64encode.html">
     <code>
      base64encode
     </code>
    </a>
    applies Base64 encoding
    <em>
     without
    </em>
    gzip compression.
   </li>
   <li>
    <a href="/docs/language/functions/filebase64.html">
     <code>
      filebase64
     </code>
    </a>
    reads a file from the local filesystem
 and returns its raw bytes with Base64 encoding.
   </li>
  </ul>
 </div>
 
 <!-- ########### Encoding Functions : jsondecode ############### -->
 <!-- ########### https://www.terraform.io/docs/language/functions/csvdecode.html ############### --
 ><!-- ########### Encoding Functions : jsondecode ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="csvdecode-function">
    <a class="anchor" href="#csvdecode-function" name="csvdecode-function">
     »
    </a>
    <code>
     csvdecode
    </code>
    Function
   </h1>
  </div>
  <p>
   <code>
    csvdecode
   </code>
   decodes a string containing CSV-formatted data and produces a
 list of maps representing that data.
  </p>
  <p>
   CSV is
   <em>
    Comma-separated Values
   </em>
   , an encoding format for tabular data. There
 are many variants of CSV, but this function implements the format defined
 in
   <a href="https://tools.ietf.org/html/rfc4180">
    RFC 4180
   </a>
   .
  </p>
  <p>
   The first line of the CSV data is interpreted as a "header" row: the values
 given are used as the keys in the resulting maps. Each subsequent line becomes
 a single map in the resulting list, matching the keys from the header row
 with the given values by index. All lines in the file must contain the same
 number of fields, or this function will produce an error.
  </p>
  <h2 id="examples">
   <a class="anchor" href="#examples" name="examples">
    »
   </a>
   Examples
  </h2>
  <div class="highlight">
   <pre class="highlight plaintext"><code>&gt; csvdecode("a,b,c\n1,2,3\n4,5,6")
 [
   {
     "a" = "1"
     "b" = "2"
     "c" = "3"
   },
   {
     "a" = "4"
     "b" = "5"
     "c" = "6"
   }
 ]
 </code></pre>
  </div>
  <h2 id="use-with-the-for_each-meta-argument">
   <a class="anchor" href="#use-with-the-for_each-meta-argument" name="use-with-the-for_each-meta-argument">
    »
   </a>
   Use with the
   <code>
    for_each
   </code>
   meta-argument
  </h2>
  <p>
   You can use the result of
   <code>
    csvdecode
   </code>
   with
   <a href="/docs/language/meta-arguments/for_each.html">
    the
    <code>
     for_each
    </code>
    meta-argument
   </a>
   to describe a collection of similar objects whose differences are
 described by the rows in the given CSV file.
  </p>
  <p>
   There must be one column in the CSV file that can serve as a unique id for each
 row, which we can then use as the tracking key for the individual instances in
 the
   <code>
    for_each
   </code>
   expression. For example:
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">locals</span> <span class="p">{</span>
   <span class="c1"># We've included this inline to create a complete example, but in practice</span>
   <span class="c1"># this is more likely to be loaded from a file using the "file" function.</span>
   <span class="n">csv_data</span> <span class="o">=</span> <span class="o">&lt;&lt;-</span><span class="no">CSV</span><span class="sh">
     local_id,instance_type,ami
     foo1,t2.micro,ami-54d2a63b
     foo2,t2.micro,ami-54d2a63b
     foo3,t2.micro,ami-54d2a63b
     bar1,m3.large,ami-54d2a63b
 </span><span class="no">  CSV</span>
 
   <span class="n">instances</span> <span class="o">=</span> <span class="n">csvdecode</span><span class="p">(</span><span class="n">local</span><span class="p">.</span><span class="nf">csv_data</span><span class="p">)</span>
 <span class="p">}</span>
 
 <span class="n">resource</span> <span class="s2">"aws_instance"</span> <span class="s2">"example"</span> <span class="p">{</span>
   <span class="n">for_each</span> <span class="o">=</span> <span class="p">{</span> <span class="k">for</span> <span class="n">inst</span> <span class="k">in</span> <span class="n">local</span><span class="p">.</span><span class="nf">instances</span> <span class="p">:</span> <span class="n">inst</span><span class="p">.</span><span class="nf">local_id</span> <span class="o">=&gt;</span> <span class="n">inst</span> <span class="p">}</span>
 
   <span class="n">instance_type</span> <span class="o">=</span> <span class="n">each</span><span class="p">.</span><span class="nf">value</span><span class="p">.</span><span class="nf">instance_type</span>
   <span class="n">ami</span>           <span class="o">=</span> <span class="n">each</span><span class="p">.</span><span class="nf">value</span><span class="p">.</span><span class="nf">ami</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <p>
   The
   <code>
    for
   </code>
   expression in our
   <code>
    for_each
   </code>
   argument transforms the list produced
 by
   <code>
    csvdecode
   </code>
   into a map using the
   <code>
    local_id
   </code>
   as a key, which tells
 Terraform to use the
   <code>
    local_id
   </code>
   value to track each instance it creates.
 Terraform will create and manage the following instance addresses:
  </p>
  <ul>
   <li>
    <a name="aws_instance-example-quot-foo1-quot-">
    </a>
    <a href="#aws_instance-example-quot-foo1-quot-">
     <code>
      aws_instance.example["foo1"]
     </code>
    </a>
   </li>
   <li>
    <a name="aws_instance-example-quot-foo2-quot-">
    </a>
    <a href="#aws_instance-example-quot-foo2-quot-">
     <code>
      aws_instance.example["foo2"]
     </code>
    </a>
   </li>
   <li>
    <a name="aws_instance-example-quot-foo3-quot-">
    </a>
    <a href="#aws_instance-example-quot-foo3-quot-">
     <code>
      aws_instance.example["foo3"]
     </code>
    </a>
   </li>
   <li>
    <a name="aws_instance-example-quot-bar1-quot-">
    </a>
    <a href="#aws_instance-example-quot-bar1-quot-">
     <code>
      aws_instance.example["bar1"]
     </code>
    </a>
   </li>
  </ul>
  <p>
   If you modify a row in the CSV on a subsequent plan, Terraform will interpret
 that as an update to the existing object as long as the
   <code>
    local_id
   </code>
   value is
 unchanged. If you add or remove rows from the CSV then Terraform will plan to
 create or destroy associated instances as appropriate.
  </p>
  <p>
   If there is no reasonable value you can use as a unique identifier in your CSV
 then you could instead use
   <a href="/docs/language/meta-arguments/count.html">
    the
    <code>
     count
    </code>
    meta-argument
   </a>
   to define an object for each CSV row, with each one identified by its index into
 the list returned by
   <code>
    csvdecode
   </code>
   . However, in that case any future updates to
 the CSV may be disruptive if they change the positions of particular objects in
 the list. We recommend using
   <code>
    for_each
   </code>
   with a unique id column to make
 behavior more predictable on future changes.
  </p>
 </div>
 
 <!-- ########### Encoding Functions : jsonencode ############### -->
 <!-- ########### https://www.terraform.io/docs/language/functions/jsondecode.html ############### --
 ><!-- ########### Encoding Functions : jsonencode ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="jsondecode-function">
    <a class="anchor" href="#jsondecode-function" name="jsondecode-function">
     »
    </a>
    <code>
     jsondecode
    </code>
    Function
   </h1>
  </div>
  <p>
   <code>
    jsondecode
   </code>
   interprets a given string as JSON, returning a representation
 of the result of decoding that string.
  </p>
  <p>
   The JSON encoding is defined in
   <a href="https://tools.ietf.org/html/rfc7159">
    RFC 7159
   </a>
   .
  </p>
  <p>
   This function maps JSON values to
   <a href="/docs/language/expressions/types.html">
    Terraform language values
   </a>
   in the following way:
  </p>
  <table>
   <thead>
    <tr>
     <th>
      JSON type
     </th>
     <th>
      Terraform type
     </th>
    </tr>
   </thead>
   <tbody>
    <tr>
     <td>
      String
     </td>
     <td>
      <code>
       string
      </code>
     </td>
    </tr>
    <tr>
     <td>
      Number
     </td>
     <td>
      <code>
       number
      </code>
     </td>
    </tr>
    <tr>
     <td>
      Boolean
     </td>
     <td>
      <code>
       bool
      </code>
     </td>
    </tr>
    <tr>
     <td>
      Object
     </td>
     <td>
      <code>
       object(...)
      </code>
      with attribute types determined per this table
     </td>
    </tr>
    <tr>
     <td>
      Array
     </td>
     <td>
      <code>
       tuple(...)
      </code>
      with element types determined per this table
     </td>
    </tr>
    <tr>
     <td>
      Null
     </td>
     <td>
      The Terraform language
      <code>
       null
      </code>
      value
     </td>
    </tr>
   </tbody>
  </table>
  <p>
   The Terraform language automatic type conversion rules mean that you don't
 usually need to worry about exactly what type is produced for a given value,
 and can just use the result in an intuitive way.
  </p>
  <h2 id="examples">
   <a class="anchor" href="#examples" name="examples">
    »
   </a>
   Examples
  </h2>
  <div class="highlight">
   <pre class="highlight plaintext"><code>&gt; jsondecode("{\"hello\": \"world\"}")
 {
   "hello" = "world"
 }
 &gt; jsondecode("true")
 true
 </code></pre>
  </div>
  <h2 id="related-functions">
   <a class="anchor" href="#related-functions" name="related-functions">
    »
   </a>
   Related Functions
  </h2>
  <ul>
   <li>
    <a href="/docs/language/functions/jsonencode.html">
     <code>
      jsonencode
     </code>
    </a>
    performs the opposite operation,
    <em>
     encoding
    </em>
    a value as JSON.
   </li>
  </ul>
 </div>
 
 <!-- ########### Encoding Functions : textdecodebase64 ############### -->
 <!-- ########### https://www.terraform.io/docs/language/functions/jsonencode.html ############### --
 ><!-- ########### Encoding Functions : textdecodebase64 ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="jsonencode-function">
    <a class="anchor" href="#jsonencode-function" name="jsonencode-function">
     »
    </a>
    <code>
     jsonencode
    </code>
    Function
   </h1>
  </div>
  <p>
   <code>
    jsonencode
   </code>
   encodes a given value to a string using JSON syntax.
  </p>
  <p>
   The JSON encoding is defined in
   <a href="https://tools.ietf.org/html/rfc7159">
    RFC 7159
   </a>
   .
  </p>
  <p>
   This function maps
   <a href="/docs/language/expressions/types.html">
    Terraform language values
   </a>
   to JSON values in the following way:
  </p>
  <table>
   <thead>
    <tr>
     <th>
      Terraform type
     </th>
     <th>
      JSON type
     </th>
    </tr>
   </thead>
   <tbody>
    <tr>
     <td>
      <code>
       string
      </code>
     </td>
     <td>
      String
     </td>
    </tr>
    <tr>
     <td>
      <code>
       number
      </code>
     </td>
     <td>
      Number
     </td>
    </tr>
    <tr>
     <td>
      <code>
       bool
      </code>
     </td>
     <td>
      Bool
     </td>
    </tr>
    <tr>
     <td>
      <code>
       list(...)
      </code>
     </td>
     <td>
      Array
     </td>
    </tr>
    <tr>
     <td>
      <code>
       set(...)
      </code>
     </td>
     <td>
      Array
     </td>
    </tr>
    <tr>
     <td>
      <code>
       tuple(...)
      </code>
     </td>
     <td>
      Array
     </td>
    </tr>
    <tr>
     <td>
      <code>
       map(...)
      </code>
     </td>
     <td>
      Object
     </td>
    </tr>
    <tr>
     <td>
      <code>
       object(...)
      </code>
     </td>
     <td>
      Object
     </td>
    </tr>
    <tr>
     <td>
      Null value
     </td>
     <td>
      <code>
       null
      </code>
     </td>
    </tr>
   </tbody>
  </table>
  <p>
   Since the JSON format cannot fully represent all of the Terraform language
 types, passing the
   <code>
    jsonencode
   </code>
   result to
   <code>
    jsondecode
   </code>
   will not produce an
 identical value, but the automatic type conversion rules mean that this is
 rarely a problem in practice.
  </p>
  <p>
   When encoding strings, this function escapes some characters using
 Unicode escape sequences: replacing
   <code>
    &lt;
   </code>
   ,
   <code>
    &gt;
   </code>
   ,
   <code>
    &amp;
   </code>
   ,
   <code>
    U+2028
   </code>
   , and
   <code>
    U+2029
   </code>
   with
   <code>
    \u003c
   </code>
   ,
   <code>
    \u003e
   </code>
   ,
   <code>
    \u0026
   </code>
   ,
   <code>
    \u2028
   </code>
   , and
   <code>
    \u2029
   </code>
   . This is to preserve
 compatibility with Terraform 0.11 behavior.
  </p>
  <h2 id="examples">
   <a class="anchor" href="#examples" name="examples">
    »
   </a>
   Examples
  </h2>
  <div class="highlight">
   <pre class="highlight plaintext"><code>&gt; jsonencode({"hello"="world"})
 {"hello":"world"}
 </code></pre>
  </div>
  <h2 id="related-functions">
   <a class="anchor" href="#related-functions" name="related-functions">
    »
   </a>
   Related Functions
  </h2>
  <ul>
   <li>
    <a href="/docs/language/functions/jsondecode.html">
     <code>
      jsondecode
     </code>
    </a>
    performs the opposite operation,
    <em>
     decoding
    </em>
    a JSON string to obtain its represented value.
   </li>
  </ul>
 </div>
 
 <!-- ########### Encoding Functions : textencodebase64 ############### -->
 <!-- ########### https://www.terraform.io/docs/language/functions/textdecodebase64.html ############### --
 ><!-- ########### Encoding Functions : textencodebase64 ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="textdecodebase64-function">
    <a class="anchor" href="#textdecodebase64-function" name="textdecodebase64-function">
     »
    </a>
    <code>
     textdecodebase64
    </code>
    Function
   </h1>
  </div>
  <div class="alert alert-info" role="alert">
   <p>
    <strong>
     Note:
    </strong>
    This function is supported only in Terraform v0.14 and later.
   </p>
  </div>
  <p>
   <code>
    textdecodebase64
   </code>
   function decodes a string that was previously Base64-encoded,
 and then interprets the result as characters in a specified character encoding.
  </p>
  <p>
   Terraform uses the "standard" Base64 alphabet as defined in
   <a href="https://tools.ietf.org/html/rfc4648#section-4">
    RFC 4648 section 4
   </a>
   .
  </p>
  <p>
   The
   <code>
    encoding_name
   </code>
   argument must contain one of the encoding names or aliases
 recorded in
   <a href="https://www.iana.org/assignments/character-sets/character-sets.xhtml">
    the IANA character encoding registry
   </a>
   .
 Terraform supports only a subset of the registered encodings, and the encoding
 support may vary between Terraform versions.
  </p>
  <p>
   Terraform accepts the encoding name
   <code>
    UTF-8
   </code>
   , which will produce the same result
 as
   <a href="/docs/language/functions/base64decode.html">
    <code>
     base64decode
    </code>
   </a>
   .
  </p>
  <h2 id="examples">
   <a class="anchor" href="#examples" name="examples">
    »
   </a>
   Examples
  </h2>
  <div class="highlight">
   <pre class="highlight plaintext"><code>&gt; textdecodebase64("SABlAGwAbABvACAAVwBvAHIAbABkAA==", "UTF-16LE")
 Hello World
 </code></pre>
  </div>
  <h2 id="related-functions">
   <a class="anchor" href="#related-functions" name="related-functions">
    »
   </a>
   Related Functions
  </h2>
  <ul>
   <li>
    <a href="/docs/language/functions/textencodebase64.html">
     <code>
      textencodebase64
     </code>
    </a>
    performs the opposite operation,
 applying target encoding and then Base64 to a string.
   </li>
   <li>
    <a href="/docs/language/functions/base64decode.html">
     <code>
      base64decode
     </code>
    </a>
    is effectively a shorthand for
    <code>
     textdecodebase64
    </code>
    where the character encoding is fixed as
    <code>
     UTF-8
    </code>
    .
   </li>
  </ul>
 </div>
 
 <!-- ########### Encoding Functions : urlencode ############### -->
 <!-- ########### https://www.terraform.io/docs/language/functions/textencodebase64.html ############### --
 ><!-- ########### Encoding Functions : urlencode ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="textencodebase64-function">
    <a class="anchor" href="#textencodebase64-function" name="textencodebase64-function">
     »
    </a>
    <code>
     textencodebase64
    </code>
    Function
   </h1>
  </div>
  <div class="alert alert-info" role="alert">
   <p>
    <strong>
     Note:
    </strong>
    This function is supported only in Terraform v0.14 and later.
   </p>
  </div>
  <p>
   <code>
    textencodebase64
   </code>
   encodes the unicode characters in a given string using a
 specified character encoding, returning the result base64 encoded because
 Terraform language strings are always sequences of unicode characters.
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">substr</span><span class="p">(</span><span class="n">string</span><span class="p">,</span> <span class="n">encoding_name</span><span class="p">)</span>
 </code></pre>
  </div>
  <p>
   Terraform uses the "standard" Base64 alphabet as defined in
   <a href="https://tools.ietf.org/html/rfc4648#section-4">
    RFC 4648 section 4
   </a>
   .
  </p>
  <p>
   The
   <code>
    encoding_name
   </code>
   argument must contain one of the encoding names or aliases
 recorded in
   <a href="https://www.iana.org/assignments/character-sets/character-sets.xhtml">
    the IANA character encoding registry
   </a>
   .
 Terraform supports only a subset of the registered encodings, and the encoding
 support may vary between Terraform versions. In particular Terraform supports
   <code>
    UTF-16LE
   </code>
   , which is the native character encoding for the Windows API and
 therefore sometimes expected by Windows-originated software such as PowerShell.
  </p>
  <p>
   Terraform also accepts the encoding name
   <code>
    UTF-8
   </code>
   , which will produce the same
 result as
   <a href="/docs/language/functions/base64encode.html">
    <code>
     base64encode
    </code>
   </a>
   .
  </p>
  <h2 id="examples">
   <a class="anchor" href="#examples" name="examples">
    »
   </a>
   Examples
  </h2>
  <div class="highlight">
   <pre class="highlight plaintext"><code>&gt; textencodebase64("Hello World", "UTF-16LE")
 SABlAGwAbABvACAAVwBvAHIAbABkAA==
 </code></pre>
  </div>
  <h2 id="related-functions">
   <a class="anchor" href="#related-functions" name="related-functions">
    »
   </a>
   Related Functions
  </h2>
  <ul>
   <li>
    <a href="/docs/language/functions/textdecodebase64.html">
     <code>
      textdecodebase64
     </code>
    </a>
    performs the opposite operation,
 decoding Base64 data and interpreting it as a particular character encoding.
   </li>
   <li>
    <a href="/docs/language/functions/base64encode.html">
     <code>
      base64encode
     </code>
    </a>
    applies Base64 encoding of the UTF-8
 encoding of a string.
   </li>
   <li>
    <a href="/docs/language/functions/filebase64.html">
     <code>
      filebase64
     </code>
    </a>
    reads a file from the local filesystem
 and returns its raw bytes with Base64 encoding, without creating an
 intermediate Unicode string.
   </li>
  </ul>
 </div>
 
 <!-- ########### Encoding Functions : yamldecode ############### -->
 <!-- ########### https://www.terraform.io/docs/language/functions/urlencode.html ############### --
 ><!-- ########### Encoding Functions : yamldecode ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="urlencode-function">
    <a class="anchor" href="#urlencode-function" name="urlencode-function">
     »
    </a>
    <code>
     urlencode
    </code>
    Function
   </h1>
  </div>
  <p>
   <code>
    urlencode
   </code>
   applies URL encoding to a given string.
  </p>
  <p>
   This function identifies characters in the given string that would have a
 special meaning when included as a query string argument in a URL and
 escapes them using
   <a href="https://tools.ietf.org/html/rfc3986#section-2.1">
    RFC 3986 "percent encoding"
   </a>
   .
  </p>
  <p>
   The exact set of characters escaped may change over time, but the result
 is guaranteed to be interpolatable into a query string argument without
 inadvertently introducing additional delimiters.
  </p>
  <p>
   If the given string contains non-ASCII characters, these are first encoded as
 UTF-8 and then percent encoding is applied separately to each UTF-8 byte.
  </p>
  <h2 id="examples">
   <a class="anchor" href="#examples" name="examples">
    »
   </a>
   Examples
  </h2>
  <div class="highlight">
   <pre class="highlight plaintext"><code>&gt; urlencode("Hello World")
 Hello%20World
 &gt; urlencode("☃")
 %E2%98%83
 &gt; "http://example.com/search?q=${urlencode("terraform urlencode")}"
 http://example.com/search?q=terraform%20urlencode
 </code></pre>
  </div>
 </div>
 
 <!-- ########### Encoding Functions : yamlencode ############### -->
 <!-- ########### https://www.terraform.io/docs/language/functions/yamldecode.html ############### --
 ><!-- ########### Encoding Functions : yamlencode ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="yamldecode-function">
    <a class="anchor" href="#yamldecode-function" name="yamldecode-function">
     »
    </a>
    <code>
     yamldecode
    </code>
    Function
   </h1>
  </div>
  <p>
   <code>
    yamldecode
   </code>
   parses a string as a subset of YAML, and produces a representation
 of its value.
  </p>
  <p>
   This function supports a subset of
   <a href="https://yaml.org/spec/1.2/spec.html">
    YAML 1.2
   </a>
   ,
 as described below.
  </p>
  <p>
   This function maps YAML values to
   <a href="/docs/language/expressions/types.html">
    Terraform language values
   </a>
   in the following way:
  </p>
  <table>
   <thead>
    <tr>
     <th>
      YAML type
     </th>
     <th>
      Terraform type
     </th>
    </tr>
   </thead>
   <tbody>
    <tr>
     <td>
      <code>
       !!str
      </code>
     </td>
     <td>
      <code>
       string
      </code>
     </td>
    </tr>
    <tr>
     <td>
      <code>
       !!float
      </code>
     </td>
     <td>
      <code>
       number
      </code>
     </td>
    </tr>
    <tr>
     <td>
      <code>
       !!int
      </code>
     </td>
     <td>
      <code>
       number
      </code>
     </td>
    </tr>
    <tr>
     <td>
      <code>
       !!bool
      </code>
     </td>
     <td>
      <code>
       bool
      </code>
     </td>
    </tr>
    <tr>
     <td>
      <code>
       !!map
      </code>
     </td>
     <td>
      <code>
       object(...)
      </code>
      with attribute types determined per this table
     </td>
    </tr>
    <tr>
     <td>
      <code>
       !!seq
      </code>
     </td>
     <td>
      <code>
       tuple(...)
      </code>
      with element types determined per this table
     </td>
    </tr>
    <tr>
     <td>
      <code>
       !!null
      </code>
     </td>
     <td>
      The Terraform language
      <code>
       null
      </code>
      value
     </td>
    </tr>
    <tr>
     <td>
      <code>
       !!timestamp
      </code>
     </td>
     <td>
      <code>
       string
      </code>
      in
      <a href="https://tools.ietf.org/html/rfc3339">
       RFC 3339
      </a>
      format
     </td>
    </tr>
    <tr>
     <td>
      <code>
       !!binary
      </code>
     </td>
     <td>
      <code>
       string
      </code>
      containing base64-encoded representation
     </td>
    </tr>
   </tbody>
  </table>
  <p>
   The Terraform language automatic type conversion rules mean that you don't
 usually need to worry about exactly what type is produced for a given value,
 and can just use the result in an intuitive way.
  </p>
  <p>
   Note though that the mapping above is ambiguous -- several different source
 types map to the same target type -- and so round-tripping through
   <code>
    yamldecode
   </code>
   and then
   <code>
    yamlencode
   </code>
   cannot produce an identical result.
  </p>
  <p>
   YAML is a complex language and it supports a number of possibilities that the
 Terraform language's type system cannot represent. Therefore this YAML decoder
 supports only a subset of YAML 1.2, with restrictions including the following:
  </p>
  <ul>
   <li>
    <p>
     Although aliases to earlier anchors are supported, cyclic data structures
 (where a reference to a collection appears inside that collection) are not.
 If
     <code>
      yamldecode
     </code>
     detects such a structure then it will return an error.
    </p>
   </li>
   <li>
    <p>
     Only the type tags shown in the above table (or equivalent alternative
 representations of those same tags) are supported. Any other tags will
 result in an error.
    </p>
   </li>
   <li>
    <p>
     Only one YAML document is permitted. If multiple documents are present in
 the given string then this function will return an error.
    </p>
   </li>
  </ul>
  <h2 id="examples">
   <a class="anchor" href="#examples" name="examples">
    »
   </a>
   Examples
  </h2>
  <div class="highlight">
   <pre class="highlight plaintext"><code>&gt; yamldecode("{\"hello\": \"world\"}")
 {
   "hello" = "world"
 }
 
 &gt; yamldecode("true")
 true
 
 &gt; yamldecode("{a: &amp;foo [1, 2, 3], b: *foo}")
 {
   "a" = [
     1,
     2,
     3,
   ]
   "b" = [
     1,
     2,
     3,
   ]
 }
 
 &gt; yamldecode("{a: &amp;foo [1, *foo, 3]}")
 
 Error: Error in function call
 
 Call to function "yamldecode" failed: cannot refer to anchor "foo" from inside
 its own definition.
 
 &gt; yamldecode("{a: !not-supported foo}")
 
 Error: Error in function call
 
 Call to function "yamldecode" failed: unsupported tag "!not-supported".
 </code></pre>
  </div>
  <h2 id="related-functions">
   <a class="anchor" href="#related-functions" name="related-functions">
    »
   </a>
   Related Functions
  </h2>
  <ul>
   <li>
    <a href="/docs/language/functions/jsondecode.html">
     <code>
      jsondecode
     </code>
    </a>
    is a similar operation using JSON instead
 of YAML.
   </li>
   <li>
    <a href="/docs/language/functions/yamlencode.html">
     <code>
      yamlencode
     </code>
    </a>
    performs the opposite operation,
    <em>
     encoding
    </em>
    a value as YAML.
   </li>
  </ul>
 </div>
 
 <!-- ########### Filesystem Functions : abspath ############### -->
 <!-- ########### https://www.terraform.io/docs/language/functions/yamlencode.html ############### --
 ><!-- ########### Filesystem Functions : abspath ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="yamlencode-function">
    <a class="anchor" href="#yamlencode-function" name="yamlencode-function">
     »
    </a>
    <code>
     yamlencode
    </code>
    Function
   </h1>
  </div>
  <p>
   <code>
    yamlencode
   </code>
   encodes a given value to a string using
   <a href="https://yaml.org/spec/1.2/spec.html">
    YAML 1.2
   </a>
   block syntax.
  </p>
  <div class="alert alert-warning" role="alert">
   <p>
    <strong>
     Warning:
    </strong>
    This function is currently
    <strong>
     experimental
    </strong>
    and its exact
 result format may change in future versions of Terraform, based on feedback.
 Do not use
    <code>
     yamldecode
    </code>
    to construct a value for any resource argument where
 changes to the result would be disruptive. To get a consistent string
 representation of a value use
    <a href="/docs/language/functions/jsonencode.html">
     <code>
      jsonencode
     </code>
    </a>
    instead; its
 results are also valid YAML because YAML is a JSON superset.
   </p>
  </div>
  <!--
 The condition for removing the above warning is that the underlying
 go-cty-yaml module makes a stable release with a commitment to guarantee
 that the representation of particular input will not change without a
 major release. It is not making that commitment at the time of writing to
 allow for responding to user feedback about its output format, since YAML
 is a very flexible format and its initial decisions may prove to be
 sub-optimal when generating YAML intended for specific external consumers.
 -->
  <p>
   This function maps
   <a href="/docs/language/expressions/types.html">
    Terraform language values
   </a>
   to YAML tags in the following way:
  </p>
  <table>
   <thead>
    <tr>
     <th>
      Terraform type
     </th>
     <th>
      YAML type
     </th>
    </tr>
   </thead>
   <tbody>
    <tr>
     <td>
      <code>
       string
      </code>
     </td>
     <td>
      <code>
       !!str
      </code>
     </td>
    </tr>
    <tr>
     <td>
      <code>
       number
      </code>
     </td>
     <td>
      <code>
       !!float
      </code>
      or
      <code>
       !!int
      </code>
     </td>
    </tr>
    <tr>
     <td>
      <code>
       bool
      </code>
     </td>
     <td>
      <code>
       !!bool
      </code>
     </td>
    </tr>
    <tr>
     <td>
      <code>
       list(...)
      </code>
     </td>
     <td>
      <code>
       !!seq
      </code>
     </td>
    </tr>
    <tr>
     <td>
      <code>
       set(...)
      </code>
     </td>
     <td>
      <code>
       !!seq
      </code>
     </td>
    </tr>
    <tr>
     <td>
      <code>
       tuple(...)
      </code>
     </td>
     <td>
      <code>
       !!seq
      </code>
     </td>
    </tr>
    <tr>
     <td>
      <code>
       map(...)
      </code>
     </td>
     <td>
      <code>
       !!map
      </code>
     </td>
    </tr>
    <tr>
     <td>
      <code>
       object(...)
      </code>
     </td>
     <td>
      <code>
       !!map
      </code>
     </td>
    </tr>
    <tr>
     <td>
      Null value
     </td>
     <td>
      <code>
       !!null
      </code>
     </td>
    </tr>
   </tbody>
  </table>
  <p>
   <code>
    yamlencode
   </code>
   uses the implied syntaxes for all of the above types, so it does
 not generate explicit YAML tags.
  </p>
  <p>
   Because the YAML format cannot fully represent all of the Terraform language
 types, passing the
   <code>
    yamlencode
   </code>
   result to
   <code>
    yamldecode
   </code>
   will not produce an
 identical value, but the Terraform language automatic type conversion rules
 mean that this is rarely a problem in practice.
  </p>
  <h2 id="examples">
   <a class="anchor" href="#examples" name="examples">
    »
   </a>
   Examples
  </h2>
  <div class="highlight">
   <pre class="highlight plaintext"><code>&gt; yamlencode({"a":"b", "c":"d"})
 "a": "b"
 "c": "d"
 
 &gt; yamlencode({"foo":[1, 2, 3], "bar": "baz"})
 "bar": "baz"
 "foo":
 - 1
 - 2
 - 3
 
 &gt; yamlencode({"foo":[1, {"a":"b","c":"d"}, 3], "bar": "baz"})
 "bar": "baz"
 "foo":
 - 1
 - "a": "b"
   "c": "d"
 - 3
 </code></pre>
  </div>
  <p>
   <code>
    yamlencode
   </code>
   always uses YAML's "block style" for mappings and sequences, unless
 the mapping or sequence is empty. To generate flow-style YAML, use
   <a href="/docs/language/functions/jsonencode.html">
    <code>
     jsonencode
    </code>
   </a>
   instead: YAML flow-style is a superset
 of JSON syntax.
  </p>
  <h2 id="related-functions">
   <a class="anchor" href="#related-functions" name="related-functions">
    »
   </a>
   Related Functions
  </h2>
  <ul>
   <li>
    <a href="/docs/language/functions/jsonencode.html">
     <code>
      jsonencode
     </code>
    </a>
    is a similar operation using JSON instead
 of YAML.
   </li>
   <li>
    <a href="/docs/language/functions/yamldecode.html">
     <code>
      yamldecode
     </code>
    </a>
    performs the opposite operation,
    <em>
     decoding
    </em>
    a YAML string to obtain its represented value.
   </li>
  </ul>
 </div>
 
 <!-- ########### Filesystem Functions : dirname ############### -->
 <!-- ########### https://www.terraform.io/docs/language/functions/abspath.html ############### --
 ><!-- ########### Filesystem Functions : dirname ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="abspath-function">
    <a class="anchor" href="#abspath-function" name="abspath-function">
     »
    </a>
    <code>
     abspath
    </code>
    Function
   </h1>
  </div>
  <p>
   <code>
    abspath
   </code>
   takes a string containing a filesystem path and converts it
 to an absolute path. That is, if the path is not absolute, it will be joined
 with the current working directory.
  </p>
  <p>
   Referring directly to filesystem paths in resource arguments may cause
 spurious diffs if the same configuration is applied from multiple systems or on
 different host operating systems. We recommend using filesystem paths only
 for transient values, such as the argument to
   <a href="/docs/language/functions/file.html">
    <code>
     file
    </code>
   </a>
   (where
 only the contents are then stored) or in
   <code>
    connection
   </code>
   and
   <code>
    provisioner
   </code>
   blocks.
  </p>
  <h2 id="examples">
   <a class="anchor" href="#examples" name="examples">
    »
   </a>
   Examples
  </h2>
  <div class="highlight">
   <pre class="highlight plaintext"><code>&gt; abspath(path.root)
 /home/user/some/terraform/root
 </code></pre>
  </div>
 </div>
 
 <!-- ########### Filesystem Functions : pathexpand ############### -->
 <!-- ########### https://www.terraform.io/docs/language/functions/dirname.html ############### --
 ><!-- ########### Filesystem Functions : pathexpand ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="dirname-function">
    <a class="anchor" href="#dirname-function" name="dirname-function">
     »
    </a>
    <code>
     dirname
    </code>
    Function
   </h1>
  </div>
  <p>
   <code>
    dirname
   </code>
   takes a string containing a filesystem path and removes the last
 portion from it.
  </p>
  <p>
   This function works only with the path string and does not access the
 filesystem itself. It is therefore unable to take into account filesystem
 features such as symlinks.
  </p>
  <p>
   If the path is empty then the result is
   <code>
    "."
   </code>
   , representing the current
 working directory.
  </p>
  <p>
   The behavior of this function depends on the host platform. On Windows systems,
 it uses backslash
   <code>
    \
   </code>
   as the path segment separator. On Unix systems, the slash
   <code>
    /
   </code>
   is used. The result of this function is normalized, so on a Windows system
 any slashes in the given path will be replaced by backslashes before returning.
  </p>
  <p>
   Referring directly to filesystem paths in resource arguments may cause
 spurious diffs if the same configuration is applied from multiple systems or on
 different host operating systems. We recommend using filesystem paths only
 for transient values, such as the argument to
   <a href="/docs/language/functions/file.html">
    <code>
     file
    </code>
   </a>
   (where
 only the contents are then stored) or in
   <code>
    connection
   </code>
   and
   <code>
    provisioner
   </code>
   blocks.
  </p>
  <h2 id="examples">
   <a class="anchor" href="#examples" name="examples">
    »
   </a>
   Examples
  </h2>
  <div class="highlight">
   <pre class="highlight plaintext"><code>&gt; dirname("foo/bar/baz.txt")
 foo/bar
 </code></pre>
  </div>
  <h2 id="related-functions">
   <a class="anchor" href="#related-functions" name="related-functions">
    »
   </a>
   Related Functions
  </h2>
  <ul>
   <li>
    <a href="/docs/language/functions/basename.html">
     <code>
      basename
     </code>
    </a>
    returns
    <em>
     only
    </em>
    the last portion of a filesystem
 path, discarding the portion that would be returned by
    <code>
     dirname
    </code>
    .
   </li>
  </ul>
 </div>
 
 <!-- ########### Filesystem Functions : basename ############### -->
 <!-- ########### https://www.terraform.io/docs/language/functions/pathexpand.html ############### --
 ><!-- ########### Filesystem Functions : basename ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="pathexpand-function">
    <a class="anchor" href="#pathexpand-function" name="pathexpand-function">
     »
    </a>
    <code>
     pathexpand
    </code>
    Function
   </h1>
  </div>
  <p>
   <code>
    pathexpand
   </code>
   takes a filesystem path that might begin with a
   <code>
    ~
   </code>
   segment,
 and if so it replaces that segment with the current user's home directory
 path.
  </p>
  <p>
   This function works only with the path string and does not access the
 filesystem itself. It is therefore unable to take into account filesystem
 features such as symlinks.
  </p>
  <p>
   If the leading segment in the path is not
   <code>
    ~
   </code>
   then the given path is returned
 unmodified.
  </p>
  <p>
   Using this function in resource arguments will cause spurious diffs if the
 same configuration is run by multiple users with different home directory
 paths, or used on different host operating systems. We recommend using this
 function only for transient values, such as in
   <code>
    connection
   </code>
   and
   <code>
    provisioner
   </code>
   blocks to locate SSH keys, etc.
  </p>
  <p>
   The rules for determining the "home directory" for the current user vary
 depending on host operating system.
  </p>
  <p>
   <strong>
    For Unix systems
   </strong>
   , the following sources are consulted, in order of preference:
  </p>
  <ul>
   <li>
    The
    <code>
     HOME
    </code>
    environment variable.
   </li>
   <li>
    The result of running
    <code>
     getent passwd
    </code>
    followed by the Terraform process uid.
   </li>
   <li>
    The result of running
    <code>
     cd &amp;&amp; pwd
    </code>
    in
    <code>
     sh
    </code>
    .
   </li>
  </ul>
  <p>
   <strong>
    For Windows systems
   </strong>
   , there is not really the concept of a home directory
 in the same sense as on Unix, but the following sources are consulted in
 order of preference:
  </p>
  <ul>
   <li>
    The
    <code>
     HOME
    </code>
    environment variable.
   </li>
   <li>
    The
    <code>
     HOMEDRIVE
    </code>
    and
    <code>
     HOMEPATH
    </code>
    environment variables, if both are set.
   </li>
   <li>
    The
    <code>
     USERPROFILE
    </code>
    environment variable.
   </li>
  </ul>
  <p>
   The exact rules employed for each operating system may change in future
 releases of Terraform.
  </p>
  <h2 id="examples">
   <a class="anchor" href="#examples" name="examples">
    »
   </a>
   Examples
  </h2>
  <div class="highlight">
   <pre class="highlight plaintext"><code>&gt; pathexpand("~/.ssh/id_rsa")
 /home/steve/.ssh/id_rsa
 &gt; pathexpand("/etc/resolv.conf")
 /etc/resolv.conf
 </code></pre>
  </div>
 </div>
 
 <!-- ########### Filesystem Functions : file ############### -->
 <!-- ########### https://www.terraform.io/docs/language/functions/basename.html ############### --
 ><!-- ########### Filesystem Functions : file ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="basename-function">
    <a class="anchor" href="#basename-function" name="basename-function">
     »
    </a>
    <code>
     basename
    </code>
    Function
   </h1>
  </div>
  <p>
   <code>
    basename
   </code>
   takes a string containing a filesystem path and removes all except
 the last portion from it.
  </p>
  <p>
   This function works only with the path string and does not access the
 filesystem itself. It is therefore unable to take into account filesystem
 features such as symlinks.
  </p>
  <p>
   If the path is empty then the result is
   <code>
    "."
   </code>
   , representing the current
 working directory.
  </p>
  <p>
   The behavior of this function depends on the host platform. On Windows systems,
 it uses backslash
   <code>
    \
   </code>
   as the path segment separator. On Unix systems, the slash
   <code>
    /
   </code>
   is used.
  </p>
  <p>
   Referring directly to filesystem paths in resource arguments may cause
 spurious diffs if the same configuration is applied from multiple systems or on
 different host operating systems. We recommend using filesystem paths only
 for transient values, such as the argument to
   <a href="/docs/language/functions/file.html">
    <code>
     file
    </code>
   </a>
   (where
 only the contents are then stored) or in
   <code>
    connection
   </code>
   and
   <code>
    provisioner
   </code>
   blocks.
  </p>
  <h2 id="examples">
   <a class="anchor" href="#examples" name="examples">
    »
   </a>
   Examples
  </h2>
  <div class="highlight">
   <pre class="highlight plaintext"><code>&gt; basename("foo/bar/baz.txt")
 baz.txt
 </code></pre>
  </div>
  <h2 id="related-functions">
   <a class="anchor" href="#related-functions" name="related-functions">
    »
   </a>
   Related Functions
  </h2>
  <ul>
   <li>
    <a href="/docs/language/functions/dirname.html">
     <code>
      dirname
     </code>
    </a>
    returns all of the segments of a filesystem path
    <em>
     except
    </em>
    the last, discarding the portion that would be returned by
    <code>
     basename
    </code>
    .
   </li>
  </ul>
 </div>
 
 <!-- ########### Filesystem Functions : fileexists ############### -->
 <!-- ########### https://www.terraform.io/docs/language/functions/file.html ############### --
 ><!-- ########### Filesystem Functions : fileexists ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="file-function">
    <a class="anchor" href="#file-function" name="file-function">
     »
    </a>
    <code>
     file
    </code>
    Function
   </h1>
  </div>
  <p>
   <code>
    file
   </code>
   reads the contents of a file at the given path and returns them as
 a string.
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">file</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
 </code></pre>
  </div>
  <p>
   Strings in the Terraform language are sequences of Unicode characters, so
 this function will interpret the file contents as UTF-8 encoded text and
 return the resulting Unicode characters. If the file contains invalid UTF-8
 sequences then this function will produce an error.
  </p>
  <p>
   This function can be used only with files that already exist on disk
 at the beginning of a Terraform run. Functions do not participate in the
 dependency graph, so this function cannot be used with files that are generated
 dynamically during a Terraform operation. We do not recommend using dynamic
 local files in Terraform configurations, but in rare situations where this is
 necessary you can use
   <a href="https://registry.terraform.io/providers/hashicorp/local/latest/docs/data-sources/file">
    the
    <code>
     local_file
    </code>
    data source
   </a>
   to read files while respecting resource dependencies.
  </p>
  <h2 id="examples">
   <a class="anchor" href="#examples" name="examples">
    »
   </a>
   Examples
  </h2>
  <div class="highlight">
   <pre class="highlight plaintext"><code>&gt; file("${path.module}/hello.txt")
 Hello World
 </code></pre>
  </div>
  <h2 id="related-functions">
   <a class="anchor" href="#related-functions" name="related-functions">
    »
   </a>
   Related Functions
  </h2>
  <ul>
   <li>
    <a href="/docs/language/functions/filebase64.html">
     <code>
      filebase64
     </code>
    </a>
    also reads the contents of a given file,
 but returns the raw bytes in that file Base64-encoded, rather than
 interpreting the contents as UTF-8 text.
   </li>
   <li>
    <a href="/docs/language/functions/fileexists.html">
     <code>
      fileexists
     </code>
    </a>
    determines whether a file exists
 at a given path.
   </li>
   <li>
    <a href="/docs/language/functions/templatefile.html">
     <code>
      templatefile
     </code>
    </a>
    renders using a file from disk as a
 template.
   </li>
  </ul>
 </div>
 
 <!-- ########### Filesystem Functions : fileset ############### -->
 <!-- ########### https://www.terraform.io/docs/language/functions/fileexists.html ############### --
 ><!-- ########### Filesystem Functions : fileset ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="fileexists-function">
    <a class="anchor" href="#fileexists-function" name="fileexists-function">
     »
    </a>
    <code>
     fileexists
    </code>
    Function
   </h1>
  </div>
  <p>
   <code>
    fileexists
   </code>
   determines whether a file exists at a given path.
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">fileexists</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
 </code></pre>
  </div>
  <p>
   Functions are evaluated during configuration parsing rather than at apply time,
 so this function can only be used with files that are already present on disk
 before Terraform takes any actions.
  </p>
  <p>
   This function works only with regular files. If used with a directory, FIFO,
 or other special mode, it will return an error.
  </p>
  <h2 id="examples">
   <a class="anchor" href="#examples" name="examples">
    »
   </a>
   Examples
  </h2>
  <div class="highlight">
   <pre class="highlight plaintext"><code>&gt; fileexists("${path.module}/hello.txt")
 true
 </code></pre>
  </div>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">fileexists</span><span class="p">(</span><span class="s2">"custom-section.sh"</span><span class="p">)</span> <span class="p">?</span> <span class="n">file</span><span class="p">(</span><span class="s2">"custom-section.sh"</span><span class="p">)</span> <span class="p">:</span> <span class="n">local</span><span class="p">.</span><span class="nf">default_content</span>
 </code></pre>
  </div>
  <h2 id="related-functions">
   <a class="anchor" href="#related-functions" name="related-functions">
    »
   </a>
   Related Functions
  </h2>
  <ul>
   <li>
    <a href="/docs/language/functions/file.html">
     <code>
      file
     </code>
    </a>
    reads the contents of a file at a given path
   </li>
  </ul>
 </div>
 
 <!-- ########### Filesystem Functions : filebase64 ############### -->
 <!-- ########### https://www.terraform.io/docs/language/functions/fileset.html ############### --
 ><!-- ########### Filesystem Functions : filebase64 ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="fileset-function">
    <a class="anchor" href="#fileset-function" name="fileset-function">
     »
    </a>
    <code>
     fileset
    </code>
    Function
   </h1>
  </div>
  <p>
   <code>
    fileset
   </code>
   enumerates a set of regular file names given a path and pattern.
 The path is automatically removed from the resulting set of file names and any
 result still containing path separators always returns forward slash (
   <code>
    /
   </code>
   ) as
 the path separator for cross-system compatibility.
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">fileset</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">pattern</span><span class="p">)</span>
 </code></pre>
  </div>
  <p>
   Supported pattern matches:
  </p>
  <ul>
   <li>
    <a name="">
    </a>
    <a href="#">
     <code>
      *
     </code>
    </a>
    - matches any sequence of non-separator characters
   </li>
   <li>
    <a name="-1">
    </a>
    <a href="#-1">
     <code>
      **
     </code>
    </a>
    - matches any sequence of characters, including separator characters
   </li>
   <li>
    <a name="-2">
    </a>
    <a href="#-2">
     <code>
      ?
     </code>
    </a>
    - matches any single non-separator character
   </li>
   <li>
    <a name="alternative1-">
    </a>
    <a href="#alternative1-">
     <code>
      {alternative1,...}
     </code>
    </a>
    - matches a sequence of characters if one of the comma-separated alternatives matches
   </li>
   <li>
    <a name="class-">
    </a>
    <a href="#class-">
     <code>
      [CLASS]
     </code>
    </a>
    - matches any single non-separator character inside a class of characters (see below)
   </li>
   <li>
    <a name="class--1">
    </a>
    <a href="#class--1">
     <code>
      [^CLASS]
     </code>
    </a>
    - matches any single non-separator character outside a class of characters (see below)
   </li>
  </ul>
  <p>
   Character classes support the following:
  </p>
  <ul>
   <li>
    <a name="abc-">
    </a>
    <a href="#abc-">
     <code>
      [abc]
     </code>
    </a>
    - matches any single character within the set
   </li>
   <li>
    <a name="a-z-">
    </a>
    <a href="#a-z-">
     <code>
      [a-z]
     </code>
    </a>
    - matches any single character within the range
   </li>
  </ul>
  <p>
   Functions are evaluated during configuration parsing rather than at apply time,
 so this function can only be used with files that are already present on disk
 before Terraform takes any actions.
  </p>
  <h2 id="examples">
   <a class="anchor" href="#examples" name="examples">
    »
   </a>
   Examples
  </h2>
  <div class="highlight">
   <pre class="highlight plaintext"><code>&gt; fileset(path.module, "files/*.txt")
 [
   "files/hello.txt",
   "files/world.txt",
 ]
 
 &gt; fileset(path.module, "files/{hello,world}.txt")
 [
   "files/hello.txt",
   "files/world.txt",
 ]
 
 &gt; fileset("${path.module}/files", "*")
 [
   "hello.txt",
   "world.txt",
 ]
 
 &gt; fileset("${path.module}/files", "**")
 [
   "hello.txt",
   "world.txt",
   "subdirectory/anotherfile.txt",
 ]
 </code></pre>
  </div>
  <p>
   A common use of
   <code>
    fileset
   </code>
   is to create one resource instance per matched file, using
   <a href="/docs/language/meta-arguments/for_each.html">
    the
    <code>
     for_each
    </code>
    meta-argument
   </a>
   :
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">resource</span> <span class="s2">"example_thing"</span> <span class="s2">"example"</span> <span class="p">{</span>
   <span class="n">for_each</span> <span class="o">=</span> <span class="n">fileset</span><span class="p">(</span><span class="n">path</span><span class="p">.</span><span class="nf">module</span><span class="p">,</span> <span class="s2">"files/*"</span><span class="p">)</span>
 
   <span class="c1"># other configuration using each.value</span>
 <span class="p">}</span>
 </code></pre>
  </div>
 </div>
 
 <!-- ########### Filesystem Functions : templatefile ############### -->
 <!-- ########### https://www.terraform.io/docs/language/functions/filebase64.html ############### --
 ><!-- ########### Filesystem Functions : templatefile ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="filebase64-function">
    <a class="anchor" href="#filebase64-function" name="filebase64-function">
     »
    </a>
    <code>
     filebase64
    </code>
    Function
   </h1>
  </div>
  <p>
   <code>
    filebase64
   </code>
   reads the contents of a file at the given path and returns them as
 a base64-encoded string.
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">filebase64</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
 </code></pre>
  </div>
  <p>
   The result is a Base64 representation of the raw bytes in the given file.
 Strings in the Terraform language are sequences of Unicode characters, so
 Base64 is the standard way to represent raw binary data that cannot be
 interpreted as Unicode characters. Resource types that operate on binary
 data will accept this data encoded in Base64, thus avoiding the need to
 decode the result of this function.
  </p>
  <p>
   Terraform uses the "standard" Base64 alphabet as defined in
   <a href="https://tools.ietf.org/html/rfc4648#section-4">
    RFC 4648 section 4
   </a>
   .
  </p>
  <p>
   This function can be used only with functions that already exist as static
 files on disk at the beginning of a Terraform run. Language functions do not
 participate in the dependency graph, so this function cannot be used with
 files that are generated dynamically during a Terraform operation.
  </p>
  <h2 id="examples">
   <a class="anchor" href="#examples" name="examples">
    »
   </a>
   Examples
  </h2>
  <div class="highlight">
   <pre class="highlight plaintext"><code>&gt; filebase64("${path.module}/hello.txt")
 SGVsbG8gV29ybGQ=
 </code></pre>
  </div>
  <h2 id="related-functions">
   <a class="anchor" href="#related-functions" name="related-functions">
    »
   </a>
   Related Functions
  </h2>
  <ul>
   <li>
    <a href="/docs/language/functions/file.html">
     <code>
      file
     </code>
    </a>
    also reads the contents of a given file,
 but interprets the data as UTF-8 text and returns the result directly
 as a string, without any further encoding.
   </li>
   <li>
    <a href="/docs/language/functions/base64decode.html">
     <code>
      base64decode
     </code>
    </a>
    can decode a Base64 string representing
 bytes in UTF-8, but in practice
    <code>
     base64decode(filebase64(...))
    </code>
    is equivalent
 to the shorter expression
    <code>
     file(...)
    </code>
    .
   </li>
  </ul>
 </div>
 
 <!-- ########### Date and Time Functions : formatdate ############### -->
 <!-- ########### https://www.terraform.io/docs/language/functions/templatefile.html ############### --
 ><!-- ########### Date and Time Functions : formatdate ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="templatefile-function">
    <a class="anchor" href="#templatefile-function" name="templatefile-function">
     »
    </a>
    <code>
     templatefile
    </code>
    Function
   </h1>
   <div id="inner-quicknav">
    <span id="inner-quicknav-trigger">
     Jump to Section
     <svg height="5" width="9" xmlns="http://www.w3.org/2000/svg">
      <path d="M8.811 1.067a.612.612 0 0 0 0-.884.655.655 0 0 0-.908 0L4.5 3.491 1.097.183a.655.655 0 0 0-.909 0 .615.615 0 0 0 0 .884l3.857 3.75a.655.655 0 0 0 .91 0l3.856-3.75z" fill-rule="evenodd">
      </path>
     </svg>
    </span>
    <ul class="dropdown">
     <li class="level-h2">
      <a href="#examples">
       »
 Examples
      </a>
     </li>
     <li class="level-h3">
      <a href="#lists">
       »
 Lists
      </a>
     </li>
     <li class="level-h3">
      <a href="#maps">
       »
 Maps
      </a>
     </li>
     <li class="level-h3">
      <a href="#generating-json-or-yaml-from-a-template">
       »
 Generating JSON or YAML from a template
      </a>
     </li>
     <li class="level-h2">
      <a href="#related-functions">
       »
 Related Functions
      </a>
     </li>
    </ul>
   </div>
  </div>
  <p>
   <code>
    templatefile
   </code>
   reads the file at the given path and renders its content
 as a template using a supplied set of template variables.
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">templatefile</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">vars</span><span class="p">)</span>
 </code></pre>
  </div>
  <p>
   The template syntax is the same as for
   <a href="/docs/language/expressions/strings.html#string-templates">
    string templates
   </a>
   in the main Terraform language, including interpolation sequences delimited with
   <code>
    ${
   </code>
   ...
   <code>
    }
   </code>
   . This function just allows longer template sequences to be factored
 out into a separate file for readability.
  </p>
  <p>
   The "vars" argument must be a map. Within the template file, each of the keys
 in the map is available as a variable for interpolation. The template may
 also use any other function available in the Terraform language, except that
 recursive calls to
   <code>
    templatefile
   </code>
   are not permitted. Variable names must
 each start with a letter, followed by zero or more letters, digits, or
 underscores.
  </p>
  <p>
   Strings in the Terraform language are sequences of Unicode characters, so
 this function will interpret the file contents as UTF-8 encoded text and
 return the resulting Unicode characters. If the file contains invalid UTF-8
 sequences then this function will produce an error.
  </p>
  <p>
   This function can be used only with files that already exist on disk at the
 beginning of a Terraform run. Functions do not participate in the dependency
 graph, so this function cannot be used with files that are generated
 dynamically during a Terraform operation.
  </p>
  <h2 id="examples">
   <a class="anchor" href="#examples" name="examples">
    »
   </a>
   Examples
  </h2>
  <h3 id="lists">
   <a class="anchor" href="#lists" name="lists">
    »
   </a>
   Lists
  </h3>
  <p>
   Given a template file
   <code>
    backends.tpl
   </code>
   with the following content:
  </p>
  <div class="highlight">
   <pre class="highlight plaintext"><code>%{ for addr in ip_addrs ~}
 backend ${addr}:${port}
 %{ endfor ~}
 </code></pre>
  </div>
  <p>
   The
   <code>
    templatefile
   </code>
   function renders the template:
  </p>
  <div class="highlight">
   <pre class="highlight plaintext"><code>&gt; templatefile("${path.module}/backends.tpl", { port = 8080, ip_addrs = ["10.0.0.1", "10.0.0.2"] })
 backend 10.0.0.1:8080
 backend 10.0.0.2:8080
 
 </code></pre>
  </div>
  <h3 id="maps">
   <a class="anchor" href="#maps" name="maps">
    »
   </a>
   Maps
  </h3>
  <p>
   Given a template file
   <code>
    config.tmpl
   </code>
   with the following content:
  </p>
  <div class="highlight">
   <pre class="highlight plaintext"><code>%{ for config_key, config_value in config }
 set ${config_key} = ${config_value}
 %{ endfor ~}
 </code></pre>
  </div>
  <p>
   The
   <code>
    templatefile
   </code>
   function renders the template:
  </p>
  <div class="highlight">
   <pre class="highlight plaintext"><code>&gt; templatefile(
                "${path.module}/config.tmpl",
                {
                  config = {
                    "x"   = "y"
                    "foo" = "bar"
                    "key" = "value"
                  }
                }
               )
 set foo = bar
 set key = value
 set x = y
 </code></pre>
  </div>
  <h3 id="generating-json-or-yaml-from-a-template">
   <a class="anchor" href="#generating-json-or-yaml-from-a-template" name="generating-json-or-yaml-from-a-template">
    »
   </a>
   Generating JSON or YAML from a template
  </h3>
  <p>
   If the string you want to generate will be in JSON or YAML syntax, it's
 often tricky and tedious to write a template that will generate valid JSON or
 YAML that will be interpreted correctly when using lots of individual
 interpolation sequences and directives.
  </p>
  <p>
   Instead, you can write a template that consists only of a single interpolated
 call to either
   <a href="/docs/language/functions/jsonencode.html">
    <code>
     jsonencode
    </code>
   </a>
   or
   <a href="/docs/language/functions/yamlencode.html">
    <code>
     yamlencode
    </code>
   </a>
   , specifying the value to encode using
   <a href="/docs/language/expressions/index.html">
    normal Terraform expression syntax
   </a>
   as in the following examples:
  </p>
  <div class="highlight">
   <pre class="highlight plaintext"><code>${jsonencode({
   "backends": [for addr in ip_addrs : "${addr}:${port}"],
 })}
 </code></pre>
  </div>
  <div class="highlight">
   <pre class="highlight plaintext"><code>${yamlencode({
   "backends": [for addr in ip_addrs : "${addr}:${port}"],
 })}
 </code></pre>
  </div>
  <p>
   Given the same input as the
   <code>
    backends.tmpl
   </code>
   example in the previous section,
 this will produce a valid JSON or YAML representation of the given data
 structure, without the need to manually handle escaping or delimiters.
 In the latest examples above, the repetition based on elements of
   <code>
    ip_addrs
   </code>
   is
 achieved by using a
   <a href="/docs/language/expressions/for.html">
    <code>
     for
    </code>
    expression
   </a>
   rather than by using
   <a href="/docs/language/expressions/strings.html#directives">
    template directives
   </a>
   .
  </p>
  <div class="highlight">
   <pre class="highlight json"><code><span class="p">{</span><span class="nl">"backends"</span><span class="p">:[</span><span class="s2">"10.0.0.1:8080"</span><span class="p">,</span><span class="s2">"10.0.0.2:8080"</span><span class="p">]}</span><span class="w">
 </span></code></pre>
  </div>
  <p>
   If the resulting template is small, you can choose instead to write
   <code>
    jsonencode
   </code>
   or
   <code>
    yamlencode
   </code>
   calls inline in your main configuration files, and
 avoid creating separate template files at all:
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">locals</span> <span class="p">{</span>
   <span class="n">backend_config_json</span> <span class="o">=</span> <span class="n">jsonencode</span><span class="p">({</span>
     <span class="s2">"backends"</span><span class="p">:</span> <span class="p">[</span><span class="k">for</span> <span class="n">addr</span> <span class="k">in</span> <span class="n">ip_addrs</span> <span class="p">:</span> <span class="s2">"${addr}:${port}"</span><span class="p">],</span>
   <span class="p">})</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <p>
   For more information, see the main documentation for
   <a href="/docs/language/functions/jsonencode.html">
    <code>
     jsonencode
    </code>
   </a>
   and
   <a href="/docs/language/functions/yamlencode.html">
    <code>
     yamlencode
    </code>
   </a>
   .
  </p>
  <h2 id="related-functions">
   <a class="anchor" href="#related-functions" name="related-functions">
    »
   </a>
   Related Functions
  </h2>
  <ul>
   <li>
    <a href="/docs/language/functions/file.html">
     <code>
      file
     </code>
    </a>
    reads a file from disk and returns its literal contents
 without any template interpretation.
   </li>
  </ul>
 </div>
 
 <!-- ########### Date and Time Functions : timeadd ############### -->
 <!-- ########### https://www.terraform.io/docs/language/functions/formatdate.html ############### --
 ><!-- ########### Date and Time Functions : timeadd ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="formatdate-function">
    <a class="anchor" href="#formatdate-function" name="formatdate-function">
     »
    </a>
    <code>
     formatdate
    </code>
    Function
   </h1>
   <div id="inner-quicknav">
    <span id="inner-quicknav-trigger">
     Jump to Section
     <svg height="5" width="9" xmlns="http://www.w3.org/2000/svg">
      <path d="M8.811 1.067a.612.612 0 0 0 0-.884.655.655 0 0 0-.908 0L4.5 3.491 1.097.183a.655.655 0 0 0-.909 0 .615.615 0 0 0 0 .884l3.857 3.75a.655.655 0 0 0 .91 0l3.856-3.75z" fill-rule="evenodd">
      </path>
     </svg>
    </span>
    <ul class="dropdown">
     <li class="level-h2">
      <a href="#examples">
       »
 Examples
      </a>
     </li>
     <li class="level-h2">
      <a href="#specification-syntax">
       »
 Specification Syntax
      </a>
     </li>
     <li class="level-h2">
      <a href="#related-functions">
       »
 Related Functions
      </a>
     </li>
    </ul>
   </div>
  </div>
  <p>
   <code>
    formatdate
   </code>
   converts a timestamp into a different time format.
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">formatdate</span><span class="p">(</span><span class="n">spec</span><span class="p">,</span> <span class="n">timestamp</span><span class="p">)</span>
 </code></pre>
  </div>
  <p>
   In the Terraform language, timestamps are conventionally represented as
 strings using
   <a href="https://tools.ietf.org/html/rfc3339">
    RFC 3339
   </a>
   "Date and Time format" syntax.
   <code>
    formatdate
   </code>
   requires the
   <code>
    timestamp
   </code>
   argument
 to be a string conforming to this syntax.
  </p>
  <h2 id="examples">
   <a class="anchor" href="#examples" name="examples">
    »
   </a>
   Examples
  </h2>
  <div class="highlight">
   <pre class="highlight plaintext"><code>&gt; formatdate("DD MMM YYYY hh:mm ZZZ", "2018-01-02T23:12:01Z")
 02 Jan 2018 23:12 UTC
 &gt; formatdate("EEEE, DD-MMM-YY hh:mm:ss ZZZ", "2018-01-02T23:12:01Z")
 Tuesday, 02-Jan-18 23:12:01 UTC
 &gt; formatdate("EEE, DD MMM YYYY hh:mm:ss ZZZ", "2018-01-02T23:12:01-08:00")
 Tue, 02 Jan 2018 23:12:01 -0800
 &gt; formatdate("MMM DD, YYYY", "2018-01-02T23:12:01Z")
 Jan 02, 2018
 &gt; formatdate("HH:mmaa", "2018-01-02T23:12:01Z")
 11:12pm
 </code></pre>
  </div>
  <h2 id="specification-syntax">
   <a class="anchor" href="#specification-syntax" name="specification-syntax">
    »
   </a>
   Specification Syntax
  </h2>
  <p>
   The format specification is a string that includes formatting sequences from
 the following table. This function is intended for producing common
   <em>
    machine-oriented
   </em>
   timestamp formats such as those defined in RFC822, RFC850,
 and RFC1123. It is not suitable for truly human-oriented date formatting
 because it is not locale-aware. In particular, it can produce month and day
 names only in English.
  </p>
  <p>
   The specification may contain the following sequences:
  </p>
  <table>
   <thead>
    <tr>
     <th>
      Sequence
     </th>
     <th>
      Result
     </th>
    </tr>
   </thead>
   <tbody>
    <tr>
     <td>
      <code>
       YYYY
      </code>
     </td>
     <td>
      Four (or more) digit year, like "2006".
     </td>
    </tr>
    <tr>
     <td>
      <code>
       YY
      </code>
     </td>
     <td>
      The year modulo 100, zero padded to at least two digits, like "06".
     </td>
    </tr>
    <tr>
     <td>
      <code>
       MMMM
      </code>
     </td>
     <td>
      English month name unabbreviated, like "January".
     </td>
    </tr>
    <tr>
     <td>
      <code>
       MMM
      </code>
     </td>
     <td>
      English month name abbreviated to three letters, like "Jan".
     </td>
    </tr>
    <tr>
     <td>
      <code>
       MM
      </code>
     </td>
     <td>
      Month number zero-padded to two digits, like "01" for January.
     </td>
    </tr>
    <tr>
     <td>
      <code>
       M
      </code>
     </td>
     <td>
      Month number with no padding, like "1" for January.
     </td>
    </tr>
    <tr>
     <td>
      <code>
       DD
      </code>
     </td>
     <td>
      Day of month number zero-padded to two digits, like "02".
     </td>
    </tr>
    <tr>
     <td>
      <code>
       D
      </code>
     </td>
     <td>
      Day of month number with no padding, like "2".
     </td>
    </tr>
    <tr>
     <td>
      <code>
       EEEE
      </code>
     </td>
     <td>
      English day of week name unabbreviated, like "Monday".
     </td>
    </tr>
    <tr>
     <td>
      <code>
       EEE
      </code>
     </td>
     <td>
      English day of week name abbreviated to three letters, like "Mon".
     </td>
    </tr>
    <tr>
     <td>
      <code>
       hh
      </code>
     </td>
     <td>
      24-hour number zero-padded to two digits, like "02".
     </td>
    </tr>
    <tr>
     <td>
      <code>
       h
      </code>
     </td>
     <td>
      24-hour number unpadded, like "2".
     </td>
    </tr>
    <tr>
     <td>
      <code>
       HH
      </code>
     </td>
     <td>
      12-hour number zero-padded to two digits, like "02".
     </td>
    </tr>
    <tr>
     <td>
      <code>
       H
      </code>
     </td>
     <td>
      12-hour number unpadded, like "2".
     </td>
    </tr>
    <tr>
     <td>
      <code>
       AA
      </code>
     </td>
     <td>
      Hour AM/PM marker in uppercase, like "AM".
     </td>
    </tr>
    <tr>
     <td>
      <code>
       aa
      </code>
     </td>
     <td>
      Hour AM/PM marker in lowercase, like "am".
     </td>
    </tr>
    <tr>
     <td>
      <code>
       mm
      </code>
     </td>
     <td>
      Minute within hour zero-padded to two digits, like "05".
     </td>
    </tr>
    <tr>
     <td>
      <code>
       m
      </code>
     </td>
     <td>
      Minute within hour unpadded, like "5".
     </td>
    </tr>
    <tr>
     <td>
      <code>
       ss
      </code>
     </td>
     <td>
      Second within minute zero-padded to two digits, like "09".
     </td>
    </tr>
    <tr>
     <td>
      <code>
       s
      </code>
     </td>
     <td>
      Second within minute, like "9".
     </td>
    </tr>
    <tr>
     <td>
      <code>
       ZZZZZ
      </code>
     </td>
     <td>
      Timezone offset with colon separating hours and minutes, like "-08:00".
     </td>
    </tr>
    <tr>
     <td>
      <code>
       ZZZZ
      </code>
     </td>
     <td>
      Timezone offset with just sign and digit, like "-0800".
     </td>
    </tr>
    <tr>
     <td>
      <code>
       ZZZ
      </code>
     </td>
     <td>
      Like
      <code>
       ZZZZ
      </code>
      but with a special case "UTC" for UTC.
     </td>
    </tr>
    <tr>
     <td>
      <code>
       Z
      </code>
     </td>
     <td>
      Like
      <code>
       ZZZZZ
      </code>
      but with a special case "Z" for UTC.
     </td>
    </tr>
   </tbody>
  </table>
  <p>
   Any non-letter characters, such as punctuation, are reproduced verbatim in the
 output. To include literal letters in the format string, enclose them in single
 quotes
   <code>
    '
   </code>
   . To include a literal quote, escape it by doubling the quotes.
  </p>
  <div class="highlight">
   <pre class="highlight plaintext"><code>&gt; formatdate("h'h'mm", "2018-01-02T23:12:01-08:00")
 23h12
 &gt; formatdate("H 'o''clock'", "2018-01-02T23:12:01-08:00")
 11 o'clock
 </code></pre>
  </div>
  <p>
   This format specification syntax is intended to make it easy for a reader
 to guess which format will result even if they are not experts on the syntax.
 Therefore there are no predefined shorthands for common formats, but format
 strings for various RFC-specified formats are given below to be copied into your
 configuration as needed:
  </p>
  <ul>
   <li>
    <a href="https://tools.ietf.org/html/rfc822#section-5">
     RFC 822
    </a>
    and
    <a href="https://tools.ietf.org/html/rfc2822#section-3.3">
     RFC RFC 2822
    </a>
    :
    <code>
     "DD MMM YYYY hh:mm ZZZ"
    </code>
   </li>
   <li>
    <a href="https://tools.ietf.org/html/rfc850#section-2.1.4">
     RFC 850
    </a>
    :
    <code>
     "EEEE, DD-MMM-YY hh:mm:ss ZZZ"
    </code>
   </li>
   <li>
    <a href="https://tools.ietf.org/html/rfc1123#section-5.2.14">
     RFC 1123
    </a>
    :
    <code>
     "EEE, DD MMM YYYY hh:mm:ss ZZZ"
    </code>
   </li>
   <li>
    <a href="https://tools.ietf.org/html/rfc3339">
     RFC 3339
    </a>
    :
    <code>
     "YYYY-MM-DD'T'hh:mm:ssZ"
    </code>
    (but this is also the input format, so such a
 conversion is redundant.)
   </li>
  </ul>
  <h2 id="related-functions">
   <a class="anchor" href="#related-functions" name="related-functions">
    »
   </a>
   Related Functions
  </h2>
  <ul>
   <li>
    <a href="/docs/language/functions/format.html">
     <code>
      format
     </code>
    </a>
    is a more general formatting function for arbitrary
 data.
   </li>
   <li>
    <a href="/docs/language/functions/timestamp.html">
     <code>
      timestamp
     </code>
    </a>
    returns the current date and time in a format
 suitable for input to
    <code>
     formatdate
    </code>
    .
   </li>
  </ul>
 </div>
 
 <!-- ########### Date and Time Functions : timestamp ############### -->
 <!-- ########### https://www.terraform.io/docs/language/functions/timeadd.html ############### --
 ><!-- ########### Date and Time Functions : timestamp ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="timeadd-function">
    <a class="anchor" href="#timeadd-function" name="timeadd-function">
     »
    </a>
    <code>
     timeadd
    </code>
    Function
   </h1>
  </div>
  <p>
   <code>
    timeadd
   </code>
   adds a duration to a timestamp, returning a new timestamp.
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">timeadd</span><span class="p">(</span><span class="n">timestamp</span><span class="p">,</span> <span class="n">duration</span><span class="p">)</span>
 </code></pre>
  </div>
  <p>
   In the Terraform language, timestamps are conventionally represented as
 strings using
   <a href="https://tools.ietf.org/html/rfc3339">
    RFC 3339
   </a>
   "Date and Time format" syntax.
   <code>
    timeadd
   </code>
   requires the
   <code>
    timestamp
   </code>
   argument
 to be a string conforming to this syntax.
  </p>
  <p>
   <code>
    duration
   </code>
   is a string representation of a time difference, consisting of
 sequences of number and unit pairs, like
   <code>
    "1.5h"
   </code>
   or
   <code>
    "1h30m"
   </code>
   . The accepted
 units are
   <code>
    "ns"
   </code>
   ,
   <code>
    "us"
   </code>
   (or
   <code>
    "µs"
   </code>
   ),
   <code>
    "ms"
   </code>
   ,
   <code>
    "s"
   </code>
   ,
   <code>
    "m"
   </code>
   , and
   <code>
    "h"
   </code>
   . The first
 number may be negative to indicate a negative duration, like
   <code>
    "-2h5m"
   </code>
   .
  </p>
  <p>
   The result is a string, also in RFC 3339 format, representing the result
 of adding the given direction to the given timestamp.
  </p>
  <h2 id="examples">
   <a class="anchor" href="#examples" name="examples">
    »
   </a>
   Examples
  </h2>
  <div class="highlight">
   <pre class="highlight plaintext"><code>&gt; timeadd("2017-11-22T00:00:00Z", "10m")
 2017-11-22T00:10:00Z
 </code></pre>
  </div>
 </div>
 
 <!-- ########### Hash and Crypto Functions : base64sha256 ############### -->
 <!-- ########### https://www.terraform.io/docs/language/functions/timestamp.html ############### --
 ><!-- ########### Hash and Crypto Functions : base64sha256 ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="timestamp-function">
    <a class="anchor" href="#timestamp-function" name="timestamp-function">
     »
    </a>
    <code>
     timestamp
    </code>
    Function
   </h1>
  </div>
  <p>
   <code>
    timestamp
   </code>
   returns a UTC timestamp string in
   <a href="https://tools.ietf.org/html/rfc3339">
    RFC 3339
   </a>
   format.
  </p>
  <p>
   In the Terraform language, timestamps are conventionally represented as
 strings using
   <a href="https://tools.ietf.org/html/rfc3339">
    RFC 3339
   </a>
   "Date and Time format" syntax, and so
   <code>
    timestamp
   </code>
   returns a string
 in this format.
  </p>
  <p>
   The result of this function will change every second, so using this function
 directly with resource attributes will cause a diff to be detected on every
 Terraform run. We do not recommend using this function in resource attributes,
 but in rare cases it can be used in conjunction with
   <a href="/docs/language/meta-arguments/lifecycle.html#ignore_changes">
    the
    <code>
     ignore_changes
    </code>
    lifecycle meta-argument
   </a>
   to take the timestamp only on initial creation of the resource. For more stable
 time handling, see the
   <a href="https://registry.terraform.io/providers/hashicorp/time/">
    Time Provider
   </a>
   .
  </p>
  <p>
   Due to the constantly changing return value, the result of this function cannot
 be predicted during Terraform's planning phase, and so the timestamp will be
 taken only once the plan is being applied.
  </p>
  <h2 id="examples">
   <a class="anchor" href="#examples" name="examples">
    »
   </a>
   Examples
  </h2>
  <div class="highlight">
   <pre class="highlight plaintext"><code>&gt; timestamp()
 2018-05-13T07:44:12Z
 </code></pre>
  </div>
  <h2 id="related-functions">
   <a class="anchor" href="#related-functions" name="related-functions">
    »
   </a>
   Related Functions
  </h2>
  <ul>
   <li>
    <a href="/docs/language/functions/formatdate.html">
     <code>
      formatdate
     </code>
    </a>
    can convert the resulting timestamp to
 other date and time formats.
   </li>
  </ul>
 </div>
 
 <!-- ########### Hash and Crypto Functions : base64sha512 ############### -->
 <!-- ########### https://www.terraform.io/docs/language/functions/base64sha256.html ############### --
 ><!-- ########### Hash and Crypto Functions : base64sha512 ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="base64sha256-function">
    <a class="anchor" href="#base64sha256-function" name="base64sha256-function">
     »
    </a>
    <code>
     base64sha256
    </code>
    Function
   </h1>
  </div>
  <p>
   <code>
    base64sha256
   </code>
   computes the SHA256 hash of a given string and encodes it with
 Base64. This is not equivalent to
   <code>
    base64encode(sha256("test"))
   </code>
   since
   <code>
    sha256()
   </code>
   returns hexadecimal representation.
  </p>
  <p>
   The given string is first encoded as UTF-8 and then the SHA256 algorithm is applied
 as defined in
   <a href="https://tools.ietf.org/html/rfc4634">
    RFC 4634
   </a>
   . The raw hash is
 then encoded with Base64 before returning. Terraform uses the "standard" Base64
 alphabet as defined in
   <a href="https://tools.ietf.org/html/rfc4648#section-4">
    RFC 4648 section 4
   </a>
   .
  </p>
  <h2 id="examples">
   <a class="anchor" href="#examples" name="examples">
    »
   </a>
   Examples
  </h2>
  <div class="highlight">
   <pre class="highlight plaintext"><code>&gt; base64sha256("hello world")
 uU0nuZNNPgilLlLX2n2r+sSE7+N6U4DukIj3rOLvzek=
 </code></pre>
  </div>
  <h2 id="related-functions">
   <a class="anchor" href="#related-functions" name="related-functions">
    »
   </a>
   Related Functions
  </h2>
  <ul>
   <li>
    <a href="/docs/language/functions/filebase64sha256.html">
     <code>
      filebase64sha256
     </code>
    </a>
    calculates the same hash from
 the contents of a file rather than from a string value.
   </li>
   <li>
    <a href="/docs/language/functions/sha256.html">
     <code>
      sha256
     </code>
    </a>
    calculates the same hash but returns the result
 in a more-verbose hexadecimal encoding.
   </li>
  </ul>
 </div>
 
 <!-- ########### Hash and Crypto Functions : bcrypt ############### -->
 <!-- ########### https://www.terraform.io/docs/language/functions/base64sha512.html ############### --
 ><!-- ########### Hash and Crypto Functions : bcrypt ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="base64sha512-function">
    <a class="anchor" href="#base64sha512-function" name="base64sha512-function">
     »
    </a>
    <code>
     base64sha512
    </code>
    Function
   </h1>
  </div>
  <p>
   <code>
    base64sha512
   </code>
   computes the SHA512 hash of a given string and encodes it with
 Base64. This is not equivalent to
   <code>
    base64encode(sha512("test"))
   </code>
   since
   <code>
    sha512()
   </code>
   returns hexadecimal representation.
  </p>
  <p>
   The given string is first encoded as UTF-8 and then the SHA512 algorithm is applied
 as defined in
   <a href="https://tools.ietf.org/html/rfc4634">
    RFC 4634
   </a>
   . The raw hash is
 then encoded with Base64 before returning. Terraform uses the "standard" Base64
 alphabet as defined in
   <a href="https://tools.ietf.org/html/rfc4648#section-4">
    RFC 4648 section 4
   </a>
   .
  </p>
  <h2 id="examples">
   <a class="anchor" href="#examples" name="examples">
    »
   </a>
   Examples
  </h2>
  <div class="highlight">
   <pre class="highlight plaintext"><code>&gt; base64sha512("hello world")
 MJ7MSJwS1utMxA9QyQLytNDtd+5RGnx6m808qG1M2G+YndNbxf9JlnDaNCVbRbDP2DDoH2Bdz33FVC6TrpzXbw==
 </code></pre>
  </div>
  <h2 id="related-functions">
   <a class="anchor" href="#related-functions" name="related-functions">
    »
   </a>
   Related Functions
  </h2>
  <ul>
   <li>
    <a href="/docs/language/functions/filebase64sha512.html">
     <code>
      filebase64sha512
     </code>
    </a>
    calculates the same hash from
 the contents of a file rather than from a string value.
   </li>
   <li>
    <a href="/docs/language/functions/sha512.html">
     <code>
      sha512
     </code>
    </a>
    calculates the same hash but returns the result
 in a more-verbose hexadecimal encoding.
   </li>
  </ul>
 </div>
 
 <!-- ########### Hash and Crypto Functions : filebase64sha256 ############### -->
 <!-- ########### https://www.terraform.io/docs/language/functions/bcrypt.html ############### --
 ><!-- ########### Hash and Crypto Functions : filebase64sha256 ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="bcrypt-function">
    <a class="anchor" href="#bcrypt-function" name="bcrypt-function">
     »
    </a>
    <code>
     bcrypt
    </code>
    Function
   </h1>
  </div>
  <p>
   <code>
    bcrypt
   </code>
   computes a hash of the given string using the Blowfish cipher,
 returning a string in
   <a href="https://passlib.readthedocs.io/en/stable/modular_crypt_format.html">
    the
    <em>
     Modular Crypt Format
    </em>
   </a>
   usually expected in the shadow password file on many Unix systems.
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">bcrypt</span><span class="p">(</span><span class="n">string</span><span class="p">,</span> <span class="n">cost</span><span class="p">)</span>
 </code></pre>
  </div>
  <p>
   The
   <code>
    cost
   </code>
   argument is optional and will default to 10 if unspecified.
  </p>
  <p>
   Since a bcrypt hash value includes a randomly selected salt, each call to this
 function will return a different value, even if the given string and cost are
 the same. Using this function directly with resource arguments will therefore
 cause spurious diffs. We recommend using this function only in
   <code>
    provisioner
   </code>
   blocks, or in data resources whose results are only used in
   <code>
    provisioner
   </code>
   blocks.
  </p>
  <p>
   The version prefix on the generated string (e.g.
   <code>
    $2a$
   </code>
   ) may change in future
 versions of Terraform.
  </p>
  <h2 id="examples">
   <a class="anchor" href="#examples" name="examples">
    »
   </a>
   Examples
  </h2>
  <div class="highlight">
   <pre class="highlight plaintext"><code>&gt; bcrypt("hello world")
 $2a$10$D5grTTzcsqyvAeIAnY/mYOIqliCoG7eAMX0/oFcuD.iErkksEbcAa
 </code></pre>
  </div>
 </div>
 
 <!-- ########### Hash and Crypto Functions : filebase64sha512 ############### -->
 <!-- ########### https://www.terraform.io/docs/language/functions/filebase64sha256.html ############### --
 ><!-- ########### Hash and Crypto Functions : filebase64sha512 ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="filebase64sha256-function">
    <a class="anchor" href="#filebase64sha256-function" name="filebase64sha256-function">
     »
    </a>
    <code>
     filebase64sha256
    </code>
    Function
   </h1>
  </div>
  <p>
   <code>
    filebase64sha256
   </code>
   is a variant of
   <a href="/docs/language/functions/base64sha256.html">
    <code>
     base64sha256
    </code>
   </a>
   that hashes the contents of a given file rather than a literal string.
  </p>
  <p>
   This is similar to
   <code>
    base64sha256(file(filename))
   </code>
   , but
 because
   <a href="/docs/language/functions/file.html">
    <code>
     file
    </code>
   </a>
   accepts only UTF-8 text it cannot be used to
 create hashes for binary files.
  </p>
 </div>
 
 <!-- ########### Hash and Crypto Functions : filemd5 ############### -->
 <!-- ########### https://www.terraform.io/docs/language/functions/filebase64sha512.html ############### --
 ><!-- ########### Hash and Crypto Functions : filemd5 ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="filebase64sha512-function">
    <a class="anchor" href="#filebase64sha512-function" name="filebase64sha512-function">
     »
    </a>
    <code>
     filebase64sha512
    </code>
    Function
   </h1>
  </div>
  <p>
   <code>
    filebase64sha512
   </code>
   is a variant of
   <a href="/docs/language/functions/base64sha512.html">
    <code>
     base64sha512
    </code>
   </a>
   that hashes the contents of a given file rather than a literal string.
  </p>
  <p>
   This is similar to
   <code>
    base64sha512(file(filename))
   </code>
   , but
 because
   <a href="/docs/language/functions/file.html">
    <code>
     file
    </code>
   </a>
   accepts only UTF-8 text it cannot be used to
 create hashes for binary files.
  </p>
 </div>
 
 <!-- ########### Hash and Crypto Functions : filesha1 ############### -->
 <!-- ########### https://www.terraform.io/docs/language/functions/filemd5.html ############### --
 ><!-- ########### Hash and Crypto Functions : filesha1 ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="filemd5-function">
    <a class="anchor" href="#filemd5-function" name="filemd5-function">
     »
    </a>
    <code>
     filemd5
    </code>
    Function
   </h1>
  </div>
  <p>
   <code>
    filemd5
   </code>
   is a variant of
   <a href="/docs/language/functions/md5.html">
    <code>
     md5
    </code>
   </a>
   that hashes the contents of a given file rather than a literal string.
  </p>
  <p>
   This is similar to
   <code>
    md5(file(filename))
   </code>
   , but
 because
   <a href="/docs/language/functions/file.html">
    <code>
     file
    </code>
   </a>
   accepts only UTF-8 text it cannot be used to
 create hashes for binary files.
  </p>
 </div>
 
 <!-- ########### Hash and Crypto Functions : filesha256 ############### -->
 <!-- ########### https://www.terraform.io/docs/language/functions/filesha1.html ############### --
 ><!-- ########### Hash and Crypto Functions : filesha256 ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="filesha1-function">
    <a class="anchor" href="#filesha1-function" name="filesha1-function">
     »
    </a>
    <code>
     filesha1
    </code>
    Function
   </h1>
  </div>
  <p>
   <code>
    filesha1
   </code>
   is a variant of
   <a href="/docs/language/functions/sha1.html">
    <code>
     sha1
    </code>
   </a>
   that hashes the contents of a given file rather than a literal string.
  </p>
  <p>
   This is similar to
   <code>
    sha1(file(filename))
   </code>
   , but
 because
   <a href="/docs/language/functions/file.html">
    <code>
     file
    </code>
   </a>
   accepts only UTF-8 text it cannot be used to
 create hashes for binary files.
  </p>
 </div>
 
 <!-- ########### Hash and Crypto Functions : filesha512 ############### -->
 <!-- ########### https://www.terraform.io/docs/language/functions/filesha256.html ############### --
 ><!-- ########### Hash and Crypto Functions : filesha512 ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="filesha256-function">
    <a class="anchor" href="#filesha256-function" name="filesha256-function">
     »
    </a>
    <code>
     filesha256
    </code>
    Function
   </h1>
  </div>
  <p>
   <code>
    filesha256
   </code>
   is a variant of
   <a href="/docs/language/functions/sha256.html">
    <code>
     sha256
    </code>
   </a>
   that hashes the contents of a given file rather than a literal string.
  </p>
  <p>
   This is similar to
   <code>
    sha256(file(filename))
   </code>
   , but
 because
   <a href="/docs/language/functions/file.html">
    <code>
     file
    </code>
   </a>
   accepts only UTF-8 text it cannot be used to
 create hashes for binary files.
  </p>
 </div>
 
 <!-- ########### Hash and Crypto Functions : md5 ############### -->
 <!-- ########### https://www.terraform.io/docs/language/functions/filesha512.html ############### --
 ><!-- ########### Hash and Crypto Functions : md5 ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="filesha512-function">
    <a class="anchor" href="#filesha512-function" name="filesha512-function">
     »
    </a>
    <code>
     filesha512
    </code>
    Function
   </h1>
  </div>
  <p>
   <code>
    filesha512
   </code>
   is a variant of
   <a href="/docs/language/functions/sha512.html">
    <code>
     sha512
    </code>
   </a>
   that hashes the contents of a given file rather than a literal string.
  </p>
  <p>
   This is similar to
   <code>
    sha512(file(filename))
   </code>
   , but
 because
   <a href="/docs/language/functions/file.html">
    <code>
     file
    </code>
   </a>
   accepts only UTF-8 text it cannot be used to
 create hashes for binary files.
  </p>
 </div>
 
 <!-- ########### Hash and Crypto Functions : rsadecrypt ############### -->
 <!-- ########### https://www.terraform.io/docs/language/functions/md5.html ############### --
 ><!-- ########### Hash and Crypto Functions : rsadecrypt ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="md5-function">
    <a class="anchor" href="#md5-function" name="md5-function">
     »
    </a>
    <code>
     md5
    </code>
    Function
   </h1>
  </div>
  <p>
   <code>
    md5
   </code>
   computes the MD5 hash of a given string and encodes it with
 hexadecimal digits.
  </p>
  <p>
   The given string is first encoded as UTF-8 and then the MD5 algorithm is applied
 as defined in
   <a href="https://tools.ietf.org/html/rfc1321">
    RFC 1321
   </a>
   . The raw hash is
 then encoded to lowercase hexadecimal digits before returning.
  </p>
  <p>
   Before using this function for anything security-sensitive, refer to
   <a href="https://tools.ietf.org/html/rfc6151">
    RFC 6151
   </a>
   for updated security
 considerations applying to the MD5 algorithm.
  </p>
  <h2 id="examples">
   <a class="anchor" href="#examples" name="examples">
    »
   </a>
   Examples
  </h2>
  <div class="highlight">
   <pre class="highlight plaintext"><code>&gt; md5("hello world")
 5eb63bbbe01eeed093cb22bb8f5acdc3
 </code></pre>
  </div>
  <h2 id="related-functions">
   <a class="anchor" href="#related-functions" name="related-functions">
    »
   </a>
   Related Functions
  </h2>
  <ul>
   <li>
    <a href="/docs/language/functions/filemd5.html">
     <code>
      filemd5
     </code>
    </a>
    calculates the same hash from
 the contents of a file rather than from a string value.
   </li>
  </ul>
 </div>
 
 <!-- ########### Hash and Crypto Functions : sha1 ############### -->
 <!-- ########### https://www.terraform.io/docs/language/functions/rsadecrypt.html ############### --
 ><!-- ########### Hash and Crypto Functions : sha1 ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="rsadecrypt-function">
    <a class="anchor" href="#rsadecrypt-function" name="rsadecrypt-function">
     »
    </a>
    <code>
     rsadecrypt
    </code>
    Function
   </h1>
  </div>
  <p>
   <code>
    rsadecrypt
   </code>
   decrypts an RSA-encrypted ciphertext, returning the corresponding
 cleartext.
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">rsadecrypt</span><span class="p">(</span><span class="n">ciphertext</span><span class="p">,</span> <span class="n">privatekey</span><span class="p">)</span>
 </code></pre>
  </div>
  <p>
   <code>
    ciphertext
   </code>
   must be a base64-encoded representation of the ciphertext, using
 the PKCS #1 v1.5 padding scheme. Terraform uses the "standard" Base64 alphabet
 as defined in
   <a href="https://tools.ietf.org/html/rfc4648#section-4">
    RFC 4648 section 4
   </a>
   .
  </p>
  <p>
   <code>
    privatekey
   </code>
   must be a PEM-encoded RSA private key that is not itself
 encrypted.
  </p>
  <p>
   Terraform has no corresponding function for
   <em>
    encrypting
   </em>
   a message. Use this
 function to decrypt ciphertexts returned by remote services using a keypair
 negotiated out-of-band.
  </p>
  <h2 id="examples">
   <a class="anchor" href="#examples" name="examples">
    »
   </a>
   Examples
  </h2>
  <div class="highlight">
   <pre class="highlight plaintext"><code>&gt; rsadecrypt(filebase64("${path.module}/ciphertext"), file("privatekey.pem"))
 Hello, world!
 </code></pre>
  </div>
 </div>
 
 <!-- ########### Hash and Crypto Functions : sha256 ############### -->
 <!-- ########### https://www.terraform.io/docs/language/functions/sha1.html ############### --
 ><!-- ########### Hash and Crypto Functions : sha256 ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="sha1-function">
    <a class="anchor" href="#sha1-function" name="sha1-function">
     »
    </a>
    <code>
     sha1
    </code>
    Function
   </h1>
  </div>
  <p>
   <code>
    sha1
   </code>
   computes the SHA1 hash of a given string and encodes it with
 hexadecimal digits.
  </p>
  <p>
   The given string is first encoded as UTF-8 and then the SHA1 algorithm is applied
 as defined in
   <a href="https://tools.ietf.org/html/rfc3174">
    RFC 3174
   </a>
   . The raw hash is
 then encoded to lowercase hexadecimal digits before returning.
  </p>
  <p>
   Collision attacks have been successfully performed against this hashing
 function. Before using this function for anything security-sensitive, review
 relevant literature to understand the security implications.
  </p>
  <h2 id="examples">
   <a class="anchor" href="#examples" name="examples">
    »
   </a>
   Examples
  </h2>
  <div class="highlight">
   <pre class="highlight plaintext"><code>&gt; sha1("hello world")
 2aae6c35c94fcfb415dbe95f408b9ce91ee846ed
 </code></pre>
  </div>
  <h2 id="related-functions">
   <a class="anchor" href="#related-functions" name="related-functions">
    »
   </a>
   Related Functions
  </h2>
  <ul>
   <li>
    <a href="/docs/language/functions/filesha1.html">
     <code>
      filesha1
     </code>
    </a>
    calculates the same hash from
 the contents of a file rather than from a string value.
   </li>
  </ul>
 </div>
 
 <!-- ########### Hash and Crypto Functions : sha512 ############### -->
 <!-- ########### https://www.terraform.io/docs/language/functions/sha256.html ############### --
 ><!-- ########### Hash and Crypto Functions : sha512 ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="sha256-function">
    <a class="anchor" href="#sha256-function" name="sha256-function">
     »
    </a>
    <code>
     sha256
    </code>
    Function
   </h1>
   <div id="inner-quicknav">
    <span id="inner-quicknav-trigger">
     Jump to Section
     <svg height="5" width="9" xmlns="http://www.w3.org/2000/svg">
      <path d="M8.811 1.067a.612.612 0 0 0 0-.884.655.655 0 0 0-.908 0L4.5 3.491 1.097.183a.655.655 0 0 0-.909 0 .615.615 0 0 0 0 .884l3.857 3.75a.655.655 0 0 0 .91 0l3.856-3.75z" fill-rule="evenodd">
      </path>
     </svg>
    </span>
    <ul class="dropdown">
     <li class="level-h2">
      <a href="#examples">
       »
 Examples
      </a>
     </li>
     <li class="level-h2">
      <a href="#related-functions">
       »
 Related Functions
      </a>
     </li>
     <li class="level-h2">
      <a href="#related-functions-1">
       »
 Related Functions
      </a>
     </li>
    </ul>
   </div>
  </div>
  <p>
   <code>
    sha256
   </code>
   computes the SHA256 hash of a given string and encodes it with
 hexadecimal digits.
  </p>
  <p>
   The given string is first encoded as UTF-8 and then the SHA256 algorithm is applied
 as defined in
   <a href="https://tools.ietf.org/html/rfc4634">
    RFC 4634
   </a>
   . The raw hash is
 then encoded to lowercase hexadecimal digits before returning.
  </p>
  <h2 id="examples">
   <a class="anchor" href="#examples" name="examples">
    »
   </a>
   Examples
  </h2>
  <div class="highlight">
   <pre class="highlight plaintext"><code>&gt; sha256("hello world")
 b94d27b9934d3e08a52e52d7da7dabfac484efe37a5380ee9088f7ace2efcde9
 </code></pre>
  </div>
  <h2 id="related-functions">
   <a class="anchor" href="#related-functions" name="related-functions">
    »
   </a>
   Related Functions
  </h2>
  <h2 id="related-functions-1">
   <a class="anchor" href="#related-functions-1" name="related-functions-1">
    »
   </a>
   Related Functions
  </h2>
  <ul>
   <li>
    <a href="/docs/language/functions/filesha256.html">
     <code>
      filesha256
     </code>
    </a>
    calculates the same hash from
 the contents of a file rather than from a string value.
   </li>
   <li>
    <a href="/docs/language/functions/base64sha256.html">
     <code>
      base64sha256
     </code>
    </a>
    calculates the same hash but returns
 the result in a more-compact Base64 encoding.
   </li>
  </ul>
 </div>
 
 <!-- ########### Hash and Crypto Functions : uuid ############### -->
 <!-- ########### https://www.terraform.io/docs/language/functions/sha512.html ############### --
 ><!-- ########### Hash and Crypto Functions : uuid ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="sha512-function">
    <a class="anchor" href="#sha512-function" name="sha512-function">
     »
    </a>
    <code>
     sha512
    </code>
    Function
   </h1>
  </div>
  <p>
   <code>
    sha512
   </code>
   computes the SHA512 hash of a given string and encodes it with
 hexadecimal digits.
  </p>
  <p>
   The given string is first encoded as UTF-8 and then the SHA512 algorithm is applied
 as defined in
   <a href="https://tools.ietf.org/html/rfc4634">
    RFC 4634
   </a>
   . The raw hash is
 then encoded to lowercase hexadecimal digits before returning.
  </p>
  <h2 id="examples">
   <a class="anchor" href="#examples" name="examples">
    »
   </a>
   Examples
  </h2>
  <div class="highlight">
   <pre class="highlight plaintext"><code>&gt; sha512("hello world")
 309ecc489c12d6eb4cc40f50c902f2b4d0ed77ee511a7c7a9bcd3ca86d4cd86f989dd35bc5ff499670da34255b45b0cfd830e81f605dcf7dc5542e93ae9cd76f
 </code></pre>
  </div>
  <h2 id="related-functions">
   <a class="anchor" href="#related-functions" name="related-functions">
    »
   </a>
   Related Functions
  </h2>
  <ul>
   <li>
    <a href="/docs/language/functions/filesha512.html">
     <code>
      filesha512
     </code>
    </a>
    calculates the same hash from
 the contents of a file rather than from a string value.
   </li>
   <li>
    <a href="/docs/language/functions/base64sha512.html">
     <code>
      base64sha512
     </code>
    </a>
    calculates the same hash but returns
 the result in a more-compact Base64 encoding.
   </li>
  </ul>
 </div>
 
 <!-- ########### Hash and Crypto Functions : uuidv5 ############### -->
 <!-- ########### https://www.terraform.io/docs/language/functions/uuid.html ############### --
 ><!-- ########### Hash and Crypto Functions : uuidv5 ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="uuid-function">
    <a class="anchor" href="#uuid-function" name="uuid-function">
     »
    </a>
    <code>
     uuid
    </code>
    Function
   </h1>
  </div>
  <p>
   <code>
    uuid
   </code>
   generates a unique identifier string.
  </p>
  <p>
   The id is a generated and formatted as required by
   <a href="https://tools.ietf.org/html/rfc4122#section-4.4">
    RFC 4122 section 4.4
   </a>
   ,
 producing a Version 4 UUID. The result is a UUID generated only from
 pseudo-random numbers.
  </p>
  <p>
   This function produces a new value each time it is called, and so using it
 directly in resource arguments will result in spurious diffs. We do not
 recommend using the
   <code>
    uuid
   </code>
   function in resource configurations, but it can
 be used with care in conjunction with
   <a href="/docs/language/meta-arguments/lifecycle.html#ignore_changes">
    the
    <code>
     ignore_changes
    </code>
    lifecycle meta-argument
   </a>
   .
  </p>
  <p>
   In most cases we recommend using
   <a href="https://registry.terraform.io/providers/hashicorp/random/latest/docs">
    the
    <code>
     random
    </code>
    provider
   </a>
   instead, since it allows the one-time generation of random values that are
 then retained in the Terraform
   <a href="/docs/language/state/index.html">
    state
   </a>
   for use by
 future operations. In particular,
   <a href="https://registry.terraform.io/providers/hashicorp/random/latest/docs/resources/id">
    <code>
     random_id
    </code>
   </a>
   can generate results with
 equivalent randomness to the
   <code>
    uuid
   </code>
   function.
  </p>
  <h2 id="examples">
   <a class="anchor" href="#examples" name="examples">
    »
   </a>
   Examples
  </h2>
  <div class="highlight">
   <pre class="highlight plaintext"><code>&gt; uuid()
 b5ee72a3-54dd-c4b8-551c-4bdc0204cedb
 </code></pre>
  </div>
  <h2 id="related-functions">
   <a class="anchor" href="#related-functions" name="related-functions">
    »
   </a>
   Related Functions
  </h2>
  <ul>
   <li>
    <a href="/docs/language/functions/uuidv5.html">
     <code>
      uuidv5
     </code>
    </a>
    , which generates name-based UUIDs.
   </li>
  </ul>
 </div>
 
 <!-- ########### IP Network Functions : cidrhost ############### -->
 <!-- ########### https://www.terraform.io/docs/language/functions/uuidv5.html ############### --
 ><!-- ########### IP Network Functions : cidrhost ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="uuidv5-function">
    <a class="anchor" href="#uuidv5-function" name="uuidv5-function">
     »
    </a>
    <code>
     uuidv5
    </code>
    Function
   </h1>
  </div>
  <p>
   <code>
    uuidv5
   </code>
   generates a
   <em>
    name-based
   </em>
   UUID, as described in
   <a href="https://tools.ietf.org/html/rfc4122#section-4.3">
    RFC 4122 section 4.3
   </a>
   ,
 also known as a "version 5" UUID.
  </p>
  <div class="highlight">
   <pre class="highlight plaintext"><code>uuidv5(namespace, name)
 </code></pre>
  </div>
  <p>
   Unlike the pseudo-random UUIDs generated by
   <a href="/docs/language/functions/uuid.html">
    <code>
     uuid
    </code>
   </a>
   , name-based UUIDs derive from namespace and an name,
 producing the same UUID value every time if the namespace and name are
 unchanged.
  </p>
  <p>
   Name-based UUID namespaces are themselves UUIDs, but for readability this
 function accepts some keywords as aliases for the namespaces that were
 assigned by RFC 4122:
  </p>
  <table>
   <thead>
    <tr>
     <th>
      Keyword
     </th>
     <th>
      Namespace ID
     </th>
     <th>
      Name format
     </th>
    </tr>
   </thead>
   <tbody>
    <tr>
     <td>
      <code>
       "dns"
      </code>
     </td>
     <td>
      <code>
       6ba7b810-9dad-11d1-80b4-00c04fd430c8
      </code>
     </td>
     <td>
      A fully-qualified DNS domain name.
     </td>
    </tr>
    <tr>
     <td>
      <code>
       "url"
      </code>
     </td>
     <td>
      <code>
       6ba7b811-9dad-11d1-80b4-00c04fd430c8
      </code>
     </td>
     <td>
      Any valid URL as defined in
      <a href="https://tools.ietf.org/html/rfc3986">
       RFC 3986
      </a>
      .
     </td>
    </tr>
    <tr>
     <td>
      <code>
       "oid"
      </code>
     </td>
     <td>
      <code>
       6ba7b812-9dad-11d1-80b4-00c04fd430c8
      </code>
     </td>
     <td>
      An
      <a href="https://oidref.com/">
       ISO/IEC object identifier
      </a>
     </td>
    </tr>
    <tr>
     <td>
      <code>
       "x500"
      </code>
     </td>
     <td>
      <code>
       6ba7b814-9dad-11d1-80b4-00c04fd430c8
      </code>
     </td>
     <td>
      <a href="https://tools.ietf.org/html/rfc1779">
       X.500 Distinguished Name
      </a>
     </td>
    </tr>
   </tbody>
  </table>
  <p>
   To use any other namespace not included in the above table, pass its assigned
 namespace ID directly in the first argument in the usual UUID string format.
  </p>
  <h2 id="examples">
   <a class="anchor" href="#examples" name="examples">
    »
   </a>
   Examples
  </h2>
  <p>
   Use the namespace keywords where possible, to make the intent more obvious to
 a future reader:
  </p>
  <div class="highlight">
   <pre class="highlight plaintext"><code>&gt; uuidv5("dns", "www.terraform.io")
 a5008fae-b28c-5ba5-96cd-82b4c53552d6
 
 &gt; uuidv5("url", "https://www.terraform.io/")
 9db6f67c-dd95-5ea0-aa5b-e70e5c5f7cf5
 
 &gt; uuidv5("oid", "1.3.6.1.4")
 af9d40a5-7a36-5c07-b23a-851cd99fbfa5
 
 &gt; uuidv5("x500", "CN=Example,C=GB")
 84e09961-4aa4-57f8-95b7-03edb1073253
 </code></pre>
  </div>
  <p>
   The namespace keywords treated as equivalent to their corresponding namespace
 UUIDs, and in some special cases it may be more appropriate to use the
 UUID form:
  </p>
  <div class="highlight">
   <pre class="highlight plaintext"><code>&gt; uuidv5("6ba7b810-9dad-11d1-80b4-00c04fd430c8", "www.terraform.io")
 a5008fae-b28c-5ba5-96cd-82b4c53552d6
 </code></pre>
  </div>
  <p>
   If you wish to use a namespace defined outside of RFC 4122, using the namespace
 UUID is required because no corresponding keyword is available:
  </p>
  <div class="highlight">
   <pre class="highlight plaintext"><code>&gt; uuidv5("743ac3c0-3bf7-4a5b-9e6c-59360447c757", "LIBS:diskfont.library")
 ede1a974-df7e-5f17-84b9-76208818b2c8
 </code></pre>
  </div>
  <p>
   When using raw UUID namespaces, consider including a comment alongside the
 expression that indicates which namespace this represents in a
 human-significant manner, such as by reference to the standard that
 defined it.
  </p>
  <h2 id="related-functions">
   <a class="anchor" href="#related-functions" name="related-functions">
    »
   </a>
   Related Functions
  </h2>
  <ul>
   <li>
    <a href="/docs/language/functions/uuid.html">
     <code>
      uuid
     </code>
    </a>
    , which generates pseudorandom UUIDs.
   </li>
  </ul>
 </div>
 
 <!-- ########### IP Network Functions : cidrnetmask ############### -->
 <!-- ########### https://www.terraform.io/docs/language/functions/cidrhost.html ############### --
 ><!-- ########### IP Network Functions : cidrnetmask ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="cidrhost-function">
    <a class="anchor" href="#cidrhost-function" name="cidrhost-function">
     »
    </a>
    <code>
     cidrhost
    </code>
    Function
   </h1>
  </div>
  <p>
   <code>
    cidrhost
   </code>
   calculates a full host IP address for a given host number within
 a given IP network address prefix.
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">cidrhost</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="n">hostnum</span><span class="p">)</span>
 </code></pre>
  </div>
  <p>
   <code>
    prefix
   </code>
   must be given in CIDR notation, as defined in
   <a href="https://tools.ietf.org/html/rfc4632#section-3.1">
    RFC 4632 section 3.1
   </a>
   .
  </p>
  <p>
   <code>
    hostnum
   </code>
   is a whole number that can be represented as a binary integer with
 no more than the number of digits remaining in the address after the given
 prefix. For more details on how this function interprets CIDR prefixes and
 populates host numbers, see the worked example for
   <a href="/docs/language/functions/cidrsubnet.html">
    <code>
     cidrsubnet
    </code>
   </a>
   .
  </p>
  <p>
   Conventionally host number zero is used to represent the address of the
 network itself and the host number that would fill all the host bits with
 binary 1 represents the network's broadcast address. These numbers should
 generally not be used to identify individual hosts except in unusual
 situations, such as point-to-point links.
  </p>
  <p>
   This function accepts both IPv6 and IPv4 prefixes, and the result always uses
 the same addressing scheme as the given prefix.
  </p>
  <h2 id="examples">
   <a class="anchor" href="#examples" name="examples">
    »
   </a>
   Examples
  </h2>
  <div class="highlight">
   <pre class="highlight plaintext"><code>&gt; cidrhost("10.12.127.0/20", 16)
 10.12.112.16
 &gt; cidrhost("10.12.127.0/20", 268)
 10.12.113.12
 &gt; cidrhost("fd00:fd12:3456:7890:00a2::/72", 34)
 fd00:fd12:3456:7890::22
 </code></pre>
  </div>
  <h2 id="related-functions">
   <a class="anchor" href="#related-functions" name="related-functions">
    »
   </a>
   Related Functions
  </h2>
  <ul>
   <li>
    <a href="/docs/language/functions/cidrsubnet.html">
     <code>
      cidrsubnet
     </code>
    </a>
    calculates a subnet address under a given
 network address prefix.
   </li>
  </ul>
 </div>
 
 <!-- ########### IP Network Functions : cidrsubnet ############### -->
 <!-- ########### https://www.terraform.io/docs/language/functions/cidrnetmask.html ############### --
 ><!-- ########### IP Network Functions : cidrsubnet ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="cidrnetmask-function">
    <a class="anchor" href="#cidrnetmask-function" name="cidrnetmask-function">
     »
    </a>
    <code>
     cidrnetmask
    </code>
    Function
   </h1>
  </div>
  <p>
   <code>
    cidrnetmask
   </code>
   converts an IPv4 address prefix given in CIDR notation into
 a subnet mask address.
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">cidrnetmask</span><span class="p">(</span><span class="n">prefix</span><span class="p">)</span>
 </code></pre>
  </div>
  <p>
   <code>
    prefix
   </code>
   must be given in IPv4 CIDR notation, as defined in
   <a href="https://tools.ietf.org/html/rfc4632#section-3.1">
    RFC 4632 section 3.1
   </a>
   .
  </p>
  <p>
   The result is a subnet address formatted in the conventional dotted-decimal
 IPv4 address syntax, as expected by some software.
  </p>
  <p>
   CIDR notation is the only valid notation for IPv6 addresses, so
   <code>
    cidrnetmask
   </code>
   produces an error if given an IPv6 address.
  </p>
  <h2 id="examples">
   <a class="anchor" href="#examples" name="examples">
    »
   </a>
   Examples
  </h2>
  <div class="highlight">
   <pre class="highlight plaintext"><code>&gt; cidrnetmask("172.16.0.0/12")
 255.240.0.0
 </code></pre>
  </div>
 </div>
 
 <!-- ########### IP Network Functions : cidrsubnets ############### -->
 <!-- ########### https://www.terraform.io/docs/language/functions/cidrsubnet.html ############### --
 ><!-- ########### IP Network Functions : cidrsubnets ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="cidrsubnet-function">
    <a class="anchor" href="#cidrsubnet-function" name="cidrsubnet-function">
     »
    </a>
    <code>
     cidrsubnet
    </code>
    Function
   </h1>
   <div id="inner-quicknav">
    <span id="inner-quicknav-trigger">
     Jump to Section
     <svg height="5" width="9" xmlns="http://www.w3.org/2000/svg">
      <path d="M8.811 1.067a.612.612 0 0 0 0-.884.655.655 0 0 0-.908 0L4.5 3.491 1.097.183a.655.655 0 0 0-.909 0 .615.615 0 0 0 0 .884l3.857 3.75a.655.655 0 0 0 .91 0l3.856-3.75z" fill-rule="evenodd">
      </path>
     </svg>
    </span>
    <ul class="dropdown">
     <li class="level-h2">
      <a href="#examples">
       »
 Examples
      </a>
     </li>
     <li class="level-h2">
      <a href="#netmasks-and-subnets">
       »
 Netmasks and Subnets
      </a>
     </li>
     <li class="level-h2">
      <a href="#related-functions">
       »
 Related Functions
      </a>
     </li>
    </ul>
   </div>
  </div>
  <p>
   <code>
    cidrsubnet
   </code>
   calculates a subnet address within given IP network address prefix.
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">cidrsubnet</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="n">newbits</span><span class="p">,</span> <span class="n">netnum</span><span class="p">)</span>
 </code></pre>
  </div>
  <p>
   <code>
    prefix
   </code>
   must be given in CIDR notation, as defined in
   <a href="https://tools.ietf.org/html/rfc4632#section-3.1">
    RFC 4632 section 3.1
   </a>
   .
  </p>
  <p>
   <code>
    newbits
   </code>
   is the number of additional bits with which to extend the prefix.
 For example, if given a prefix ending in
   <code>
    /16
   </code>
   and a
   <code>
    newbits
   </code>
   value of
   <code>
    4
   </code>
   , the resulting subnet address will have length
   <code>
    /20
   </code>
   .
  </p>
  <p>
   <code>
    netnum
   </code>
   is a whole number that can be represented as a binary integer with
 no more than
   <code>
    newbits
   </code>
   binary digits, which will be used to populate the
 additional bits added to the prefix.
  </p>
  <p>
   This function accepts both IPv6 and IPv4 prefixes, and the result always uses
 the same addressing scheme as the given prefix.
  </p>
  <p>
   Unlike the related function
   <a href="/docs/language/functions/cidrsubnets.html">
    <code>
     cidrsubnets
    </code>
   </a>
   ,
   <code>
    cidrsubnet
   </code>
   allows you to give a specific network number to use.
   <code>
    cidrsubnets
   </code>
   can allocate
 multiple network addresses at once, but numbers them automatically starting
 with zero.
  </p>
  <h2 id="examples">
   <a class="anchor" href="#examples" name="examples">
    »
   </a>
   Examples
  </h2>
  <div class="highlight">
   <pre class="highlight plaintext"><code>&gt; cidrsubnet("172.16.0.0/12", 4, 2)
 172.18.0.0/16
 &gt; cidrsubnet("10.1.2.0/24", 4, 15)
 10.1.2.240/28
 &gt; cidrsubnet("fd00:fd12:3456:7890::/56", 16, 162)
 fd00:fd12:3456:7800:a200::/72
 </code></pre>
  </div>
  <h2 id="netmasks-and-subnets">
   <a class="anchor" href="#netmasks-and-subnets" name="netmasks-and-subnets">
    »
   </a>
   Netmasks and Subnets
  </h2>
  <p>
   Using
   <code>
    cidrsubnet
   </code>
   requires familiarity with some network addressing concepts.
  </p>
  <p>
   The most important idea is that an IP address (whether IPv4 or IPv6) is
 fundamentally constructed from binary digits, even though we conventionally
 represent it as either four decimal octets (for IPv4) or a sequence of 16-bit
 hexadecimal numbers (for IPv6).
  </p>
  <p>
   Taking our example above of
   <code>
    cidrsubnet("10.1.2.0/24", 4, 15)
   </code>
   , the function
 will first convert the given IP address string into an equivalent binary
 representation:
  </p>
  <div class="highlight">
   <pre class="highlight plaintext"><code>      10 .        1 .        2 .        0
 00001010   00000001   00000010 | 00000000
          network               |   host
 </code></pre>
  </div>
  <p>
   The
   <code>
    /24
   </code>
   at the end of the prefix string specifies that the first 24
 bits -- or, the first three octets -- of the address identify the network
 while the remaining bits (32 - 24 = 8 bits in this case) identify hosts
 within the network.
  </p>
  <p>
   The CLI tool
   <a href="https://gitlab.com/ipcalc/ipcalc">
    <code>
     ipcalc
    </code>
   </a>
   is useful for
 visualizing CIDR prefixes as binary numbers. We can confirm the conversion
 above by providing the same prefix string to
   <code>
    ipcalc
   </code>
   :
  </p>
  <div class="highlight">
   <pre class="highlight plaintext"><code>$ ipcalc 10.1.2.0/24
 Address:   10.1.2.0             00001010.00000001.00000010. 00000000
 Netmask:   255.255.255.0 = 24   11111111.11111111.11111111. 00000000
 Wildcard:  0.0.0.255            00000000.00000000.00000000. 11111111
 =&gt;
 Network:   10.1.2.0/24          00001010.00000001.00000010. 00000000
 HostMin:   10.1.2.1             00001010.00000001.00000010. 00000001
 HostMax:   10.1.2.254           00001010.00000001.00000010. 11111110
 Broadcast: 10.1.2.255           00001010.00000001.00000010. 11111111
 Hosts/Net: 254                   Class A, Private Internet
 </code></pre>
  </div>
  <p>
   This gives us some additional information but also confirms (using a slightly
 different notation) the conversion from decimal to binary and shows the range
 of possible host addresses in this network.
  </p>
  <p>
   While
   <a href="/docs/language/functions/cidrhost.html">
    <code>
     cidrhost
    </code>
   </a>
   allows calculating single host IP addresses,
   <code>
    cidrsubnet
   </code>
   on the other hand creates a new network prefix
   <em>
    within
   </em>
   the given
 network prefix. In other words, it creates a subnet.
  </p>
  <p>
   When we call
   <code>
    cidrsubnet
   </code>
   we also pass two additional arguments:
   <code>
    newbits
   </code>
   and
   <code>
    netnum
   </code>
   .
   <code>
    newbits
   </code>
   decides how much longer the resulting prefix will be in
 bits; in our example here we specified
   <code>
    4
   </code>
   , which means that the resulting
 subnet will have a prefix length of 24 + 4 = 28 bits. We can imagine these
 bits breaking down as follows:
  </p>
  <div class="highlight">
   <pre class="highlight plaintext"><code>      10 .        1 .        2 .    ?        0
 00001010   00000001   00000010 |   XXXX | 0000
          parent network        | netnum | host
 </code></pre>
  </div>
  <p>
   Four of the eight bits that were originally the "host number" are now being
 repurposed as the subnet number. The network prefix no longer falls on an
 exact octet boundary, so in effect we are now splitting the last decimal number
 in the IP address into two parts, using half of it to represent the subnet
 number and the other half to represent the host number.
  </p>
  <p>
   The
   <code>
    netnum
   </code>
   argument then decides what number value to encode into those
 four new subnet bits. In our current example we passed
   <code>
    15
   </code>
   , which is
 represented in binary as
   <code>
    1111
   </code>
   , allowing us to fill in the
   <code>
    XXXX
   </code>
   segment
 in the above:
  </p>
  <div class="highlight">
   <pre class="highlight plaintext"><code>      10 .        1 .        2 .    15       0
 00001010   00000001   00000010 |   1111 | 0000
          parent network        | netnum | host
 </code></pre>
  </div>
  <p>
   To convert this back into normal decimal notation we need to recombine the
 two portions of the final octet. Converting
   <code>
    11110000
   </code>
   from binary to decimal
 gives 240, which can then be combined with our new prefix length of 28 to
 produce the result
   <code>
    10.1.2.240/28
   </code>
   . Again we can pass this prefix string to
   <code>
    ipcalc
   </code>
   to visualize it:
  </p>
  <div class="highlight">
   <pre class="highlight plaintext"><code>$ ipcalc 10.1.2.240/28
 Address:   10.1.2.240           00001010.00000001.00000010.1111 0000
 Netmask:   255.255.255.240 = 28 11111111.11111111.11111111.1111 0000
 Wildcard:  0.0.0.15             00000000.00000000.00000000.0000 1111
 =&gt;
 Network:   10.1.2.240/28        00001010.00000001.00000010.1111 0000
 HostMin:   10.1.2.241           00001010.00000001.00000010.1111 0001
 HostMax:   10.1.2.254           00001010.00000001.00000010.1111 1110
 Broadcast: 10.1.2.255           00001010.00000001.00000010.1111 1111
 Hosts/Net: 14                    Class A, Private Internet
 </code></pre>
  </div>
  <p>
   The new subnet has four bits available for host numbering, which means
 that there are 14 host addresses available for assignment once we subtract
 the network's own address and the broadcast address. You can thus use
   <a href="/docs/language/functions/cidrhost.html">
    <code>
     cidrhost
    </code>
   </a>
   function to calculate those host addresses by
 providing it a value between 1 and 14:
  </p>
  <div class="highlight">
   <pre class="highlight plaintext"><code>&gt; cidrhost("10.1.2.240/28", 1)
 10.1.2.241
 &gt; cidrhost("10.1.2.240/28", 14)
 10.1.2.254
 </code></pre>
  </div>
  <p>
   For more information on CIDR notation and subnetting, see
   <a href="https://en.wikipedia.org/wiki/Classless_Inter-Domain_Routing">
    Classless Inter-domain Routing
   </a>
   .
  </p>
  <h2 id="related-functions">
   <a class="anchor" href="#related-functions" name="related-functions">
    »
   </a>
   Related Functions
  </h2>
  <ul>
   <li>
    <a href="/docs/language/functions/cidrhost.html">
     <code>
      cidrhost
     </code>
    </a>
    calculates the IP address for a single host
 within a given network address prefix.
   </li>
   <li>
    <a href="/docs/language/functions/cidrnetmask.html">
     <code>
      cidrnetmask
     </code>
    </a>
    converts an IPv4 network prefix in CIDR
 notation into netmask notation.
   </li>
   <li>
    <a href="/docs/language/functions/cidrsubnets.html">
     <code>
      cidrsubnets
     </code>
    </a>
    can allocate multiple consecutive
 addresses under a prefix at once, numbering them automatically.
   </li>
  </ul>
 </div>
 
 <!-- ########### Type Conversion Functions : can ############### -->
 <!-- ########### https://www.terraform.io/docs/language/functions/cidrsubnets.html ############### --
 ><!-- ########### Type Conversion Functions : can ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="cidrsubnets-function">
    <a class="anchor" href="#cidrsubnets-function" name="cidrsubnets-function">
     »
    </a>
    <code>
     cidrsubnets
    </code>
    Function
   </h1>
  </div>
  <p>
   <code>
    cidrsubnets
   </code>
   calculates a sequence of consecutive IP address ranges within
 a particular CIDR prefix.
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">cidrsubnets</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="n">newbits</span><span class="o">...</span><span class="p">)</span>
 </code></pre>
  </div>
  <p>
   <code>
    prefix
   </code>
   must be given in CIDR notation, as defined in
   <a href="https://tools.ietf.org/html/rfc4632#section-3.1">
    RFC 4632 section 3.1
   </a>
   .
  </p>
  <p>
   The remaining arguments, indicated as
   <code>
    newbits
   </code>
   above, each specify the number
 of additional network prefix bits for one returned address range. The return
 value is therefore a list with one element per
   <code>
    newbits
   </code>
   argument, each
 a string containing an address range in CIDR notation.
  </p>
  <p>
   For more information on IP addressing concepts, see the documentation for the
 related function
   <a href="/docs/language/functions/cidrsubnet.html">
    <code>
     cidrsubnet
    </code>
   </a>
   .
   <code>
    cidrsubnet
   </code>
   calculates
 a single subnet address within a prefix while allowing you to specify its
 subnet number, while
   <code>
    cidrsubnets
   </code>
   can calculate many at once, potentially of
 different sizes, and assigns subnet numbers automatically.
  </p>
  <p>
   When using this function to partition an address space as part of a network
 address plan, you must not change any of the existing arguments once network
 addresses have been assigned to real infrastructure, or else later address
 assignments will be invalidated. However, you
   <em>
    can
   </em>
   append new arguments to
 existing calls safely, as long as there is sufficient address space available.
  </p>
  <p>
   This function accepts both IPv6 and IPv4 prefixes, and the result always uses
 the same addressing scheme as the given prefix.
  </p>
  <div class="alert alert-info" role="alert">
   <p>
    <strong>
     Note:
    </strong>
    <a href="https://registry.terraform.io/modules/hashicorp/subnets/cidr">
     The Terraform module
     <code>
      hashicorp/subnets/cidr
     </code>
    </a>
    wraps
    <code>
     cidrsubnets
    </code>
    to provide additional functionality for assigning symbolic
 names to your networks and skipping prefixes for obsolete allocations. Its
 documentation includes usage examples for several popular cloud virtual network
 platforms.
   </p>
  </div>
  <h2 id="examples">
   <a class="anchor" href="#examples" name="examples">
    »
   </a>
   Examples
  </h2>
  <div class="highlight">
   <pre class="highlight plaintext"><code>&gt; cidrsubnets("10.1.0.0/16", 4, 4, 8, 4)
 [
   "10.1.0.0/20",
   "10.1.16.0/20",
   "10.1.32.0/24",
   "10.1.48.0/20",
 ]
 
 &gt; cidrsubnets("fd00:fd12:3456:7890::/56", 16, 16, 16, 32)
 [
   "fd00:fd12:3456:7800::/72",
   "fd00:fd12:3456:7800:100::/72",
   "fd00:fd12:3456:7800:200::/72",
   "fd00:fd12:3456:7800:300::/88",
 ]
 </code></pre>
  </div>
  <p>
   You can use nested
   <code>
    cidrsubnets
   </code>
   calls with
   <a href="/docs/language/expressions/for.html">
    <code>
     for
    </code>
    expressions
   </a>
   to concisely allocate groups of network address blocks:
  </p>
  <div class="highlight">
   <pre class="highlight plaintext"><code>&gt; [for cidr_block in cidrsubnets("10.0.0.0/8", 8, 8, 8, 8) : cidrsubnets(cidr_block, 4, 4)]
 [
   [
     "10.0.0.0/20",
     "10.0.16.0/20",
   ],
   [
     "10.1.0.0/20",
     "10.1.16.0/20",
   ],
   [
     "10.2.0.0/20",
     "10.2.16.0/20",
   ],
   [
     "10.3.0.0/20",
     "10.3.16.0/20",
   ],
 ]
 </code></pre>
  </div>
  <h2 id="related-functions">
   <a class="anchor" href="#related-functions" name="related-functions">
    »
   </a>
   Related Functions
  </h2>
  <ul>
   <li>
    <a href="/docs/language/functions/cidrhost.html">
     <code>
      cidrhost
     </code>
    </a>
    calculates the IP address for a single host
 within a given network address prefix.
   </li>
   <li>
    <a href="/docs/language/functions/cidrnetmask.html">
     <code>
      cidrnetmask
     </code>
    </a>
    converts an IPv4 network prefix in CIDR
 notation into netmask notation.
   </li>
   <li>
    <a href="/docs/language/functions/cidrsubnet.html">
     <code>
      cidrsubnet
     </code>
    </a>
    calculates a single subnet address, allowing
 you to specify its network number.
   </li>
  </ul>
 </div>
 
 <!-- ########### Type Conversion Functions : defaults ############### -->
 <!-- ########### https://www.terraform.io/docs/language/functions/can.html ############### --
 ><!-- ########### Type Conversion Functions : defaults ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="can-function">
    <a class="anchor" href="#can-function" name="can-function">
     »
    </a>
    <code>
     can
    </code>
    Function
   </h1>
  </div>
  <p>
   <code>
    can
   </code>
   evaluates the given expression and returns a boolean value indicating
 whether the expression produced a result without any errors.
  </p>
  <p>
   This is a special function that is able to catch errors produced when evaluating
 its argument. For most situations where you could use
   <code>
    can
   </code>
   it's better to use
   <a href="/docs/language/functions/try.html">
    <code>
     try
    </code>
   </a>
   instead, because it allows for more concise definition of
 fallback values for failing expressions.
  </p>
  <p>
   The primary purpose of
   <code>
    can
   </code>
   is to turn an error condition into a boolean
 validation result when writing
   <a href="/docs/language/values/variables.html#custom-validation-rules">
    custom variable validation rules
   </a>
   .
 For example:
  </p>
  <div class="highlight">
   <pre class="highlight plaintext"><code>variable "timestamp" {
   type        = string
 
   validation {
     # formatdate fails if the second argument is not a valid timestamp
     condition     = can(formatdate("", var.timestamp))
     error_message = "The timestamp argument requires a valid RFC 3339 timestamp."
   }
 }
 </code></pre>
  </div>
  <p>
   The
   <code>
    can
   </code>
   function can only catch and handle
   <em>
    dynamic
   </em>
   errors resulting from
 access to data that isn't known until runtime. It will not catch errors
 relating to expressions that can be proven to be invalid for any input, such
 as a malformed resource reference.
  </p>
  <div class="alert alert-warning" role="alert">
   <p>
    <strong>
     Warning:
    </strong>
    The
    <code>
     can
    </code>
    function is intended only for simple tests in
 variable validation rules. Although it can technically accept any sort of
 expression and be used elsewhere in the configuration, we recommend against
 using it in other contexts. For error handling elsewhere in the configuration,
 prefer to use
    <a href="/docs/language/functions/try.html">
     <code>
      try
     </code>
    </a>
    .
   </p>
  </div>
  <h2 id="examples">
   <a class="anchor" href="#examples" name="examples">
    »
   </a>
   Examples
  </h2>
  <div class="highlight">
   <pre class="highlight plaintext"><code>&gt; local.foo
 {
   "bar" = "baz"
 }
 &gt; can(local.foo.bar)
 true
 &gt; can(local.foo.boop)
 false
 </code></pre>
  </div>
  <p>
   The
   <code>
    can
   </code>
   function will
   <em>
    not
   </em>
   catch errors relating to constructs that are
 provably invalid even before dynamic expression evaluation, such as a malformed
 reference or a reference to a top-level object that has not been declared:
  </p>
  <div class="highlight">
   <pre class="highlight plaintext"><code>&gt; can(local.nonexist)
 
 Error: Reference to undeclared local value
 
 A local value with the name "nonexist" has not been declared.
 </code></pre>
  </div>
  <h2 id="related-functions">
   <a class="anchor" href="#related-functions" name="related-functions">
    »
   </a>
   Related Functions
  </h2>
  <ul>
   <li>
    <a href="/docs/language/functions/try.html">
     <code>
      try
     </code>
    </a>
    , which tries evaluating a sequence of expressions and
 returns the result of the first one that succeeds.
   </li>
  </ul>
 </div>
 
 <!-- ########### Type Conversion Functions : tobool ############### -->
 <!-- ########### https://www.terraform.io/docs/language/functions/defaults.html ############### --
 ><!-- ########### Type Conversion Functions : tobool ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="defaults-function">
    <a class="anchor" href="#defaults-function" name="defaults-function">
     »
    </a>
    <code>
     defaults
    </code>
    Function
   </h1>
  </div>
  <div class="alert alert-info" role="alert">
   <p>
    <strong>
     Note:
    </strong>
    This function is available only in Terraform 0.15 and later.
   </p>
  </div>
  <div class="alert alert-warning" role="alert">
   <p>
    <strong>
     Experimental:
    </strong>
    This function is part of
    <a href="/docs/language/expressions/type-constraints.html#experimental-optional-object-type-attributes">
     the optional attributes experiment
    </a>
    and is only available in modules where the
    <code>
     module_variable_optional_attrs
    </code>
    experiment is explicitly enabled.
   </p>
  </div>
  <p>
   The
   <code>
    defaults
   </code>
   function is a specialized function intended for use with
 input variables whose type constraints are object types or collections of
 object types that include optional attributes.
  </p>
  <p>
   When you define an attribute as optional and the caller doesn't provide an
 explicit value for it, Terraform will set the attribute to
   <code>
    null
   </code>
   to represent
 that it was omitted. If you want to use a placeholder value other than
   <code>
    null
   </code>
   when an attribute isn't set, you can use the
   <code>
    defaults
   </code>
   function to concisely
 assign default values only where an attribute value was set to
   <code>
    null
   </code>
   .
  </p>
  <div class="highlight">
   <pre class="highlight plaintext"><code>defaults(input_value, defaults)
 </code></pre>
  </div>
  <p>
   The
   <code>
    defaults
   </code>
   function expects that the
   <code>
    input_value
   </code>
   argument will be the
 value of an input variable with an exact
   <a href="/docs/language/expressions/types.html">
    type constraint
   </a>
   (not containing
   <code>
    any
   </code>
   ). The function will then visit every attribute in
 the data structure, including attributes of nested objects, and apply the
 default values given in the defaults object.
  </p>
  <p>
   The interpretation of attributes in the
   <code>
    defaults
   </code>
   argument depends on what
 type an attribute has in the
   <code>
    input_value
   </code>
   :
  </p>
  <ul>
   <li>
    <strong>
     Primitive types
    </strong>
    (
    <code>
     string
    </code>
    ,
    <code>
     number
    </code>
    ,
    <code>
     bool
    </code>
    ): if a default value is given
 then it will be used only if the
    <code>
     input_value
    </code>
    's attribute of the same
 name has the value
    <code>
     null
    </code>
    . The default value's type must match the input
 value's type.
   </li>
   <li>
    <strong>
     Structural types
    </strong>
    (
    <code>
     object
    </code>
    and
    <code>
     tuple
    </code>
    types): Terraform will recursively
 visit all of the attributes or elements of the nested value and repeat the
 same defaults-merging logic one level deeper. The default value's type must
 be of the same kind as the input value's type, and a default value for an
 object type must only contain attribute names that appear in the input
 value's type.
   </li>
   <li>
    <strong>
     Collection types
    </strong>
    (
    <code>
     list
    </code>
    ,
    <code>
     map
    </code>
    , and
    <code>
     set
    </code>
    types): Terraform will visit
 each of the collection elements in turn and apply defaults to them. In this
 case the default value is only a single value to be applied to
    <em>
     all
    </em>
    elements
 of the collection, so it must have a type compatible with the collection's
 element type rather than with the collection type itself.
   </li>
  </ul>
  <p>
   The above rules may be easier to follow with an example. Consider the following
 Terraform configuration:
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">terraform</span> <span class="p">{</span>
   <span class="c1"># Optional attributes and the defaults function are</span>
   <span class="c1"># both experimental, so we must opt in to the experiment.</span>
   <span class="n">experiments</span> <span class="o">=</span> <span class="p">[</span><span class="n">module_variable_optional_attrs</span><span class="p">]</span>
 <span class="p">}</span>
 
 <span class="n">variable</span> <span class="s2">"storage"</span> <span class="p">{</span>
   <span class="n">type</span> <span class="o">=</span> <span class="n">object</span><span class="p">({</span>
     <span class="nb">name</span>    <span class="o">=</span> <span class="n">string</span>
     <span class="n">enabled</span> <span class="o">=</span> <span class="n">optional</span><span class="p">(</span><span class="n">bool</span><span class="p">)</span>
     <span class="n">website</span> <span class="o">=</span> <span class="n">object</span><span class="p">({</span>
       <span class="n">index_document</span> <span class="o">=</span> <span class="n">optional</span><span class="p">(</span><span class="n">string</span><span class="p">)</span>
       <span class="n">error_document</span> <span class="o">=</span> <span class="n">optional</span><span class="p">(</span><span class="n">string</span><span class="p">)</span>
     <span class="p">})</span>
     <span class="n">documents</span> <span class="o">=</span> <span class="n">map</span><span class="p">(</span>
       <span class="n">object</span><span class="p">({</span>
         <span class="n">source_file</span>  <span class="o">=</span> <span class="n">string</span>
         <span class="n">content_type</span> <span class="o">=</span> <span class="n">optional</span><span class="p">(</span><span class="n">string</span><span class="p">)</span>
       <span class="p">})</span>
     <span class="p">)</span>
   <span class="p">})</span>
 <span class="p">}</span>
 
 <span class="n">locals</span> <span class="p">{</span>
   <span class="n">storage</span> <span class="o">=</span> <span class="n">defaults</span><span class="p">(</span><span class="n">var</span><span class="p">.</span><span class="nf">storage</span><span class="p">,</span> <span class="p">{</span>
     <span class="c1"># If "enabled" isn't set then it will default</span>
     <span class="c1"># to true.</span>
     <span class="n">enabled</span> <span class="o">=</span> <span class="kp">true</span>
 
     <span class="c1"># The "website" attribute is required, but</span>
     <span class="c1"># it's here to provide defaults for the</span>
     <span class="c1"># optional attributes inside.</span>
     <span class="n">website</span> <span class="o">=</span> <span class="p">{</span>
       <span class="n">index_document</span> <span class="o">=</span> <span class="s2">"index.html"</span>
       <span class="n">error_document</span> <span class="o">=</span> <span class="s2">"error.html"</span>
     <span class="p">}</span>
 
     <span class="c1"># The "documents" attribute has a map type,</span>
     <span class="c1"># so the default value represents defaults</span>
     <span class="c1"># to be applied to all of the elements in</span>
     <span class="c1"># the map, not for the map itself. Therefore</span>
     <span class="c1"># it's a single object matching the map</span>
     <span class="c1"># element type, not a map itself.</span>
     <span class="n">documents</span> <span class="o">=</span> <span class="p">{</span>
       <span class="c1"># If _any_ of the map elements omit</span>
       <span class="c1"># content_type then this default will be</span>
       <span class="c1"># used instead.</span>
       <span class="n">content_type</span> <span class="o">=</span> <span class="s2">"application/octet-stream"</span>
     <span class="p">}</span>
   <span class="p">})</span>
 <span class="p">}</span>
 
 <span class="n">output</span> <span class="s2">"storage"</span> <span class="p">{</span>
   <span class="n">value</span> <span class="o">=</span> <span class="n">local</span><span class="p">.</span><span class="nf">storage</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <p>
   To test this out, we can create a file
   <code>
    terraform.tfvars
   </code>
   to provide an example
 value for
   <code>
    var.storage
   </code>
   :
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">storage</span> <span class="o">=</span> <span class="p">{</span>
   <span class="nb">name</span> <span class="o">=</span> <span class="s2">"example"</span>
 
   <span class="n">website</span> <span class="o">=</span> <span class="p">{</span>
     <span class="n">error_document</span> <span class="o">=</span> <span class="s2">"error.txt"</span>
   <span class="p">}</span>
   <span class="n">documents</span> <span class="o">=</span> <span class="p">{</span>
     <span class="s2">"index.html"</span> <span class="o">=</span> <span class="p">{</span>
       <span class="n">source_file</span>  <span class="o">=</span> <span class="s2">"index.html.tmpl"</span>
       <span class="n">content_type</span> <span class="o">=</span> <span class="s2">"text/html"</span>
     <span class="p">}</span>
     <span class="s2">"error.txt"</span> <span class="o">=</span> <span class="p">{</span>
       <span class="n">source_file</span>  <span class="o">=</span> <span class="s2">"error.txt.tmpl"</span>
       <span class="n">content_type</span> <span class="o">=</span> <span class="s2">"text/plain"</span>
     <span class="p">}</span>
     <span class="s2">"terraform.exe"</span> <span class="o">=</span> <span class="p">{</span>
       <span class="n">source_file</span>  <span class="o">=</span> <span class="s2">"terraform.exe"</span>
     <span class="p">}</span>
   <span class="p">}</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <p>
   The above value conforms to the variable's type constraint because it only
 omits attributes that are declared as optional. Terraform will automatically
 populate those attributes with the value
   <code>
    null
   </code>
   before evaluating anything
 else, and then the
   <code>
    defaults
   </code>
   function in
   <code>
    local.storage
   </code>
   will substitute
 default values for each of them.
  </p>
  <p>
   The result of this
   <code>
    defaults
   </code>
   call would therefore be the following object:
  </p>
  <div class="highlight">
   <pre class="highlight plaintext"><code>storage = {
   "documents" = tomap({
     "error.txt" = {
       "content_type" = "text/plain"
       "source_file"  = "error.txt.tmpl"
     }
     "index.html" = {
       "content_type" = "text/html"
       "source_file"  = "index.html.tmpl"
     }
     "terraform.exe" = {
       "content_type" = "application/octet-stream"
       "source_file"  = "terraform.exe"
     }
   })
   "enabled" = true
   "name" = "example"
   "website" = {
     "error_document" = "error.txt"
     "index_document" = "index.html"
   }
 }
 </code></pre>
  </div>
  <p>
   Notice that
   <code>
    enabled
   </code>
   and
   <code>
    website.index_document
   </code>
   were both populated directly
 from the defaults. Notice also that the
   <code>
    "terraform.exe"
   </code>
   element of
   <code>
    documents
   </code>
   had its
   <code>
    content_type
   </code>
   attribute populated from the
   <code>
    documents
   </code>
   default, but the default value didn't need to predict that there would be an
 element key
   <code>
    "terraform.exe"
   </code>
   because the default values apply equally to
 all elements of the map where the optional attributes are
   <code>
    null
   </code>
   .
  </p>
  <h2 id="using-defaults-elsewhere">
   <a class="anchor" href="#using-defaults-elsewhere" name="using-defaults-elsewhere">
    »
   </a>
   Using
   <code>
    defaults
   </code>
   elsewhere
  </h2>
  <p>
   The design of the
   <code>
    defaults
   </code>
   function depends on input values having
 well-specified type constraints, so it can reliably recognize the difference
 between similar types: maps vs. objects, lists vs. tuples. The type constraint
 causes Terraform to convert the caller's value to conform to the constraint
 and thus
   <code>
    defaults
   </code>
   can rely on the input to conform.
  </p>
  <p>
   Elsewhere in the Terraform language it's typical to be less precise about
 types, for example using the object construction syntax
   <code>
    { ... }
   </code>
   to construct
 values that will be used as if they are maps. Because
   <code>
    defaults
   </code>
   uses the
 type information of
   <code>
    input_value
   </code>
   , an
   <code>
    input_value
   </code>
   that
   <em>
    doesn't
   </em>
   originate
 in an input variable will tend not to have an appropriate value type and will
 thus not be interpreted as expected by
   <code>
    defaults
   </code>
   .
  </p>
  <p>
   We recommend using
   <code>
    defaults
   </code>
   only with fully-constrained input variable values
 in the first argument, so you can use the variable's type constraint to
 explicitly distinguish between collection and structural types.
  </p>
 </div>
 
 <!-- ########### Type Conversion Functions : tolist ############### -->
 <!-- ########### https://www.terraform.io/docs/language/functions/tobool.html ############### --
 ><!-- ########### Type Conversion Functions : tolist ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="tobool-function">
    <a class="anchor" href="#tobool-function" name="tobool-function">
     »
    </a>
    <code>
     tobool
    </code>
    Function
   </h1>
  </div>
  <p>
   <code>
    tobool
   </code>
   converts its argument to a boolean value.
  </p>
  <p>
   Explicit type conversions are rarely necessary in Terraform because it will
 convert types automatically where required. Use the explicit type conversion
 functions only to normalize types returned in module outputs.
  </p>
  <p>
   Only boolean values and the exact strings
   <code>
    "true"
   </code>
   and
   <code>
    "false"
   </code>
   can be
 converted to boolean. All other values will produce an error.
  </p>
  <h2 id="examples">
   <a class="anchor" href="#examples" name="examples">
    »
   </a>
   Examples
  </h2>
  <div class="highlight">
   <pre class="highlight plaintext"><code>&gt; tobool(true)
 true
 &gt; tobool("true")
 true
 &gt; tobool("no")
 Error: Invalid function argument
 
 Invalid value for "v" parameter: cannot convert "no" to bool: only the strings
 "true" or "false" are allowed.
 
 &gt; tobool(1)
 Error: Invalid function argument
 
 Invalid value for "v" parameter: cannot convert number to bool.
 </code></pre>
  </div>
 </div>
 
 <!-- ########### Type Conversion Functions : tomap ############### -->
 <!-- ########### https://www.terraform.io/docs/language/functions/tolist.html ############### --
 ><!-- ########### Type Conversion Functions : tomap ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="tolist-function">
    <a class="anchor" href="#tolist-function" name="tolist-function">
     »
    </a>
    <code>
     tolist
    </code>
    Function
   </h1>
  </div>
  <p>
   <code>
    tolist
   </code>
   converts its argument to a list value.
  </p>
  <p>
   Explicit type conversions are rarely necessary in Terraform because it will
 convert types automatically where required. Use the explicit type conversion
 functions only to normalize types returned in module outputs.
  </p>
  <p>
   Pass a
   <em>
    set
   </em>
   value to
   <code>
    tolist
   </code>
   to convert it to a list. Since set elements are
 not ordered, the resulting list will have an undefined order that will be
 consistent within a particular run of Terraform.
  </p>
  <h2 id="examples">
   <a class="anchor" href="#examples" name="examples">
    »
   </a>
   Examples
  </h2>
  <div class="highlight">
   <pre class="highlight plaintext"><code>&gt; tolist(["a", "b", "c"])
 [
   "a",
   "b",
   "c",
 ]
 </code></pre>
  </div>
  <p>
   Since Terraform's concept of a list requires all of the elements to be of the
 same type, mixed-typed elements will be converted to the most general type:
  </p>
  <div class="highlight">
   <pre class="highlight plaintext"><code>&gt; tolist(["a", "b", 3])
 [
   "a",
   "b",
   "3",
 ]
 </code></pre>
  </div>
 </div>
 
 <!-- ########### Type Conversion Functions : tonumber ############### -->
 <!-- ########### https://www.terraform.io/docs/language/functions/tomap.html ############### --
 ><!-- ########### Type Conversion Functions : tonumber ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="tomap-function">
    <a class="anchor" href="#tomap-function" name="tomap-function">
     »
    </a>
    <code>
     tomap
    </code>
    Function
   </h1>
  </div>
  <p>
   <code>
    tomap
   </code>
   converts its argument to a map value.
  </p>
  <p>
   Explicit type conversions are rarely necessary in Terraform because it will
 convert types automatically where required. Use the explicit type conversion
 functions only to normalize types returned in module outputs.
  </p>
  <h2 id="examples">
   <a class="anchor" href="#examples" name="examples">
    »
   </a>
   Examples
  </h2>
  <div class="highlight">
   <pre class="highlight plaintext"><code>&gt; tomap({"a" = 1, "b" = 2})
 {
   "a" = 1
   "b" = 2
 }
 </code></pre>
  </div>
  <p>
   Since Terraform's concept of a map requires all of the elements to be of the
 same type, mixed-typed elements will be converted to the most general type:
  </p>
  <div class="highlight">
   <pre class="highlight plaintext"><code>&gt; tomap({"a" = "foo", "b" = true})
 {
   "a" = "foo"
   "b" = "true"
 }
 </code></pre>
  </div>
 </div>
 
 <!-- ########### Type Conversion Functions : toset ############### -->
 <!-- ########### https://www.terraform.io/docs/language/functions/tonumber.html ############### --
 ><!-- ########### Type Conversion Functions : toset ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="tonumber-function">
    <a class="anchor" href="#tonumber-function" name="tonumber-function">
     »
    </a>
    <code>
     tonumber
    </code>
    Function
   </h1>
  </div>
  <p>
   <code>
    tonumber
   </code>
   converts its argument to a number value.
  </p>
  <p>
   Explicit type conversions are rarely necessary in Terraform because it will
 convert types automatically where required. Use the explicit type conversion
 functions only to normalize types returned in module outputs.
  </p>
  <p>
   Only numbers and strings containing decimal representations of numbers can be
 converted to number. All other values will produce an error.
  </p>
  <h2 id="examples">
   <a class="anchor" href="#examples" name="examples">
    »
   </a>
   Examples
  </h2>
  <div class="highlight">
   <pre class="highlight plaintext"><code>&gt; tonumber(1)
 1
 &gt; tonumber("1")
 1
 &gt; tonumber("no")
 Error: Invalid function argument
 
 Invalid value for "v" parameter: cannot convert "no" to number: string must be
 a decimal representation of a number.
 </code></pre>
  </div>
 </div>
 
 <!-- ########### Type Conversion Functions : tostring ############### -->
 <!-- ########### https://www.terraform.io/docs/language/functions/toset.html ############### --
 ><!-- ########### Type Conversion Functions : tostring ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="toset-function">
    <a class="anchor" href="#toset-function" name="toset-function">
     »
    </a>
    <code>
     toset
    </code>
    Function
   </h1>
  </div>
  <p>
   <code>
    toset
   </code>
   converts its argument to a set value.
  </p>
  <p>
   Explicit type conversions are rarely necessary in Terraform because it will
 convert types automatically where required. Use the explicit type conversion
 functions only to normalize types returned in module outputs.
  </p>
  <p>
   Pass a
   <em>
    list
   </em>
   value to
   <code>
    toset
   </code>
   to convert it to a set, which will remove any
 duplicate elements and discard the ordering of the elements.
  </p>
  <h2 id="examples">
   <a class="anchor" href="#examples" name="examples">
    »
   </a>
   Examples
  </h2>
  <div class="highlight">
   <pre class="highlight plaintext"><code>&gt; toset(["a", "b", "c"])
 [
   "a",
   "b",
   "c",
 ]
 </code></pre>
  </div>
  <p>
   Since Terraform's concept of a set requires all of the elements to be of the
 same type, mixed-typed elements will be converted to the most general type:
  </p>
  <div class="highlight">
   <pre class="highlight plaintext"><code>&gt; toset(["a", "b", 3])
 [
   "a",
   "b",
   "3",
 ]
 </code></pre>
  </div>
  <p>
   Set collections are unordered and cannot contain duplicate values, so the
 ordering of the argument elements is lost and any duplicate values are
 coalesced:
  </p>
  <div class="highlight">
   <pre class="highlight plaintext"><code>&gt; toset(["c", "b", "b"])
 [
   "b",
   "c",
 ]
 </code></pre>
  </div>
 </div>
 
 <!-- ########### Type Conversion Functions : try ############### -->
 <!-- ########### https://www.terraform.io/docs/language/functions/tostring.html ############### --
 ><!-- ########### Type Conversion Functions : try ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="tostring-function">
    <a class="anchor" href="#tostring-function" name="tostring-function">
     »
    </a>
    <code>
     tostring
    </code>
    Function
   </h1>
  </div>
  <p>
   <code>
    tostring
   </code>
   converts its argument to a string value.
  </p>
  <p>
   Explicit type conversions are rarely necessary in Terraform because it will
 convert types automatically where required. Use the explicit type conversion
 functions only to normalize types returned in module outputs.
  </p>
  <p>
   Only the primitive types (string, number, and bool) can be converted to string.
 All other values will produce an error.
  </p>
  <h2 id="examples">
   <a class="anchor" href="#examples" name="examples">
    »
   </a>
   Examples
  </h2>
  <div class="highlight">
   <pre class="highlight plaintext"><code>&gt; tostring("hello")
 hello
 &gt; tostring(1)
 1
 &gt; tostring(true)
 true
 &gt; tostring([])
 Error: Invalid function argument
 
 Invalid value for "v" parameter: cannot convert tuple to string.
 </code></pre>
  </div>
 </div>
 
 <!-- ########### Terraform Settings : Overview ############### -->
 <!-- ########### https://www.terraform.io/docs/language/functions/try.html ############### --
 ><!-- ########### Terraform Settings : Overview ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="try-function">
    <a class="anchor" href="#try-function" name="try-function">
     »
    </a>
    <code>
     try
    </code>
    Function
   </h1>
  </div>
  <p>
   <code>
    try
   </code>
   evaluates all of its argument expressions in turn and returns the result
 of the first one that does not produce any errors.
  </p>
  <p>
   This is a special function that is able to catch errors produced when evaluating
 its arguments, which is particularly useful when working with complex data
 structures whose shape is not well-known at implementation time.
  </p>
  <p>
   For example, if some data is retrieved from an external system in JSON or YAML
 format and then decoded, the result may have attributes that are not guaranteed
 to be set. We can use
   <code>
    try
   </code>
   to produce a normalized data structure which has
 a predictable type that can therefore be used more conveniently elsewhere in
 the configuration:
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">locals</span> <span class="p">{</span>
   <span class="n">raw_value</span> <span class="o">=</span> <span class="n">yamldecode</span><span class="p">(</span><span class="n">file</span><span class="p">(</span><span class="s2">"${path.module}/example.yaml"</span><span class="p">))</span>
   <span class="n">normalized_value</span> <span class="o">=</span> <span class="p">{</span>
     <span class="nb">name</span>   <span class="o">=</span> <span class="n">tostring</span><span class="p">(</span><span class="n">try</span><span class="p">(</span><span class="n">local</span><span class="p">.</span><span class="nf">raw_value</span><span class="p">.</span><span class="nf">name</span><span class="p">,</span> <span class="n">null</span><span class="p">))</span>
     <span class="n">groups</span> <span class="o">=</span> <span class="n">try</span><span class="p">(</span><span class="n">local</span><span class="p">.</span><span class="nf">raw_value</span><span class="p">.</span><span class="nf">groups</span><span class="p">,</span> <span class="p">[])</span>
   <span class="p">}</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <p>
   With the above local value expressions, configuration elsewhere in the module
 can refer to
   <code>
    local.normalized_value
   </code>
   attributes without the need to repeatedly
 check for and handle absent attributes that would otherwise produce errors.
  </p>
  <p>
   We can also use
   <code>
    try
   </code>
   to deal with situations where a value might be provided
 in two different forms, allowing us to normalize to the most general form:
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">variable</span> <span class="s2">"example"</span> <span class="p">{</span>
   <span class="n">type</span> <span class="o">=</span> <span class="n">any</span>
 <span class="p">}</span>
 
 <span class="n">locals</span> <span class="p">{</span>
   <span class="n">example</span> <span class="o">=</span> <span class="n">try</span><span class="p">(</span>
     <span class="p">[</span><span class="n">tostring</span><span class="p">(</span><span class="n">var</span><span class="p">.</span><span class="nf">example</span><span class="p">)],</span>
     <span class="n">tolist</span><span class="p">(</span><span class="n">var</span><span class="p">.</span><span class="nf">example</span><span class="p">),</span>
   <span class="p">)</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <p>
   The above permits
   <code>
    var.example
   </code>
   to be either a list or a single string. If it's
 a single string then it'll be normalized to a single-element list containing
 that string, again allowing expressions elsewhere in the configuration to just
 assume that
   <code>
    local.example
   </code>
   is always a list.
  </p>
  <p>
   This second example contains two expressions that can both potentially fail.
 For example, if
   <code>
    var.example
   </code>
   were set to
   <code>
    {}
   </code>
   then it could be converted to
 neither a string nor a list. If
   <code>
    try
   </code>
   exhausts all of the given expressions
 without any succeeding, it will return an error describing all of the problems
 it encountered.
  </p>
  <p>
   We strongly suggest using
   <code>
    try
   </code>
   only in special local values whose expressions
 perform normalization, so that the error handling is confined to a single
 location in the module and the rest of the module can just use straightforward
 references to the normalized structure and thus be more readable for future
 maintainers.
  </p>
  <p>
   The
   <code>
    try
   </code>
   function can only catch and handle
   <em>
    dynamic
   </em>
   errors resulting from
 access to data that isn't known until runtime. It will not catch errors
 relating to expressions that can be proven to be invalid for any input, such
 as a malformed resource reference.
  </p>
  <div class="alert alert-warning" role="alert">
   <p>
    <strong>
     Warning:
    </strong>
    The
    <code>
     try
    </code>
    function is intended only for concise testing of the
 presence of and types of object attributes. Although it can technically accept
 any sort of expression, we recommend using it only with simple attribute
 references and type conversion functions as shown in the examples above.
 Overuse of
    <code>
     try
    </code>
    to suppress errors will lead to a configuration that is hard
 to understand and maintain.
   </p>
  </div>
  <h2 id="examples">
   <a class="anchor" href="#examples" name="examples">
    »
   </a>
   Examples
  </h2>
  <div class="highlight">
   <pre class="highlight plaintext"><code>&gt; local.foo
 {
   "bar" = "baz"
 }
 &gt; try(local.foo.bar, "fallback")
 baz
 &gt; try(local.foo.boop, "fallback")
 fallback
 </code></pre>
  </div>
  <p>
   The
   <code>
    try
   </code>
   function will
   <em>
    not
   </em>
   catch errors relating to constructs that are
 provably invalid even before dynamic expression evaluation, such as a malformed
 reference or a reference to a top-level object that has not been declared:
  </p>
  <div class="highlight">
   <pre class="highlight plaintext"><code>&gt; try(local.nonexist, "fallback")
 
 Error: Reference to undeclared local value
 
 A local value with the name "nonexist" has not been declared.
 </code></pre>
  </div>
  <h2 id="related-functions">
   <a class="anchor" href="#related-functions" name="related-functions">
    »
   </a>
   Related Functions
  </h2>
  <ul>
   <li>
    <a href="/docs/language/functions/can.html">
     <code>
      can
     </code>
    </a>
    , which tries evaluating an expression and returns a
 boolean value indicating whether it succeeded.
   </li>
  </ul>
 </div>
 
 <!-- ########### Backends : Overview ############### -->
 <!-- ########### https://www.terraform.io/docs/language/settings/index.html ############### --
 ><!-- ########### Backends : Overview ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="terraform-settings">
    <a class="anchor" href="#terraform-settings" name="terraform-settings">
     »
    </a>
    Terraform Settings
   </h1>
   <div id="inner-quicknav">
    <span id="inner-quicknav-trigger">
     Jump to Section
     <svg height="5" width="9" xmlns="http://www.w3.org/2000/svg">
      <path d="M8.811 1.067a.612.612 0 0 0 0-.884.655.655 0 0 0-.908 0L4.5 3.491 1.097.183a.655.655 0 0 0-.909 0 .615.615 0 0 0 0 .884l3.857 3.75a.655.655 0 0 0 .91 0l3.856-3.75z" fill-rule="evenodd">
      </path>
     </svg>
    </span>
    <ul class="dropdown">
     <li class="level-h2">
      <a href="#terraform-block-syntax">
       »
 Terraform Block Syntax
      </a>
     </li>
     <li class="level-h2">
      <a href="#configuring-a-terraform-backend">
       »
 Configuring a Terraform Backend
      </a>
     </li>
     <li class="level-h2">
      <a href="#specifying-a-required-terraform-version">
       »
 Specifying a Required Terraform Version
      </a>
     </li>
     <li class="level-h2">
      <a href="#specifying-provider-requirements">
       »
 Specifying Provider Requirements
      </a>
     </li>
     <li class="level-h2">
      <a href="#experimental-language-features">
       »
 Experimental Language Features
      </a>
     </li>
     <li class="level-h2">
      <a href="#passing-metadata-to-providers">
       »
 Passing Metadata to Providers
      </a>
     </li>
    </ul>
   </div>
  </div>
  <p>
   The special
   <code>
    terraform
   </code>
   configuration block type is used to configure some
 behaviors of Terraform itself, such as requiring a minimum Terraform version to
 apply your configuration.
  </p>
  <h2 id="terraform-block-syntax">
   <a class="anchor" href="#terraform-block-syntax" name="terraform-block-syntax">
    »
   </a>
   Terraform Block Syntax
  </h2>
  <p>
   Terraform settings are gathered together into
   <code>
    terraform
   </code>
   blocks:
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">terraform</span> <span class="p">{</span>
   <span class="c1"># ...</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <p>
   Each
   <code>
    terraform
   </code>
   block can contain a number of settings related to Terraform's
 behavior. Within a
   <code>
    terraform
   </code>
   block, only constant values can be used;
 arguments may not refer to named objects such as resources, input variables,
 etc, and may not use any of the Terraform language built-in functions.
  </p>
  <p>
   The various options supported within a
   <code>
    terraform
   </code>
   block are described in the
 following sections.
  </p>
  <h2 id="configuring-a-terraform-backend">
   <a class="anchor" href="#configuring-a-terraform-backend" name="configuring-a-terraform-backend">
    »
   </a>
   Configuring a Terraform Backend
  </h2>
  <p>
   The nested
   <code>
    backend
   </code>
   block configures which backend Terraform should use.
  </p>
  <p>
   The syntax and behavior of the
   <code>
    backend
   </code>
   block is described in
   <a href="/docs/language/settings/backends/configuration.html">
    Backend
 Configuration
   </a>
   .
  </p>
  <h2 id="specifying-a-required-terraform-version">
   <a class="anchor" href="#specifying-a-required-terraform-version" name="specifying-a-required-terraform-version">
    »
   </a>
   Specifying a Required Terraform Version
  </h2>
  <p>
   The
   <code>
    required_version
   </code>
   setting accepts a
   <a href="/docs/language/expressions/version-constraints.html">
    version constraint
 string,
   </a>
   which specifies which versions of Terraform
 can be used with your configuration.
  </p>
  <p>
   If the running version of Terraform doesn't match the constraints specified,
 Terraform will produce an error and exit without taking any further actions.
  </p>
  <p>
   When you use
   <a href="/docs/language/modules/index.html">
    child modules
   </a>
   , each module can specify its own
 version requirements. The requirements of all modules in the tree must be
 satisfied.
  </p>
  <p>
   Use Terraform version constraints in a collaborative environment to
 ensure that everyone is using a specific Terraform version, or using at least
 a minimum Terraform version that has behavior expected by the configuration.
  </p>
  <p>
   The
   <code>
    required_version
   </code>
   setting applies only to the version of Terraform CLI.
 Terraform's resource types are implemented by provider plugins,
 whose release cycles are independent of Terraform CLI and of each other.
 Use
   <a href="/docs/language/providers/requirements.html">
    the
    <code>
     required_providers
    </code>
    block
   </a>
   to manage
 the expected versions for each provider you use.
  </p>
  <h2 id="specifying-provider-requirements">
   <a class="anchor" href="#specifying-provider-requirements" name="specifying-provider-requirements">
    »
   </a>
   Specifying Provider Requirements
  </h2>
  <p>
   The
   <code>
    required_providers
   </code>
   block specifies all of the providers required by the
 current module, mapping each local provider name to a source address and a
 version constraint.
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">terraform</span> <span class="p">{</span>
   <span class="n">required_providers</span> <span class="p">{</span>
     <span class="n">aws</span> <span class="o">=</span> <span class="p">{</span>
       <span class="n">version</span> <span class="o">=</span> <span class="s2">"&gt;= 2.7.0"</span>
       <span class="n">source</span> <span class="o">=</span> <span class="s2">"hashicorp/aws"</span>
     <span class="p">}</span>
   <span class="p">}</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <p>
   For more information, see
   <a href="/docs/language/providers/requirements.html">
    Provider Requirements
   </a>
   .
  </p>
  <h2 id="experimental-language-features">
   <a class="anchor" href="#experimental-language-features" name="experimental-language-features">
    »
   </a>
   Experimental Language Features
  </h2>
  <p>
   The Terraform team will sometimes introduce new language features initially via
 an opt-in experiment, so that the community can try the new feature and give
 feedback on it prior to it becoming a backward-compatibility constraint.
  </p>
  <p>
   In releases where experimental features are available, you can enable them on
 a per-module basis by setting the
   <code>
    experiments
   </code>
   argument inside a
   <code>
    terraform
   </code>
   block:
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">terraform</span> <span class="p">{</span>
   <span class="n">experiments</span> <span class="o">=</span> <span class="p">[</span><span class="n">example</span><span class="p">]</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <p>
   The above would opt in to an experiment named
   <code>
    example
   </code>
   , assuming such an
 experiment were available in the current Terraform version.
  </p>
  <p>
   Experiments are subject to arbitrary changes in later releases and, depending on
 the outcome of the experiment, may change drastically before final release or
 may not be released in stable form at all. Such breaking changes may appear
 even in minor and patch releases. We do not recommend using experimental
 features in Terraform modules intended for production use.
  </p>
  <p>
   In order to make that explicit and to avoid module callers inadvertently
 depending on an experimental feature, any module with experiments enabled will
 generate a warning on every
   <code>
    terraform plan
   </code>
   or
   <code>
    terraform apply
   </code>
   . If you
 want to try experimental features in a shared module, we recommend enabling the
 experiment only in alpha or beta releases of the module.
  </p>
  <p>
   The introduction and completion of experiments is reported in
   <a href="https://github.com/hashicorp/terraform/blob/master/CHANGELOG.md">
    Terraform's changelog
   </a>
   ,
 so you can watch the release notes there to discover which experiment keywords,
 if any, are available in a particular Terraform release.
  </p>
  <h2 id="passing-metadata-to-providers">
   <a class="anchor" href="#passing-metadata-to-providers" name="passing-metadata-to-providers">
    »
   </a>
   Passing Metadata to Providers
  </h2>
  <p>
   The
   <code>
    terraform
   </code>
   block can have a nested
   <code>
    provider_meta
   </code>
   block for each
 provider a module is using, if the provider defines a schema for it. This
 allows the provider to receive module-specific information, and is primarily
 intended for modules distributed by the same vendor as the associated provider.
  </p>
  <p>
   For more information, see
   <a href="/docs/internals/provider-meta.html">
    Provider Metadata
   </a>
   .
  </p>
 </div>
 
 <!-- ########### Backends : Backend Configuration ############### -->
 <!-- ########### https://www.terraform.io/docs/language/settings/backends/index.html ############### --
 ><!-- ########### Backends : Backend Configuration ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="backends">
    <a class="anchor" href="#backends" name="backends">
     »
    </a>
    Backends
   </h1>
   <div id="inner-quicknav">
    <span id="inner-quicknav-trigger">
     Jump to Section
     <svg height="5" width="9" xmlns="http://www.w3.org/2000/svg">
      <path d="M8.811 1.067a.612.612 0 0 0 0-.884.655.655 0 0 0-.908 0L4.5 3.491 1.097.183a.655.655 0 0 0-.909 0 .615.615 0 0 0 0 .884l3.857 3.75a.655.655 0 0 0 .91 0l3.856-3.75z" fill-rule="evenodd">
      </path>
     </svg>
    </span>
    <ul class="dropdown">
     <li class="level-h2">
      <a href="#recommended-backends">
       »
 Recommended Backends
      </a>
     </li>
     <li class="level-h2">
      <a href="#where-backends-are-used">
       »
 Where Backends are Used
      </a>
     </li>
     <li class="level-h2">
      <a href="#where-backends-come-from">
       »
 Where Backends Come From
      </a>
     </li>
     <li class="level-h2">
      <a href="#what-backends-do">
       »
 What Backends Do
      </a>
     </li>
     <li class="level-h3">
      <a href="#state">
       »
 State
      </a>
     </li>
     <li class="level-h3">
      <a href="#operations">
       »
 Operations
      </a>
     </li>
     <li class="level-h3">
      <a href="#backend-types">
       »
 Backend Types
      </a>
     </li>
    </ul>
   </div>
  </div>
  <p>
   Each Terraform configuration can specify a backend, which defines where
 and how operations are performed, where
   <a href="/docs/language/state/index.html">
    state
   </a>
   snapshots are stored, etc.
  </p>
  <p>
   The rest of this page introduces the concept of backends; the other pages in
 this section document how to configure and use backends.
  </p>
  <ul>
   <li>
    <a href="/docs/language/settings/backends/configuration.html">
     Backend Configuration
    </a>
    documents the form
 of a
    <code>
     backend
    </code>
    block, which selects and configures a backend for a
 Terraform configuration.
   </li>
   <li>
    This section also includes a page for each of Terraform's built-in backends,
 documenting its behavior and available settings. See the navigation sidebar
 for a complete list.
   </li>
  </ul>
  <h2 id="recommended-backends">
   <a class="anchor" href="#recommended-backends" name="recommended-backends">
    »
   </a>
   Recommended Backends
  </h2>
  <ul>
   <li>
    If you are still learning how to use Terraform, we recommend using the default
    <code>
     local
    </code>
    backend, which requires no configuration.
   </li>
   <li>
    If you and your team are using Terraform to manage meaningful infrastructure,
 we recommend using the
    <code>
     remote
    </code>
    backend with
    <a href="/docs/cloud/index.html">
     Terraform Cloud
    </a>
    or
    <a href="/docs/enterprise/index.html">
     Terraform Enterprise
    </a>
    .
   </li>
  </ul>
  <h2 id="where-backends-are-used">
   <a class="anchor" href="#where-backends-are-used" name="where-backends-are-used">
    »
   </a>
   Where Backends are Used
  </h2>
  <p>
   Backend configuration is only used by
   <a href="/docs/cli/index.html">
    Terraform CLI
   </a>
   .
 Terraform Cloud and Terraform Enterprise always use their own state storage when
 performing Terraform runs, so they ignore any backend block in the
 configuration.
  </p>
  <p>
   But since it's common to
   <a href="/docs/cloud/run/cli.html">
    use Terraform CLI alongside Terraform Cloud
   </a>
   (and since certain state operations, like
   <a href="/docs/cli/commands/taint.html">
    tainting
   </a>
   ,
 can only be performed on the CLI), we recommend that Terraform Cloud users
 include a backend block in their configurations and configure the
   <code>
    remote
   </code>
   backend to use the relevant Terraform Cloud workspace(s).
  </p>
  <h2 id="where-backends-come-from">
   <a class="anchor" href="#where-backends-come-from" name="where-backends-come-from">
    »
   </a>
   Where Backends Come From
  </h2>
  <p>
   Terraform includes a built-in selection of backends; this selection has changed
 over time, but does not change very often.
  </p>
  <p>
   The built-in backends are the only backends. You cannot load additional backends
 as plugins.
  </p>
  <h2 id="what-backends-do">
   <a class="anchor" href="#what-backends-do" name="what-backends-do">
    »
   </a>
   What Backends Do
  </h2>
  <p>
   There are two areas of Terraform's behavior that are determined by the backend:
  </p>
  <ul>
   <li>
    Where state is stored.
   </li>
   <li>
    Where operations are performed.
   </li>
  </ul>
  <h3 id="state">
   <a class="anchor" href="#state" name="state">
    »
   </a>
   State
  </h3>
  <p>
   Terraform uses persistent
   <a href="/docs/language/state/index.html">
    state
   </a>
   data to keep track of
 the resources it manages. Since it needs the state in order to know which
 real-world infrastructure objects correspond to the resources in a
 configuration, everyone working with a given collection of infrastructure
 resources must be able to access the same state data.
  </p>
  <p>
   The
   <code>
    local
   </code>
   backend stores state as a local file on disk, but every other
 backend stores state in a remote service of some kind, which allows multiple
 people to access it. Accessing state in a remote service generally requires some
 kind of access credentials, since state data contains extremely sensitive
 information.
  </p>
  <p>
   Some backends act like plain "remote disks" for state files; others support
   <em>
    locking
   </em>
   the state while operations are being performed, which helps prevent
 conflicts and inconsistencies.
  </p>
  <h3 id="operations">
   <a class="anchor" href="#operations" name="operations">
    »
   </a>
   Operations
  </h3>
  <p>
   "Operations" refers to performing API requests against infrastructure services
 in order to create, read, update, or destroy resources. Not every
   <code>
    terraform
   </code>
   subcommand performs API operations; many of them only operate on state data.
  </p>
  <p>
   Only two backends actually perform operations:
   <code>
    local
   </code>
   and
   <code>
    remote
   </code>
   .
  </p>
  <p>
   The
   <code>
    local
   </code>
   backend performs API operations directly from the machine where the
   <code>
    terraform
   </code>
   command is run. Whenever you use a backend other than
   <code>
    local
   </code>
   or
   <code>
    remote
   </code>
   , Terraform uses the
   <code>
    local
   </code>
   backend for operations; it only uses the
 configured backend for state storage.
  </p>
  <p>
   The
   <code>
    remote
   </code>
   backend can perform API operations remotely, using Terraform Cloud
 or Terraform Enterprise. When running remote operations, the local
   <code>
    terraform
   </code>
   command displays the output of the remote actions as though they were being
 performed locally, but only the remote system requires cloud credentials or
 network access to the resources being managed.
  </p>
  <p>
   Remote operations are optional for the
   <code>
    remote
   </code>
   backend; the settings for the
 target Terraform Cloud workspace determine whether operations run remotely or
 locally. If local operations are configured, Terraform uses the
   <code>
    remote
   </code>
   backend
 for state and the
   <code>
    local
   </code>
   backend for operations, like with the other state
 backends.
  </p>
  <h3 id="backend-types">
   <a class="anchor" href="#backend-types" name="backend-types">
    »
   </a>
   Backend Types
  </h3>
  <p>
   Terraform's backends are divided into two main types, according to how they
 handle state and operations:
  </p>
  <ul>
   <li>
    <strong>
     Enhanced
    </strong>
    backends can both store state and perform operations. There are
 only two enhanced backends:
    <code>
     local
    </code>
    and
    <code>
     remote
    </code>
    .
   </li>
   <li>
    <strong>
     Standard
    </strong>
    backends only store state, and rely on the
    <code>
     local
    </code>
    backend for
 performing operations.
   </li>
  </ul>
 </div>
 
 <!-- ########### Enhanced Backends : local ############### -->
 <!-- ########### https://www.terraform.io/docs/language/settings/backends/configuration.html ############### --
 ><!-- ########### Enhanced Backends : local ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="backend-configuration">
    <a class="anchor" href="#backend-configuration" name="backend-configuration">
     »
    </a>
    Backend Configuration
   </h1>
   <div id="inner-quicknav">
    <span id="inner-quicknav-trigger">
     Jump to Section
     <svg height="5" width="9" xmlns="http://www.w3.org/2000/svg">
      <path d="M8.811 1.067a.612.612 0 0 0 0-.884.655.655 0 0 0-.908 0L4.5 3.491 1.097.183a.655.655 0 0 0-.909 0 .615.615 0 0 0 0 .884l3.857 3.75a.655.655 0 0 0 .91 0l3.856-3.75z" fill-rule="evenodd">
      </path>
     </svg>
    </span>
    <ul class="dropdown">
     <li class="level-h2">
      <a href="#using-a-backend-block">
       »
 Using a Backend Block
      </a>
     </li>
     <li class="level-h3">
      <a href="#backend-types">
       »
 Backend Types
      </a>
     </li>
     <li class="level-h3">
      <a href="#default-backend">
       »
 Default Backend
      </a>
     </li>
     <li class="level-h2">
      <a href="#initialization">
       »
 Initialization
      </a>
     </li>
     <li class="level-h2">
      <a href="#partial-configuration">
       »
 Partial Configuration
      </a>
     </li>
     <li class="level-h2">
      <a href="#changing-configuration">
       »
 Changing Configuration
      </a>
     </li>
     <li class="level-h2">
      <a href="#unconfiguring-a-backend">
       »
 Unconfiguring a Backend
      </a>
     </li>
    </ul>
   </div>
  </div>
  <p>
   Each Terraform configuration can specify a backend, which defines exactly where
 and how operations are performed, where
   <a href="/docs/language/state/index.html">
    state
   </a>
   snapshots are stored, etc. Most non-trivial Terraform configurations configure
 a remote backend so that multiple people can work with the same infrastructure.
  </p>
  <h2 id="using-a-backend-block">
   <a class="anchor" href="#using-a-backend-block" name="using-a-backend-block">
    »
   </a>
   Using a Backend Block
  </h2>
  <p>
   Backends are configured with a nested
   <code>
    backend
   </code>
   block within the top-level
   <code>
    terraform
   </code>
   block:
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">terraform</span> <span class="p">{</span>
   <span class="n">backend</span> <span class="s2">"remote"</span> <span class="p">{</span>
     <span class="n">organization</span> <span class="o">=</span> <span class="s2">"example_corp"</span>
 
     <span class="n">workspaces</span> <span class="p">{</span>
       <span class="nb">name</span> <span class="o">=</span> <span class="s2">"my-app-prod"</span>
     <span class="p">}</span>
   <span class="p">}</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <p>
   There are some important limitations on backend configuration:
  </p>
  <ul>
   <li>
    A configuration can only provide one backend block.
   </li>
   <li>
    A backend block cannot refer to named values (like input variables, locals, or data source attributes).
   </li>
  </ul>
  <h3 id="backend-types">
   <a class="anchor" href="#backend-types" name="backend-types">
    »
   </a>
   Backend Types
  </h3>
  <p>
   The block label of the backend block (
   <code>
    "remote"
   </code>
   , in the example above) indicates which backend type to use. Terraform has a built-in selection of backends, and the configured backend must be available in the version of Terraform you are using.
  </p>
  <p>
   The arguments used in the block's body are specific to the chosen backend type; they configure where and how the backend will store the configuration's state, and in some cases configure other behavior.
  </p>
  <p>
   Some backends allow providing access credentials directly as part of the configuration for use in unusual situations, for pragmatic reasons. However, in normal use we
   <em>
    do not
   </em>
   recommend including access credentials as part of the backend configuration. Instead, leave those arguments completely unset and provide credentials via the credentials files or environment variables that are conventional for the target system, as described in the documentation for each backend.
  </p>
  <p>
   See the list of backend types in the navigation sidebar for details about each supported backend type and its configuration arguments.
  </p>
  <h3 id="default-backend">
   <a class="anchor" href="#default-backend" name="default-backend">
    »
   </a>
   Default Backend
  </h3>
  <p>
   If a configuration includes no backend block, Terraform defaults to using the
   <code>
    local
   </code>
   backend, which performs operations on the local system and stores state as a plain file in the current working directory.
  </p>
  <h2 id="initialization">
   <a class="anchor" href="#initialization" name="initialization">
    »
   </a>
   Initialization
  </h2>
  <p>
   Whenever a configuration's backend changes, you must run
   <code>
    terraform init
   </code>
   again
 to validate and configure the backend before you can perform any plans, applies,
 or state operations.
  </p>
  <p>
   When changing backends, Terraform will give you the option to migrate
 your state to the new backend. This lets you adopt backends without losing
 any existing state.
  </p>
  <p>
   To be extra careful, we always recommend manually backing up your state
 as well. You can do this by simply copying your
   <code>
    terraform.tfstate
   </code>
   file
 to another location. The initialization process should create a backup
 as well, but it never hurts to be safe!
  </p>
  <h2 id="partial-configuration">
   <a class="anchor" href="#partial-configuration" name="partial-configuration">
    »
   </a>
   Partial Configuration
  </h2>
  <p>
   You do not need to specify every required argument in the backend configuration.
 Omitting certain arguments may be desirable if some arguments are provided
 automatically by an automation script running Terraform. When some or all of
 the arguments are omitted, we call this a
   <em>
    partial configuration
   </em>
   .
  </p>
  <p>
   With a partial configuration, the remaining configuration arguments must be
 provided as part of
   <a href="/docs/cli/init/index.html">
    the initialization process
   </a>
   .
 There are several ways to supply the remaining arguments:
  </p>
  <ul>
   <li>
    <p>
     <strong>
      File
     </strong>
     : A configuration file may be specified via the
     <code>
      init
     </code>
     command line.
 To specify a file, use the
     <code>
      -backend-config=PATH
     </code>
     option when running
     <code>
      terraform init
     </code>
     . If the file contains secrets it may be kept in
 a secure data store, such as
     <a href="https://www.vaultproject.io/">
      Vault
     </a>
     , in which case it must be downloaded
 to the local disk before running Terraform.
    </p>
   </li>
   <li>
    <p>
     <strong>
      Command-line key/value pairs
     </strong>
     : Key/value pairs can be specified via the
     <code>
      init
     </code>
     command line. Note that many shells retain command-line flags in a
 history file, so this isn't recommended for secrets. To specify a single
 key/value pair, use the
     <code>
      -backend-config="KEY=VALUE"
     </code>
     option when running
     <code>
      terraform init
     </code>
     .
    </p>
   </li>
   <li>
    <p>
     <strong>
      Interactively
     </strong>
     : Terraform will interactively ask you for the required
 values, unless interactive input is disabled. Terraform will not prompt for
 optional values.
    </p>
   </li>
  </ul>
  <p>
   If backend settings are provided in multiple locations, the top-level
 settings are merged such that any command-line options override the settings
 in the main configuration and then the command-line options are processed
 in order, with later options overriding values set by earlier options.
  </p>
  <p>
   The final, merged configuration is stored on disk in the
   <code>
    .terraform
   </code>
   directory, which should be ignored from version control. This means that
 sensitive information can be omitted from version control, but it will be
 present in plain text on local disk when running Terraform.
  </p>
  <p>
   When using partial configuration, Terraform requires at a minimum that
 an empty backend configuration is specified in one of the root Terraform
 configuration files, to specify the backend type. For example:
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">terraform</span> <span class="p">{</span>
   <span class="n">backend</span> <span class="s2">"consul"</span> <span class="p">{}</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <p>
   A backend configuration file has the contents of the
   <code>
    backend
   </code>
   block as
 top-level attributes, without the need to wrap it in another
   <code>
    terraform
   </code>
   or
   <code>
    backend
   </code>
   block:
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">address</span> <span class="o">=</span> <span class="s2">"demo.consul.io"</span>
 <span class="n">path</span>    <span class="o">=</span> <span class="s2">"example_app/terraform_state"</span>
 <span class="n">scheme</span>  <span class="o">=</span> <span class="s2">"https"</span>
 </code></pre>
  </div>
  <p>
   The same settings can alternatively be specified on the command line as
 follows:
  </p>
  <div class="highlight">
   <pre class="highlight plaintext"><code>$ terraform init \
     -backend-config="address=demo.consul.io" \
     -backend-config="path=example_app/terraform_state" \
     -backend-config="scheme=https"
 </code></pre>
  </div>
  <p>
   The Consul backend also requires a Consul access token. Per the recommendation
 above of omitting credentials from the configuration and using other mechanisms,
 the Consul token would be provided by setting either the
   <code>
    CONSUL_HTTP_TOKEN
   </code>
   or
   <code>
    CONSUL_HTTP_AUTH
   </code>
   environment variables. See the documentation of your
 chosen backend to learn how to provide credentials to it outside of its main
 configuration.
  </p>
  <h2 id="changing-configuration">
   <a class="anchor" href="#changing-configuration" name="changing-configuration">
    »
   </a>
   Changing Configuration
  </h2>
  <p>
   You can change your backend configuration at any time. You can change
 both the configuration itself as well as the type of backend (for example
 from "consul" to "s3").
  </p>
  <p>
   Terraform will automatically detect any changes in your configuration
 and request a
   <a href="/docs/cli/init/index.html">
    reinitialization
   </a>
   . As part of
 the reinitialization process, Terraform will ask if you'd like to migrate
 your existing state to the new configuration. This allows you to easily
 switch from one backend to another.
  </p>
  <p>
   If you're using multiple
   <a href="/docs/language/state/workspaces.html">
    workspaces
   </a>
   ,
 Terraform can copy all workspaces to the destination. If Terraform detects
 you have multiple workspaces, it will ask if this is what you want to do.
  </p>
  <p>
   If you're just reconfiguring the same backend, Terraform will still ask if you
 want to migrate your state. You can respond "no" in this scenario.
  </p>
  <h2 id="unconfiguring-a-backend">
   <a class="anchor" href="#unconfiguring-a-backend" name="unconfiguring-a-backend">
    »
   </a>
   Unconfiguring a Backend
  </h2>
  <p>
   If you no longer want to use any backend, you can simply remove the
 configuration from the file. Terraform will detect this like any other
 change and prompt you to
   <a href="/docs/cli/init/index.html">
    reinitialize
   </a>
   .
  </p>
  <p>
   As part of the reinitialization, Terraform will ask if you'd like to migrate
 your state back down to normal local state. Once this is complete then
 Terraform is back to behaving as it does by default.
  </p>
 </div>
 
 <!-- ########### Enhanced Backends : remote ############### -->
 <!-- ########### https://www.terraform.io/docs/language/settings/backends/local.html ############### --
 ><!-- ########### Enhanced Backends : remote ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="local">
    <a class="anchor" href="#local" name="local">
     »
    </a>
    local
   </h1>
   <div id="inner-quicknav">
    <span id="inner-quicknav-trigger">
     Jump to Section
     <svg height="5" width="9" xmlns="http://www.w3.org/2000/svg">
      <path d="M8.811 1.067a.612.612 0 0 0 0-.884.655.655 0 0 0-.908 0L4.5 3.491 1.097.183a.655.655 0 0 0-.909 0 .615.615 0 0 0 0 .884l3.857 3.75a.655.655 0 0 0 .91 0l3.856-3.75z" fill-rule="evenodd">
      </path>
     </svg>
    </span>
    <ul class="dropdown">
     <li class="level-h2">
      <a href="#example-configuration">
       »
 Example Configuration
      </a>
     </li>
     <li class="level-h2">
      <a href="#data-source-configuration">
       »
 Data Source Configuration
      </a>
     </li>
     <li class="level-h2">
      <a href="#configuration-variables">
       »
 Configuration variables
      </a>
     </li>
    </ul>
   </div>
  </div>
  <p>
   <strong>
    Kind: Enhanced
   </strong>
  </p>
  <p>
   The local backend stores state on the local filesystem, locks that
 state using system APIs, and performs operations locally.
  </p>
  <h2 id="example-configuration">
   <a class="anchor" href="#example-configuration" name="example-configuration">
    »
   </a>
   Example Configuration
  </h2>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">terraform</span> <span class="p">{</span>
   <span class="n">backend</span> <span class="s2">"local"</span> <span class="p">{</span>
     <span class="n">path</span> <span class="o">=</span> <span class="s2">"relative/path/to/terraform.tfstate"</span>
   <span class="p">}</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <h2 id="data-source-configuration">
   <a class="anchor" href="#data-source-configuration" name="data-source-configuration">
    »
   </a>
   Data Source Configuration
  </h2>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">data</span> <span class="s2">"terraform_remote_state"</span> <span class="s2">"foo"</span> <span class="p">{</span>
   <span class="n">backend</span> <span class="o">=</span> <span class="s2">"local"</span>
 
   <span class="n">config</span> <span class="o">=</span> <span class="p">{</span>
     <span class="n">path</span> <span class="o">=</span> <span class="s2">"${path.module}/../../terraform.tfstate"</span>
   <span class="p">}</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <h2 id="configuration-variables">
   <a class="anchor" href="#configuration-variables" name="configuration-variables">
    »
   </a>
   Configuration variables
  </h2>
  <p>
   The following configuration options are supported:
  </p>
  <ul>
   <li>
    <a name="path">
    </a>
    <a href="#path">
     <code>
      path
     </code>
    </a>
    - (Optional) The path to the
    <code>
     tfstate
    </code>
    file. This defaults to
 "terraform.tfstate" relative to the root module by default.
   </li>
   <li>
    <a name="workspace_dir">
    </a>
    <a href="#workspace_dir">
     <code>
      workspace_dir
     </code>
    </a>
    - (Optional) The path to non-default workspaces.
   </li>
  </ul>
 </div>
 
 <!-- ########### Standard Backends : artifactory ############### -->
 <!-- ########### https://www.terraform.io/docs/language/settings/backends/remote.html ############### --
 ><!-- ########### Standard Backends : artifactory ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="remote">
    <a class="anchor" href="#remote" name="remote">
     »
    </a>
    remote
   </h1>
   <div id="inner-quicknav">
    <span id="inner-quicknav-trigger">
     Jump to Section
     <svg height="5" width="9" xmlns="http://www.w3.org/2000/svg">
      <path d="M8.811 1.067a.612.612 0 0 0 0-.884.655.655 0 0 0-.908 0L4.5 3.491 1.097.183a.655.655 0 0 0-.909 0 .615.615 0 0 0 0 .884l3.857 3.75a.655.655 0 0 0 .91 0l3.856-3.75z" fill-rule="evenodd">
      </path>
     </svg>
    </span>
    <ul class="dropdown">
     <li class="level-h2">
      <a href="#command-support">
       »
 Command Support
      </a>
     </li>
     <li class="level-h2">
      <a href="#workspaces">
       »
 Workspaces
      </a>
     </li>
     <li class="level-h2">
      <a href="#example-configurations">
       »
 Example Configurations
      </a>
     </li>
     <li class="level-h3">
      <a href="#basic-configuration">
       »
 Basic Configuration
      </a>
     </li>
     <li class="level-h3">
      <a href="#using-cli-input">
       »
 Using CLI Input
      </a>
     </li>
     <li class="level-h3">
      <a href="#data-source-configuration">
       »
 Data Source Configuration
      </a>
     </li>
     <li class="level-h2">
      <a href="#configuration-variables">
       »
 Configuration variables
      </a>
     </li>
     <li class="level-h2">
      <a href="#excluding-files-from-upload-with-terraformignore">
       »
 Excluding Files from Upload with .terraformignore
      </a>
     </li>
    </ul>
   </div>
  </div>
  <p>
   <strong>
    Kind: Enhanced
   </strong>
  </p>
  <div class="alert alert-info" role="alert">
   <p>
    <strong>
     Note:
    </strong>
    We recommend using Terraform v0.11.13 or newer with this
 backend. This backend requires either a Terraform Cloud account on
    <a href="https://app.terraform.io">
     app.terraform.io
    </a>
    or a Terraform Enterprise instance
 (version v201809-1 or newer).
   </p>
  </div>
  <p>
   The remote backend stores Terraform state and may be used to run operations in Terraform Cloud.
  </p>
  <p>
   When using full remote operations, operations like
   <code>
    terraform plan
   </code>
   or
   <code>
    terraform apply
   </code>
   can be executed in Terraform
 Cloud's run environment, with log output streaming to the local terminal. Remote plans and applies use variable values from the associated Terraform Cloud workspace.
  </p>
  <p>
   Terraform Cloud can also be used with local operations, in which case only state is stored in the Terraform Cloud backend.
  </p>
  <h2 id="command-support">
   <a class="anchor" href="#command-support" name="command-support">
    »
   </a>
   Command Support
  </h2>
  <p>
   Currently the remote backend supports the following Terraform commands:
  </p>
  <ul>
   <li>
    <a name="apply">
    </a>
    <a href="#apply">
     <code>
      apply
     </code>
    </a>
   </li>
   <li>
    <a name="console">
    </a>
    <a href="#console">
     <code>
      console
     </code>
    </a>
    (supported in Terraform &gt;= v0.11.12)
   </li>
   <li>
    <a name="destroy">
    </a>
    <a href="#destroy">
     <code>
      destroy
     </code>
    </a>
    (requires manually setting
    <code>
     CONFIRM_DESTROY=1
    </code>
    on the workspace)
   </li>
   <li>
    <a name="fmt">
    </a>
    <a href="#fmt">
     <code>
      fmt
     </code>
    </a>
   </li>
   <li>
    <a name="get">
    </a>
    <a href="#get">
     <code>
      get
     </code>
    </a>
   </li>
   <li>
    <a name="graph">
    </a>
    <a href="#graph">
     <code>
      graph
     </code>
    </a>
    (supported in Terraform &gt;= v0.11.12)
   </li>
   <li>
    <a name="import">
    </a>
    <a href="#import">
     <code>
      import
     </code>
    </a>
    (supported in Terraform &gt;= v0.11.12)
   </li>
   <li>
    <a name="init">
    </a>
    <a href="#init">
     <code>
      init
     </code>
    </a>
   </li>
   <li>
    <a name="output">
    </a>
    <a href="#output">
     <code>
      output
     </code>
    </a>
   </li>
   <li>
    <a name="plan">
    </a>
    <a href="#plan">
     <code>
      plan
     </code>
    </a>
   </li>
   <li>
    <a name="providers">
    </a>
    <a href="#providers">
     <code>
      providers
     </code>
    </a>
   </li>
   <li>
    <a name="show">
    </a>
    <a href="#show">
     <code>
      show
     </code>
    </a>
   </li>
   <li>
    <a name="state">
    </a>
    <a href="#state">
     <code>
      state
     </code>
    </a>
    (supports all sub-commands: list, mv, pull, push, rm, show)
   </li>
   <li>
    <a name="taint">
    </a>
    <a href="#taint">
     <code>
      taint
     </code>
    </a>
   </li>
   <li>
    <a name="untaint">
    </a>
    <a href="#untaint">
     <code>
      untaint
     </code>
    </a>
   </li>
   <li>
    <a name="validate">
    </a>
    <a href="#validate">
     <code>
      validate
     </code>
    </a>
   </li>
   <li>
    <a name="version">
    </a>
    <a href="#version">
     <code>
      version
     </code>
    </a>
   </li>
   <li>
    <a name="workspace">
    </a>
    <a href="#workspace">
     <code>
      workspace
     </code>
    </a>
   </li>
  </ul>
  <h2 id="workspaces">
   <a class="anchor" href="#workspaces" name="workspaces">
    »
   </a>
   Workspaces
  </h2>
  <p>
   The remote backend can work with either a single remote Terraform Cloud workspace,
 or with multiple similarly-named remote workspaces (like
   <code>
    networking-dev
   </code>
   and
   <code>
    networking-prod
   </code>
   ). The
   <code>
    workspaces
   </code>
   block of the backend configuration
 determines which mode it uses:
  </p>
  <ul>
   <li>
    <p>
     To use a single remote Terraform Cloud workspace, set
     <code>
      workspaces.name
     </code>
     to the
 remote workspace's full name (like
     <code>
      networking
     </code>
     ).
    </p>
   </li>
   <li>
    <p>
     To use multiple remote workspaces, set
     <code>
      workspaces.prefix
     </code>
     to a prefix used in
 all of the desired remote workspace names. For example, set
     <code>
      prefix = "networking-"
     </code>
     to use Terraform cloud workspaces with
 names like
     <code>
      networking-dev
     </code>
     and
     <code>
      networking-prod
     </code>
     . This is helpful when
 mapping multiple Terraform CLI
     <a href="/docs/language/state/workspaces.html">
      workspaces
     </a>
     used in a single Terraform configuration to multiple Terraform Cloud
 workspaces.
    </p>
   </li>
  </ul>
  <p>
   When interacting with workspaces on the command line, Terraform uses
 shortened names without the common prefix. For example, if
   <code>
    prefix = "networking-"
   </code>
   , use
   <code>
    terraform workspace select prod
   </code>
   to switch to
 the Terraform CLI workspace
   <code>
    prod
   </code>
   within the current configuration. Remote
 Terraform operations such as
   <code>
    plan
   </code>
   and
   <code>
    apply
   </code>
   executed against that Terraform
 CLI workspace will be executed in the Terraform Cloud workspace
   <code>
    networking-prod
   </code>
   .
  </p>
  <p>
   Additionally, the
   <a href="/docs/language/state/workspaces.html#current-workspace-interpolation">
    <code>
     ${terraform.workspace}
    </code>
   </a>
   interpolation sequence should be removed from Terraform configurations that run
 remote operations against Terraform Cloud workspaces. The reason for this is that
 each Terraform Cloud workspace currently only uses the single
   <code>
    default
   </code>
   Terraform
 CLI workspace internally. In other words, if your Terraform configuration
 used
   <code>
    ${terraform.workspace}
   </code>
   to return
   <code>
    dev
   </code>
   or
   <code>
    prod
   </code>
   , remote runs in Terraform Cloud
 would always evaluate it as
   <code>
    default
   </code>
   regardless of
 which workspace you had set with the
   <code>
    terraform workspace select
   </code>
   command. That
 would most likely not be what you wanted. (It is ok to use
   <code>
    ${terraform.workspace}
   </code>
   in local operations.)
  </p>
  <p>
   The backend configuration requires either
   <code>
    name
   </code>
   or
   <code>
    prefix
   </code>
   . Omitting both or
 setting both results in a configuration error.
  </p>
  <p>
   If previous state is present when you run
   <code>
    terraform init
   </code>
   and the corresponding
 remote workspaces are empty or absent, Terraform will create workspaces and/or
 update the remote state accordingly. However, if your workspace needs variables
 set or requires a specific version of Terraform for remote operations, we
 recommend that you create your remote workspaces on Terraform Cloud before
 running any remote operations against them.
  </p>
  <h2 id="example-configurations">
   <a class="anchor" href="#example-configurations" name="example-configurations">
    »
   </a>
   Example Configurations
  </h2>
  <div class="alert alert-info" role="alert">
   <p>
    <strong>
     Note:
    </strong>
    We recommend omitting the token from the configuration, and instead using
    <a href="/docs/cli/commands/login.html">
     <code>
      terraform login
     </code>
    </a>
    or manually configuring
    <code>
     credentials
    </code>
    in the
    <a href="/docs/cli/config/config-file.html#credentials">
     CLI config file
    </a>
    .
   </p>
  </div>
  <h3 id="basic-configuration">
   <a class="anchor" href="#basic-configuration" name="basic-configuration">
    »
   </a>
   Basic Configuration
  </h3>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="c1"># Using a single workspace:</span>
 <span class="n">terraform</span> <span class="p">{</span>
   <span class="n">backend</span> <span class="s2">"remote"</span> <span class="p">{</span>
     <span class="n">hostname</span> <span class="o">=</span> <span class="s2">"app.terraform.io"</span>
     <span class="n">organization</span> <span class="o">=</span> <span class="s2">"company"</span>
 
     <span class="n">workspaces</span> <span class="p">{</span>
       <span class="nb">name</span> <span class="o">=</span> <span class="s2">"my-app-prod"</span>
     <span class="p">}</span>
   <span class="p">}</span>
 <span class="p">}</span>
 
 <span class="c1"># Using multiple workspaces:</span>
 <span class="n">terraform</span> <span class="p">{</span>
   <span class="n">backend</span> <span class="s2">"remote"</span> <span class="p">{</span>
     <span class="n">hostname</span> <span class="o">=</span> <span class="s2">"app.terraform.io"</span>
     <span class="n">organization</span> <span class="o">=</span> <span class="s2">"company"</span>
 
     <span class="n">workspaces</span> <span class="p">{</span>
       <span class="n">prefix</span> <span class="o">=</span> <span class="s2">"my-app-"</span>
     <span class="p">}</span>
   <span class="p">}</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <h3 id="using-cli-input">
   <a class="anchor" href="#using-cli-input" name="using-cli-input">
    »
   </a>
   Using CLI Input
  </h3>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="c1"># main.tf</span>
 <span class="n">terraform</span> <span class="p">{</span>
   <span class="n">required_version</span> <span class="o">=</span> <span class="s2">"~&gt; 0.12.0"</span>
 
   <span class="n">backend</span> <span class="s2">"remote"</span> <span class="p">{}</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <p>
   Backend configuration file:
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="c1"># backend.hcl</span>
 <span class="n">workspaces</span> <span class="p">{</span> <span class="nb">name</span> <span class="o">=</span> <span class="s2">"workspace"</span> <span class="p">}</span>
 <span class="n">hostname</span>     <span class="o">=</span> <span class="s2">"app.terraform.io"</span>
 <span class="n">organization</span> <span class="o">=</span> <span class="s2">"company"</span>
 </code></pre>
  </div>
  <p>
   Running
   <code>
    terraform init
   </code>
   with the backend file:
  </p>
  <div class="highlight">
   <pre class="highlight shell"><code>terraform init <span class="nt">-backend-config</span><span class="o">=</span>backend.hcl
 </code></pre>
  </div>
  <h3 id="data-source-configuration">
   <a class="anchor" href="#data-source-configuration" name="data-source-configuration">
    »
   </a>
   Data Source Configuration
  </h3>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">data</span> <span class="s2">"terraform_remote_state"</span> <span class="s2">"foo"</span> <span class="p">{</span>
   <span class="n">backend</span> <span class="o">=</span> <span class="s2">"remote"</span>
 
   <span class="n">config</span> <span class="o">=</span> <span class="p">{</span>
     <span class="n">organization</span> <span class="o">=</span> <span class="s2">"company"</span>
 
     <span class="n">workspaces</span> <span class="o">=</span> <span class="p">{</span>
       <span class="nb">name</span> <span class="o">=</span> <span class="s2">"workspace"</span>
     <span class="p">}</span>
   <span class="p">}</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <h2 id="configuration-variables">
   <a class="anchor" href="#configuration-variables" name="configuration-variables">
    »
   </a>
   Configuration variables
  </h2>
  <p>
   The following configuration options are supported:
  </p>
  <ul>
   <li>
    <a name="hostname">
    </a>
    <a href="#hostname">
     <code>
      hostname
     </code>
    </a>
    - (Optional) The remote backend hostname to connect to. Defaults
 to app.terraform.io.
   </li>
   <li>
    <a name="organization">
    </a>
    <a href="#organization">
     <code>
      organization
     </code>
    </a>
    - (Required) The name of the organization containing the
 targeted workspace(s).
   </li>
   <li>
    <a name="token">
    </a>
    <a href="#token">
     <code>
      token
     </code>
    </a>
    - (Optional) The token used to authenticate with the remote backend.
 We recommend omitting the token from the configuration, and instead using
    <a href="/docs/cli/commands/login.html">
     <code>
      terraform login
     </code>
    </a>
    or manually configuring
    <code>
     credentials
    </code>
    in the
    <a href="/docs/cli/config/config-file.html#credentials">
     CLI config file
    </a>
    .
   </li>
   <li>
    <p>
     <a name="workspaces-1">
     </a>
     <a href="#workspaces-1">
      <code>
       workspaces
      </code>
     </a>
     - (Required) A block specifying which remote workspace(s) to use.
 The
     <code>
      workspaces
     </code>
     block supports the following keys:
    </p>
    <ul>
     <li>
      <a name="name">
      </a>
      <a href="#name">
       <code>
        name
       </code>
      </a>
      - (Optional) The full name of one remote workspace. When configured,
 only the default workspace can be used. This option conflicts with
      <code>
       prefix
      </code>
      .
     </li>
     <li>
      <a name="prefix">
      </a>
      <a href="#prefix">
       <code>
        prefix
       </code>
      </a>
      - (Optional) A prefix used in the names of one or more remote
 workspaces, all of which can be used with this configuration. The full
 workspace names are used in Terraform Cloud, and the short names
 (minus the prefix) are used on the command line for Terraform CLI workspaces.
 If omitted, only the default workspace can be used. This option conflicts with
      <code>
       name
      </code>
      .
     </li>
    </ul>
   </li>
  </ul>
  <div class="alert alert-info" role="alert">
   <p>
    <strong>
     Note:
    </strong>
    You must use the
    <code>
     name
    </code>
    key when configuring a
    <code>
     terraform_remote_state
    </code>
    data source that retrieves state from another Terraform Cloud workspace. The
    <code>
     prefix
    </code>
    key is only
 intended for use when configuring an instance of the remote backend.
   </p>
  </div>
  <h2 id="excluding-files-from-upload-with-terraformignore">
   <a class="anchor" href="#excluding-files-from-upload-with-terraformignore" name="excluding-files-from-upload-with-terraformignore">
    »
   </a>
   Excluding Files from Upload with .terraformignore
  </h2>
  <div class="alert alert-info" role="alert">
   <p>
    <strong>
     Version note:
    </strong>
    <code>
     .terraformignore
    </code>
    support was added in Terraform 0.12.11.
   </p>
  </div>
  <p>
   When executing a remote
   <code>
    plan
   </code>
   or
   <code>
    apply
   </code>
   in a
   <a href="/docs/cloud/run/cli.html">
    CLI-driven run
   </a>
   ,
 an archive of your configuration directory is uploaded to Terraform Cloud. You can define
 paths to ignore from upload via a
   <code>
    .terraformignore
   </code>
   file at the root of your configuration directory. If this file is not present, the archive will exclude the following by default:
  </p>
  <ul>
   <li>
    .git/ directories
   </li>
   <li>
    .terraform/ directories (exclusive of .terraform/modules)
   </li>
  </ul>
  <p>
   The
   <code>
    .terraformignore
   </code>
   file can include rules as one would include in a
   <a href="https://git-scm.com/book/en/v2/Git-Basics-Recording-Changes-to-the-Repository#Ignoring-Files">
    .gitignore file
   </a>
  </p>
  <ul>
   <li>
    Comments (starting with
    <code>
     #
    </code>
    ) or blank lines are ignored
   </li>
   <li>
    End a pattern with a forward slash / to specify a directory
   </li>
   <li>
    Negate a pattern by starting it with an exclamation point
    <code>
     !
    </code>
   </li>
  </ul>
  <p>
   Note that unlike
   <code>
    .gitignore
   </code>
   , only the
   <code>
    .terraformignore
   </code>
   at the root of the configuration
 directory is considered.
  </p>
 </div>
 
 <!-- ########### Standard Backends : azurerm ############### -->
 <!-- ########### https://www.terraform.io/docs/language/settings/backends/artifactory.html ############### --
 ><!-- ########### Standard Backends : azurerm ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="artifactory">
    <a class="anchor" href="#artifactory" name="artifactory">
     »
    </a>
    artifactory
   </h1>
   <div id="inner-quicknav">
    <span id="inner-quicknav-trigger">
     Jump to Section
     <svg height="5" width="9" xmlns="http://www.w3.org/2000/svg">
      <path d="M8.811 1.067a.612.612 0 0 0 0-.884.655.655 0 0 0-.908 0L4.5 3.491 1.097.183a.655.655 0 0 0-.909 0 .615.615 0 0 0 0 .884l3.857 3.75a.655.655 0 0 0 .91 0l3.856-3.75z" fill-rule="evenodd">
      </path>
     </svg>
    </span>
    <ul class="dropdown">
     <li class="level-h2">
      <a href="#example-configuration">
       »
 Example Configuration
      </a>
     </li>
     <li class="level-h2">
      <a href="#data-source-configuration">
       »
 Data Source Configuration
      </a>
     </li>
     <li class="level-h2">
      <a href="#configuration-variables">
       »
 Configuration variables
      </a>
     </li>
    </ul>
   </div>
  </div>
  <p>
   <strong>
    Kind: Standard (with no locking)
   </strong>
  </p>
  <p>
   Stores the state as an artifact in a given repository in
   <a href="https://www.jfrog.com/artifactory/">
    Artifactory
   </a>
   .
  </p>
  <p>
   Generic HTTP repositories are supported, and state from different
 configurations may be kept at different subpaths within the repository.
  </p>
  <div class="alert alert-info" role="alert">
   <p>
    <strong>
     Note:
    </strong>
    The URL must include the path to the Artifactory installation.
 It will likely end in
    <code>
     /artifactory
    </code>
    .
   </p>
  </div>
  <h2 id="example-configuration">
   <a class="anchor" href="#example-configuration" name="example-configuration">
    »
   </a>
   Example Configuration
  </h2>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">terraform</span> <span class="p">{</span>
   <span class="n">backend</span> <span class="s2">"artifactory"</span> <span class="p">{</span>
     <span class="n">username</span> <span class="o">=</span> <span class="s2">"SheldonCooper"</span>
     <span class="n">password</span> <span class="o">=</span> <span class="s2">"AmyFarrahFowler"</span>
     <span class="n">url</span>      <span class="o">=</span> <span class="s2">"https://custom.artifactoryonline.com/artifactory"</span>
     <span class="n">repo</span>     <span class="o">=</span> <span class="s2">"foo"</span>
     <span class="n">subpath</span>  <span class="o">=</span> <span class="s2">"terraform-bar"</span>
   <span class="p">}</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <h2 id="data-source-configuration">
   <a class="anchor" href="#data-source-configuration" name="data-source-configuration">
    »
   </a>
   Data Source Configuration
  </h2>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">data</span> <span class="s2">"terraform_remote_state"</span> <span class="s2">"foo"</span> <span class="p">{</span>
   <span class="n">backend</span> <span class="o">=</span> <span class="s2">"artifactory"</span>
   <span class="n">config</span> <span class="o">=</span> <span class="p">{</span>
     <span class="n">username</span> <span class="o">=</span> <span class="s2">"SheldonCooper"</span>
     <span class="n">password</span> <span class="o">=</span> <span class="s2">"AmyFarrahFowler"</span>
     <span class="n">url</span>      <span class="o">=</span> <span class="s2">"https://custom.artifactoryonline.com/artifactory"</span>
     <span class="n">repo</span>     <span class="o">=</span> <span class="s2">"foo"</span>
     <span class="n">subpath</span>  <span class="o">=</span> <span class="s2">"terraform-bar"</span>
   <span class="p">}</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <h2 id="configuration-variables">
   <a class="anchor" href="#configuration-variables" name="configuration-variables">
    »
   </a>
   Configuration variables
  </h2>
  <p>
   The following configuration options / environment variables are supported:
  </p>
  <ul>
   <li>
    <a name="username">
    </a>
    <a href="#username">
     <code>
      username
     </code>
    </a>
    /
    <code>
     ARTIFACTORY_USERNAME
    </code>
    (Required) - The username
   </li>
   <li>
    <a name="password">
    </a>
    <a href="#password">
     <code>
      password
     </code>
    </a>
    /
    <code>
     ARTIFACTORY_PASSWORD
    </code>
    (Required) - The password
   </li>
   <li>
    <a name="url">
    </a>
    <a href="#url">
     <code>
      url
     </code>
    </a>
    /
    <code>
     ARTIFACTORY_URL
    </code>
    (Required) - The URL. Note that this is the base url to artifactory not the full repo and subpath.
   </li>
   <li>
    <a name="repo">
    </a>
    <a href="#repo">
     <code>
      repo
     </code>
    </a>
    (Required) - The repository name
   </li>
   <li>
    <a name="subpath">
    </a>
    <a href="#subpath">
     <code>
      subpath
     </code>
    </a>
    (Required) - Path within the repository
   </li>
  </ul>
 </div>
 
 <!-- ########### Standard Backends : consul ############### -->
 <!-- ########### https://www.terraform.io/docs/language/settings/backends/azurerm.html ############### --
 ><!-- ########### Standard Backends : consul ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="azurerm">
    <a class="anchor" href="#azurerm" name="azurerm">
     »
    </a>
    azurerm
   </h1>
   <div id="inner-quicknav">
    <span id="inner-quicknav-trigger">
     Jump to Section
     <svg height="5" width="9" xmlns="http://www.w3.org/2000/svg">
      <path d="M8.811 1.067a.612.612 0 0 0 0-.884.655.655 0 0 0-.908 0L4.5 3.491 1.097.183a.655.655 0 0 0-.909 0 .615.615 0 0 0 0 .884l3.857 3.75a.655.655 0 0 0 .91 0l3.856-3.75z" fill-rule="evenodd">
      </path>
     </svg>
    </span>
    <ul class="dropdown">
     <li class="level-h2">
      <a href="#example-configuration">
       »
 Example Configuration
      </a>
     </li>
     <li class="level-h2">
      <a href="#data-source-configuration">
       »
 Data Source Configuration
      </a>
     </li>
     <li class="level-h2">
      <a href="#configuration-variables">
       »
 Configuration variables
      </a>
     </li>
    </ul>
   </div>
  </div>
  <p>
   <strong>
    Kind: Standard (with state locking)
   </strong>
  </p>
  <p>
   Stores the state as a Blob with the given Key within the Blob Container within
   <a href="https://docs.microsoft.com/azure/storage/common/storage-introduction">
    the Blob Storage Account
   </a>
   . This backend also supports state locking and consistency checking via native capabilities of Azure Blob Storage.
  </p>
  <h2 id="example-configuration">
   <a class="anchor" href="#example-configuration" name="example-configuration">
    »
   </a>
   Example Configuration
  </h2>
  <p>
   When authenticating using the Azure CLI or a Service Principal (either with a Client Certificate or a Client Secret):
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">terraform</span> <span class="p">{</span>
   <span class="n">backend</span> <span class="s2">"azurerm"</span> <span class="p">{</span>
     <span class="n">resource_group_name</span>  <span class="o">=</span> <span class="s2">"StorageAccount-ResourceGroup"</span>
     <span class="n">storage_account_name</span> <span class="o">=</span> <span class="s2">"abcd1234"</span>
     <span class="n">container_name</span>       <span class="o">=</span> <span class="s2">"tfstate"</span>
     <span class="n">key</span>                  <span class="o">=</span> <span class="s2">"prod.terraform.tfstate"</span>
   <span class="p">}</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <p>
   When authenticating using Managed Service Identity (MSI):
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">terraform</span> <span class="p">{</span>
   <span class="n">backend</span> <span class="s2">"azurerm"</span> <span class="p">{</span>
     <span class="n">storage_account_name</span> <span class="o">=</span> <span class="s2">"abcd1234"</span>
     <span class="n">container_name</span>       <span class="o">=</span> <span class="s2">"tfstate"</span>
     <span class="n">key</span>                  <span class="o">=</span> <span class="s2">"prod.terraform.tfstate"</span>
     <span class="n">use_msi</span>              <span class="o">=</span> <span class="kp">true</span>
     <span class="n">subscription_id</span>      <span class="o">=</span> <span class="s2">"00000000-0000-0000-0000-000000000000"</span>
     <span class="n">tenant_id</span>            <span class="o">=</span> <span class="s2">"00000000-0000-0000-0000-000000000000"</span>
   <span class="p">}</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <p>
   When authenticating using the Access Key associated with the Storage Account:
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">terraform</span> <span class="p">{</span>
   <span class="n">backend</span> <span class="s2">"azurerm"</span> <span class="p">{</span>
     <span class="n">storage_account_name</span> <span class="o">=</span> <span class="s2">"abcd1234"</span>
     <span class="n">container_name</span>       <span class="o">=</span> <span class="s2">"tfstate"</span>
     <span class="n">key</span>                  <span class="o">=</span> <span class="s2">"prod.terraform.tfstate"</span>
 
     <span class="c1"># rather than defining this inline, the Access Key can also be sourced</span>
     <span class="c1"># from an Environment Variable - more information is available below.</span>
     <span class="n">access_key</span> <span class="o">=</span> <span class="s2">"abcdefghijklmnopqrstuvwxyz0123456789..."</span>
   <span class="p">}</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <p>
   When authenticating using a SAS Token associated with the Storage Account:
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">terraform</span> <span class="p">{</span>
   <span class="n">backend</span> <span class="s2">"azurerm"</span> <span class="p">{</span>
     <span class="n">storage_account_name</span> <span class="o">=</span> <span class="s2">"abcd1234"</span>
     <span class="n">container_name</span>       <span class="o">=</span> <span class="s2">"tfstate"</span>
     <span class="n">key</span>                  <span class="o">=</span> <span class="s2">"prod.terraform.tfstate"</span>
 
     <span class="c1"># rather than defining this inline, the SAS Token can also be sourced</span>
     <span class="c1"># from an Environment Variable - more information is available below.</span>
     <span class="n">sas_token</span> <span class="o">=</span> <span class="s2">"abcdefghijklmnopqrstuvwxyz0123456789..."</span>
   <span class="p">}</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <div class="alert alert-info" role="alert">
   <p>
    <strong>
     NOTE:
    </strong>
    When using a Service Principal or an Access Key - we recommend using a
    <a href="/docs/language/settings/backends/configuration.html#partial-configuration">
     Partial Configuration
    </a>
    for the credentials.
   </p>
  </div>
  <h2 id="data-source-configuration">
   <a class="anchor" href="#data-source-configuration" name="data-source-configuration">
    »
   </a>
   Data Source Configuration
  </h2>
  <p>
   When authenticating using a Service Principall (either with a Client Certificate or a Client Secret):
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">data</span> <span class="s2">"terraform_remote_state"</span> <span class="s2">"foo"</span> <span class="p">{</span>
   <span class="n">backend</span> <span class="o">=</span> <span class="s2">"azurerm"</span>
   <span class="n">config</span> <span class="o">=</span> <span class="p">{</span>
     <span class="n">storage_account_name</span> <span class="o">=</span> <span class="s2">"terraform123abc"</span>
     <span class="n">container_name</span>       <span class="o">=</span> <span class="s2">"terraform-state"</span>
     <span class="n">key</span>                  <span class="o">=</span> <span class="s2">"prod.terraform.tfstate"</span>
   <span class="p">}</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <p>
   When authenticating using Managed Service Identity (MSI):
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">data</span> <span class="s2">"terraform_remote_state"</span> <span class="s2">"foo"</span> <span class="p">{</span>
   <span class="n">backend</span> <span class="o">=</span> <span class="s2">"azurerm"</span>
   <span class="n">config</span> <span class="o">=</span> <span class="p">{</span>
     <span class="n">storage_account_name</span> <span class="o">=</span> <span class="s2">"terraform123abc"</span>
     <span class="n">container_name</span>       <span class="o">=</span> <span class="s2">"terraform-state"</span>
     <span class="n">key</span>                  <span class="o">=</span> <span class="s2">"prod.terraform.tfstate"</span>
     <span class="n">use_msi</span>              <span class="o">=</span> <span class="kp">true</span>
     <span class="n">subscription_id</span>  <span class="o">=</span> <span class="s2">"00000000-0000-0000-0000-000000000000"</span>
     <span class="n">tenant_id</span>        <span class="o">=</span> <span class="s2">"00000000-0000-0000-0000-000000000000"</span>
   <span class="p">}</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <p>
   When authenticating using the Access Key associated with the Storage Account:
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">data</span> <span class="s2">"terraform_remote_state"</span> <span class="s2">"foo"</span> <span class="p">{</span>
   <span class="n">backend</span> <span class="o">=</span> <span class="s2">"azurerm"</span>
   <span class="n">config</span> <span class="o">=</span> <span class="p">{</span>
     <span class="n">storage_account_name</span> <span class="o">=</span> <span class="s2">"terraform123abc"</span>
     <span class="n">container_name</span>       <span class="o">=</span> <span class="s2">"terraform-state"</span>
     <span class="n">key</span>                  <span class="o">=</span> <span class="s2">"prod.terraform.tfstate"</span>
 
     <span class="c1"># rather than defining this inline, the Access Key can also be sourced</span>
     <span class="c1"># from an Environment Variable - more information is available below.</span>
     <span class="n">access_key</span> <span class="o">=</span> <span class="s2">"abcdefghijklmnopqrstuvwxyz0123456789..."</span>
   <span class="p">}</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <p>
   When authenticating using a SAS Token associated with the Storage Account:
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">data</span> <span class="s2">"terraform_remote_state"</span> <span class="s2">"foo"</span> <span class="p">{</span>
   <span class="n">backend</span> <span class="o">=</span> <span class="s2">"azurerm"</span>
   <span class="n">config</span> <span class="o">=</span> <span class="p">{</span>
     <span class="n">storage_account_name</span> <span class="o">=</span> <span class="s2">"terraform123abc"</span>
     <span class="n">container_name</span>       <span class="o">=</span> <span class="s2">"terraform-state"</span>
     <span class="n">key</span>                  <span class="o">=</span> <span class="s2">"prod.terraform.tfstate"</span>
 
     <span class="c1"># rather than defining this inline, the SAS Token can also be sourced</span>
     <span class="c1"># from an Environment Variable - more information is available below.</span>
     <span class="n">sas_token</span> <span class="o">=</span> <span class="s2">"abcdefghijklmnopqrstuvwxyz0123456789..."</span>
   <span class="p">}</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <h2 id="configuration-variables">
   <a class="anchor" href="#configuration-variables" name="configuration-variables">
    »
   </a>
   Configuration variables
  </h2>
  <p>
   The following configuration options are supported:
  </p>
  <ul>
   <li>
    <p>
     <a name="storage_account_name">
     </a>
     <a href="#storage_account_name">
      <code>
       storage_account_name
      </code>
     </a>
     - (Required) The Name of
     <a href="https://registry.terraform.io/providers/hashicorp/azurerm/latest/docs/resources/storage_account">
      the Storage Account
     </a>
     .
    </p>
   </li>
   <li>
    <p>
     <a name="container_name">
     </a>
     <a href="#container_name">
      <code>
       container_name
      </code>
     </a>
     - (Required) The Name of
     <a href="https://registry.terraform.io/providers/hashicorp/azurerm/latest/docs/resources/storage_container">
      the Storage Container
     </a>
     within the Storage Account.
    </p>
   </li>
   <li>
    <p>
     <a name="key">
     </a>
     <a href="#key">
      <code>
       key
      </code>
     </a>
     - (Required) The name of the Blob used to retrieve/store Terraform's State file inside the Storage Container.
    </p>
   </li>
   <li>
    <p>
     <a name="environment">
     </a>
     <a href="#environment">
      <code>
       environment
      </code>
     </a>
     - (Optional) The Azure Environment which should be used. This can also be sourced from the
     <code>
      ARM_ENVIRONMENT
     </code>
     environment variable. Possible values are
     <code>
      public
     </code>
     ,
     <code>
      china
     </code>
     ,
     <code>
      german
     </code>
     ,
     <code>
      stack
     </code>
     and
     <code>
      usgovernment
     </code>
     . Defaults to
     <code>
      public
     </code>
     .
    </p>
   </li>
   <li>
    <p>
     <a name="endpoint">
     </a>
     <a href="#endpoint">
      <code>
       endpoint
      </code>
     </a>
     - (Optional) The Custom Endpoint for Azure Resource Manager. This can also be sourced from the
     <code>
      ARM_ENDPOINT
     </code>
     environment variable.
    </p>
   </li>
  </ul>
  <div class="alert alert-warning" role="alert">
   <p>
    <strong>
     NOTE:
    </strong>
    An
    <code>
     endpoint
    </code>
    should only be configured when using Azure Stack.
   </p>
  </div>
  <ul>
   <li>
    <a name="snapshot">
    </a>
    <a href="#snapshot">
     <code>
      snapshot
     </code>
    </a>
    - (Optional) Should the Blob used to store the Terraform Statefile be snapshotted before use? Defaults to
    <code>
     false
    </code>
    . This value can also be sourced from the
    <code>
     ARM_SNAPSHOT
    </code>
    environment variable.
   </li>
  </ul>
  <hr/>
  <p>
   When authenticating using the Managed Service Identity (MSI) - the following fields are also supported:
  </p>
  <ul>
   <li>
    <p>
     <a name="subscription_id">
     </a>
     <a href="#subscription_id">
      <code>
       subscription_id
      </code>
     </a>
     - (Optional) The Subscription ID in which the Storage Account exists. This can also be sourced from the
     <code>
      ARM_SUBSCRIPTION_ID
     </code>
     environment variable.
    </p>
   </li>
   <li>
    <p>
     <a name="tenant_id">
     </a>
     <a href="#tenant_id">
      <code>
       tenant_id
      </code>
     </a>
     - (Optional) The Tenant ID in which the Subscription exists. This can also be sourced from the
     <code>
      ARM_TENANT_ID
     </code>
     environment variable.
    </p>
   </li>
   <li>
    <p>
     <a name="msi_endpoint">
     </a>
     <a href="#msi_endpoint">
      <code>
       msi_endpoint
      </code>
     </a>
     - (Optional) The path to a custom Managed Service Identity endpoint which is automatically determined if not specified. This can also be sourced from the
     <code>
      ARM_MSI_ENDPOINT
     </code>
     environment variable.
    </p>
   </li>
   <li>
    <p>
     <a name="use_msi">
     </a>
     <a href="#use_msi">
      <code>
       use_msi
      </code>
     </a>
     - (Optional) Should Managed Service Identity authentication be used? This can also be sourced from the
     <code>
      ARM_USE_MSI
     </code>
     environment variable.
    </p>
   </li>
  </ul>
  <hr/>
  <p>
   When authenticating using a SAS Token associated with the Storage Account - the following fields are also supported:
  </p>
  <ul>
   <li>
    <a name="sas_token">
    </a>
    <a href="#sas_token">
     <code>
      sas_token
     </code>
    </a>
    - (Optional) The SAS Token used to access the Blob Storage Account. This can also be sourced from the
    <code>
     ARM_SAS_TOKEN
    </code>
    environment variable.
   </li>
  </ul>
  <hr/>
  <p>
   When authenticating using the Storage Account's Access Key - the following fields are also supported:
  </p>
  <ul>
   <li>
    <a name="access_key">
    </a>
    <a href="#access_key">
     <code>
      access_key
     </code>
    </a>
    - (Optional) The Access Key used to access the Blob Storage Account. This can also be sourced from the
    <code>
     ARM_ACCESS_KEY
    </code>
    environment variable.
   </li>
  </ul>
  <hr/>
  <p>
   When authenticating using a Service Principal with a Client Certificate - the following fields are also supported:
  </p>
  <ul>
   <li>
    <p>
     <a name="resource_group_name">
     </a>
     <a href="#resource_group_name">
      <code>
       resource_group_name
      </code>
     </a>
     - (Required) The Name of the Resource Group in which the Storage Account exists.
    </p>
   </li>
   <li>
    <p>
     <a name="client_id">
     </a>
     <a href="#client_id">
      <code>
       client_id
      </code>
     </a>
     - (Optional) The Client ID of the Service Principal. This can also be sourced from the
     <code>
      ARM_CLIENT_ID
     </code>
     environment variable.
    </p>
   </li>
   <li>
    <p>
     <a name="client_certificate_password">
     </a>
     <a href="#client_certificate_password">
      <code>
       client_certificate_password
      </code>
     </a>
     - (Optional) The password associated with the Client Certificate specified in
     <code>
      client_certificate_path
     </code>
     . This can also be sourced from the
     <code>
      ARM_CLIENT_CERTIFICATE_PASSWORD
     </code>
     environment variable.
    </p>
   </li>
   <li>
    <p>
     <a name="client_certificate_path">
     </a>
     <a href="#client_certificate_path">
      <code>
       client_certificate_path
      </code>
     </a>
     - (Optional) The path to the PFX file used as the Client Certificate when authenticating as a Service Principal. This can also be sourced from the
     <code>
      ARM_CLIENT_CERTIFICATE_PATH
     </code>
     environment variable.
    </p>
   </li>
   <li>
    <p>
     <a name="subscription_id-1">
     </a>
     <a href="#subscription_id-1">
      <code>
       subscription_id
      </code>
     </a>
     - (Optional) The Subscription ID in which the Storage Account exists. This can also be sourced from the
     <code>
      ARM_SUBSCRIPTION_ID
     </code>
     environment variable.
    </p>
   </li>
   <li>
    <p>
     <a name="tenant_id-1">
     </a>
     <a href="#tenant_id-1">
      <code>
       tenant_id
      </code>
     </a>
     - (Optional) The Tenant ID in which the Subscription exists. This can also be sourced from the
     <code>
      ARM_TENANT_ID
     </code>
     environment variable.
    </p>
   </li>
  </ul>
  <hr/>
  <p>
   When authenticating using a Service Principal with a Client Secret - the following fields are also supported:
  </p>
  <ul>
   <li>
    <p>
     <a name="resource_group_name-1">
     </a>
     <a href="#resource_group_name-1">
      <code>
       resource_group_name
      </code>
     </a>
     - (Required) The Name of the Resource Group in which the Storage Account exists.
    </p>
   </li>
   <li>
    <p>
     <a name="client_id-1">
     </a>
     <a href="#client_id-1">
      <code>
       client_id
      </code>
     </a>
     - (Optional) The Client ID of the Service Principal. This can also be sourced from the
     <code>
      ARM_CLIENT_ID
     </code>
     environment variable.
    </p>
   </li>
   <li>
    <p>
     <a name="client_secret">
     </a>
     <a href="#client_secret">
      <code>
       client_secret
      </code>
     </a>
     - (Optional) The Client Secret of the Service Principal. This can also be sourced from the
     <code>
      ARM_CLIENT_SECRET
     </code>
     environment variable.
    </p>
   </li>
   <li>
    <p>
     <a name="subscription_id-2">
     </a>
     <a href="#subscription_id-2">
      <code>
       subscription_id
      </code>
     </a>
     - (Optional) The Subscription ID in which the Storage Account exists. This can also be sourced from the
     <code>
      ARM_SUBSCRIPTION_ID
     </code>
     environment variable.
    </p>
   </li>
   <li>
    <p>
     <a name="tenant_id-2">
     </a>
     <a href="#tenant_id-2">
      <code>
       tenant_id
      </code>
     </a>
     - (Optional) The Tenant ID in which the Subscription exists. This can also be sourced from the
     <code>
      ARM_TENANT_ID
     </code>
     environment variable.
    </p>
   </li>
  </ul>
 </div>
 
 <!-- ########### Standard Backends : cos ############### -->
 <!-- ########### https://www.terraform.io/docs/language/settings/backends/consul.html ############### --
 ><!-- ########### Standard Backends : cos ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="consul">
    <a class="anchor" href="#consul" name="consul">
     »
    </a>
    consul
   </h1>
   <div id="inner-quicknav">
    <span id="inner-quicknav-trigger">
     Jump to Section
     <svg height="5" width="9" xmlns="http://www.w3.org/2000/svg">
      <path d="M8.811 1.067a.612.612 0 0 0 0-.884.655.655 0 0 0-.908 0L4.5 3.491 1.097.183a.655.655 0 0 0-.909 0 .615.615 0 0 0 0 .884l3.857 3.75a.655.655 0 0 0 .91 0l3.856-3.75z" fill-rule="evenodd">
      </path>
     </svg>
    </span>
    <ul class="dropdown">
     <li class="level-h2">
      <a href="#example-configuration">
       »
 Example Configuration
      </a>
     </li>
     <li class="level-h2">
      <a href="#data-source-configuration">
       »
 Data Source Configuration
      </a>
     </li>
     <li class="level-h2">
      <a href="#configuration-variables">
       »
 Configuration variables
      </a>
     </li>
    </ul>
   </div>
  </div>
  <p>
   <strong>
    Kind: Standard (with locking)
   </strong>
  </p>
  <p>
   Stores the state in the
   <a href="https://www.consul.io/">
    Consul
   </a>
   KV store at a given path.
  </p>
  <p>
   This backend supports
   <a href="/docs/language/state/locking.html">
    state locking
   </a>
   .
  </p>
  <h2 id="example-configuration">
   <a class="anchor" href="#example-configuration" name="example-configuration">
    »
   </a>
   Example Configuration
  </h2>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">terraform</span> <span class="p">{</span>
   <span class="n">backend</span> <span class="s2">"consul"</span> <span class="p">{</span>
     <span class="n">address</span> <span class="o">=</span> <span class="s2">"consul.example.com"</span>
     <span class="n">scheme</span>  <span class="o">=</span> <span class="s2">"https"</span>
     <span class="n">path</span>    <span class="o">=</span> <span class="s2">"full/path"</span>
   <span class="p">}</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <p>
   Note that for the access credentials we recommend using a
   <a href="/docs/language/settings/backends/configuration.html#partial-configuration">
    partial configuration
   </a>
   .
  </p>
  <h2 id="data-source-configuration">
   <a class="anchor" href="#data-source-configuration" name="data-source-configuration">
    »
   </a>
   Data Source Configuration
  </h2>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">data</span> <span class="s2">"terraform_remote_state"</span> <span class="s2">"foo"</span> <span class="p">{</span>
   <span class="n">backend</span> <span class="o">=</span> <span class="s2">"consul"</span>
   <span class="n">config</span> <span class="o">=</span> <span class="p">{</span>
     <span class="n">path</span> <span class="o">=</span> <span class="s2">"full/path"</span>
   <span class="p">}</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <h2 id="configuration-variables">
   <a class="anchor" href="#configuration-variables" name="configuration-variables">
    »
   </a>
   Configuration variables
  </h2>
  <p>
   The following configuration options / environment variables are supported:
  </p>
  <ul>
   <li>
    <a name="path">
    </a>
    <a href="#path">
     <code>
      path
     </code>
    </a>
    - (Required) Path in the Consul KV store
   </li>
   <li>
    <a name="access_token">
    </a>
    <a href="#access_token">
     <code>
      access_token
     </code>
    </a>
    /
    <code>
     CONSUL_HTTP_TOKEN
    </code>
    - (Required) Access token
   </li>
   <li>
    <a name="address">
    </a>
    <a href="#address">
     <code>
      address
     </code>
    </a>
    /
    <code>
     CONSUL_HTTP_ADDR
    </code>
    - (Optional) DNS name and port of your Consul endpoint specified in the
 format
    <code>
     dnsname:port
    </code>
    . Defaults to the local agent HTTP listener.
   </li>
   <li>
    <a name="scheme">
    </a>
    <a href="#scheme">
     <code>
      scheme
     </code>
    </a>
    - (Optional) Specifies what protocol to use when talking to the given
    <code>
     address
    </code>
    , either
    <code>
     http
    </code>
    or
    <code>
     https
    </code>
    . SSL support can also be triggered
 by setting then environment variable
    <code>
     CONSUL_HTTP_SSL
    </code>
    to
    <code>
     true
    </code>
    .
   </li>
   <li>
    <a name="datacenter">
    </a>
    <a href="#datacenter">
     <code>
      datacenter
     </code>
    </a>
    - (Optional) The datacenter to use. Defaults to that of the agent.
   </li>
   <li>
    <a name="http_auth">
    </a>
    <a href="#http_auth">
     <code>
      http_auth
     </code>
    </a>
    /
    <code>
     CONSUL_HTTP_AUTH
    </code>
    - (Optional) HTTP Basic Authentication credentials to be used when
 communicating with Consul, in the format of either
    <code>
     user
    </code>
    or
    <code>
     user:pass
    </code>
    .
   </li>
   <li>
    <a name="gzip">
    </a>
    <a href="#gzip">
     <code>
      gzip
     </code>
    </a>
    - (Optional)
    <code>
     true
    </code>
    to compress the state data using gzip, or
    <code>
     false
    </code>
    (the default) to leave it uncompressed.
   </li>
   <li>
    <a name="lock">
    </a>
    <a href="#lock">
     <code>
      lock
     </code>
    </a>
    - (Optional)
    <code>
     false
    </code>
    to disable locking. This defaults to true, but will require session permissions with Consul and at least kv write permissions on
    <code>
     $path/.lock
    </code>
    to perform locking.
   </li>
   <li>
    <a name="ca_file">
    </a>
    <a href="#ca_file">
     <code>
      ca_file
     </code>
    </a>
    /
    <code>
     CONSUL_CACERT
    </code>
    - (Optional) A path to a PEM-encoded certificate authority used to verify the remote agent's certificate.
   </li>
   <li>
    <a name="cert_file">
    </a>
    <a href="#cert_file">
     <code>
      cert_file
     </code>
    </a>
    /
    <code>
     CONSUL_CLIENT_CERT
    </code>
    - (Optional) A path to a PEM-encoded certificate provided to the remote agent; requires use of
    <code>
     key_file
    </code>
    .
   </li>
   <li>
    <a name="key_file">
    </a>
    <a href="#key_file">
     <code>
      key_file
     </code>
    </a>
    /
    <code>
     CONSUL_CLIENT_KEY
    </code>
    - (Optional) A path to a PEM-encoded private key, required if
    <code>
     cert_file
    </code>
    is specified.
   </li>
  </ul>
 </div>
 
 <!-- ########### Standard Backends : etcd ############### -->
 <!-- ########### https://www.terraform.io/docs/language/settings/backends/cos.html ############### --
 ><!-- ########### Standard Backends : etcd ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="cos">
    <a class="anchor" href="#cos" name="cos">
     »
    </a>
    COS
   </h1>
   <div id="inner-quicknav">
    <span id="inner-quicknav-trigger">
     Jump to Section
     <svg height="5" width="9" xmlns="http://www.w3.org/2000/svg">
      <path d="M8.811 1.067a.612.612 0 0 0 0-.884.655.655 0 0 0-.908 0L4.5 3.491 1.097.183a.655.655 0 0 0-.909 0 .615.615 0 0 0 0 .884l3.857 3.75a.655.655 0 0 0 .91 0l3.856-3.75z" fill-rule="evenodd">
      </path>
     </svg>
    </span>
    <ul class="dropdown">
     <li class="level-h2">
      <a href="#example-configuration">
       »
 Example Configuration
      </a>
     </li>
     <li class="level-h2">
      <a href="#data-source-configuration">
       »
 Data Source Configuration
      </a>
     </li>
     <li class="level-h2">
      <a href="#configuration-variables">
       »
 Configuration variables
      </a>
     </li>
    </ul>
   </div>
  </div>
  <p>
   <strong>
    Kind: Standard (with locking)
   </strong>
  </p>
  <p>
   Stores the state as an object in a configurable prefix in a given bucket on
   <a href="https://intl.cloud.tencent.com/product/cos">
    Tencent Cloud Object Storage
   </a>
   (COS).
 This backend also supports
   <a href="/docs/language/state/locking.html">
    state locking
   </a>
   .
  </p>
  <div class="alert alert-warning" role="alert">
   <p>
    <strong>
     Warning!
    </strong>
    It is highly recommended that you enable
    <a href="https://intl.cloud.tencent.com/document/product/436/19883">
     Object Versioning
    </a>
    on the COS bucket to allow for state recovery in the case of accidental deletions and human error.
   </p>
  </div>
  <h2 id="example-configuration">
   <a class="anchor" href="#example-configuration" name="example-configuration">
    »
   </a>
   Example Configuration
  </h2>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">terraform</span> <span class="p">{</span>
   <span class="n">backend</span> <span class="s2">"cos"</span> <span class="p">{</span>
     <span class="n">region</span> <span class="o">=</span> <span class="s2">"ap-guangzhou"</span>
     <span class="n">bucket</span> <span class="o">=</span> <span class="s2">"bucket-for-terraform-state-1258798060"</span>
     <span class="n">prefix</span> <span class="o">=</span> <span class="s2">"terraform/state"</span>
   <span class="p">}</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <p>
   This assumes we have a
   <a href="https://registry.terraform.io/providers/tencentcloudstack/tencentcloud/latest/docs/resources/cos_bucket">
    COS Bucket
   </a>
   created named
   <code>
    bucket-for-terraform-state-1258798060
   </code>
   ,
 Terraform state will be written into the file
   <code>
    terraform/state/terraform.tfstate
   </code>
   .
  </p>
  <h2 id="data-source-configuration">
   <a class="anchor" href="#data-source-configuration" name="data-source-configuration">
    »
   </a>
   Data Source Configuration
  </h2>
  <p>
   To make use of the COS remote state in another configuration, use the
   <a href="/docs/language/state/remote-state-data.html">
    <code>
     terraform_remote_state
    </code>
    data source
   </a>
   .
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">data</span> <span class="s2">"terraform_remote_state"</span> <span class="s2">"foo"</span> <span class="p">{</span>
   <span class="n">backend</span> <span class="o">=</span> <span class="s2">"cos"</span>
 
   <span class="n">config</span> <span class="o">=</span> <span class="p">{</span>
     <span class="n">region</span> <span class="o">=</span> <span class="s2">"ap-guangzhou"</span>
     <span class="n">bucket</span> <span class="o">=</span> <span class="s2">"bucket-for-terraform-state-1258798060"</span>
     <span class="n">prefix</span> <span class="o">=</span> <span class="s2">"terraform/state"</span>
   <span class="p">}</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <h2 id="configuration-variables">
   <a class="anchor" href="#configuration-variables" name="configuration-variables">
    »
   </a>
   Configuration variables
  </h2>
  <p>
   The following configuration options or environment variables are supported:
  </p>
  <ul>
   <li>
    <a name="secret_id">
    </a>
    <a href="#secret_id">
     <code>
      secret_id
     </code>
    </a>
    - (Optional) Secret id of Tencent Cloud. It supports environment variables
    <code>
     TENCENTCLOUD_SECRET_ID
    </code>
    .
   </li>
   <li>
    <a name="secret_key">
    </a>
    <a href="#secret_key">
     <code>
      secret_key
     </code>
    </a>
    - (Optional) Secret key of Tencent Cloud. It supports environment variables
    <code>
     TENCENTCLOUD_SECRET_KEY
    </code>
    .
   </li>
   <li>
    <a name="region">
    </a>
    <a href="#region">
     <code>
      region
     </code>
    </a>
    - (Optional) The region of the COS bucket. It supports environment variables
    <code>
     TENCENTCLOUD_REGION
    </code>
    .
   </li>
   <li>
    <a name="bucket">
    </a>
    <a href="#bucket">
     <code>
      bucket
     </code>
    </a>
    - (Required) The name of the COS bucket. You shall manually create it first.
   </li>
   <li>
    <a name="prefix">
    </a>
    <a href="#prefix">
     <code>
      prefix
     </code>
    </a>
    - (Optional) The directory for saving the state file in bucket. Default to "env:".
   </li>
   <li>
    <a name="key">
    </a>
    <a href="#key">
     <code>
      key
     </code>
    </a>
    - (Optional) The path for saving the state file in bucket. Defaults to
    <code>
     terraform.tfstate
    </code>
    .
   </li>
   <li>
    <a name="encrypt">
    </a>
    <a href="#encrypt">
     <code>
      encrypt
     </code>
    </a>
    - (Optional) Whether to enable server side encryption of the state file. If it is true, COS will use 'AES256' encryption algorithm to encrypt state file.
   </li>
   <li>
    <a name="acl">
    </a>
    <a href="#acl">
     <code>
      acl
     </code>
    </a>
    - (Optional) Object ACL to be applied to the state file, allows
    <code>
     private
    </code>
    and
    <code>
     public-read
    </code>
    . Defaults to
    <code>
     private
    </code>
    .
   </li>
  </ul>
 </div>
 
 <!-- ########### Standard Backends : etcdv3 ############### -->
 <!-- ########### https://www.terraform.io/docs/language/settings/backends/etcd.html ############### --
 ><!-- ########### Standard Backends : etcdv3 ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="etcd">
    <a class="anchor" href="#etcd" name="etcd">
     »
    </a>
    etcd
   </h1>
   <div id="inner-quicknav">
    <span id="inner-quicknav-trigger">
     Jump to Section
     <svg height="5" width="9" xmlns="http://www.w3.org/2000/svg">
      <path d="M8.811 1.067a.612.612 0 0 0 0-.884.655.655 0 0 0-.908 0L4.5 3.491 1.097.183a.655.655 0 0 0-.909 0 .615.615 0 0 0 0 .884l3.857 3.75a.655.655 0 0 0 .91 0l3.856-3.75z" fill-rule="evenodd">
      </path>
     </svg>
    </span>
    <ul class="dropdown">
     <li class="level-h2">
      <a href="#example-configuration">
       »
 Example Configuration
      </a>
     </li>
     <li class="level-h2">
      <a href="#data-source-configuration">
       »
 Data Source Configuration
      </a>
     </li>
     <li class="level-h2">
      <a href="#configuration-variables">
       »
 Configuration variables
      </a>
     </li>
    </ul>
   </div>
  </div>
  <p>
   <strong>
    Kind: Standard (with no locking)
   </strong>
  </p>
  <p>
   Stores the state in
   <a href="https://coreos.com/etcd/docs/latest/v2/README.html">
    etcd 2.x
   </a>
   at a given path.
  </p>
  <h2 id="example-configuration">
   <a class="anchor" href="#example-configuration" name="example-configuration">
    »
   </a>
   Example Configuration
  </h2>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">terraform</span> <span class="p">{</span>
   <span class="n">backend</span> <span class="s2">"etcd"</span> <span class="p">{</span>
     <span class="n">path</span>      <span class="o">=</span> <span class="s2">"path/to/terraform.tfstate"</span>
     <span class="n">endpoints</span> <span class="o">=</span> <span class="s2">"http://one:4001 http://two:4001"</span>
   <span class="p">}</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <h2 id="data-source-configuration">
   <a class="anchor" href="#data-source-configuration" name="data-source-configuration">
    »
   </a>
   Data Source Configuration
  </h2>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">data</span> <span class="s2">"terraform_remote_state"</span> <span class="s2">"foo"</span> <span class="p">{</span>
   <span class="n">backend</span> <span class="o">=</span> <span class="s2">"etcd"</span>
   <span class="n">config</span> <span class="o">=</span> <span class="p">{</span>
     <span class="n">path</span>      <span class="o">=</span> <span class="s2">"path/to/terraform.tfstate"</span>
     <span class="n">endpoints</span> <span class="o">=</span> <span class="s2">"http://one:4001 http://two:4001"</span>
   <span class="p">}</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <h2 id="configuration-variables">
   <a class="anchor" href="#configuration-variables" name="configuration-variables">
    »
   </a>
   Configuration variables
  </h2>
  <p>
   The following configuration options are supported:
  </p>
  <ul>
   <li>
    <a name="path">
    </a>
    <a href="#path">
     <code>
      path
     </code>
    </a>
    - (Required) The path where to store the state
   </li>
   <li>
    <a name="endpoints">
    </a>
    <a href="#endpoints">
     <code>
      endpoints
     </code>
    </a>
    - (Required) A space-separated list of the etcd endpoints
   </li>
   <li>
    <a name="username">
    </a>
    <a href="#username">
     <code>
      username
     </code>
    </a>
    - (Optional) The username
   </li>
   <li>
    <a name="password">
    </a>
    <a href="#password">
     <code>
      password
     </code>
    </a>
    - (Optional) The password
   </li>
  </ul>
 </div>
 
 <!-- ########### Standard Backends : gcs ############### -->
 <!-- ########### https://www.terraform.io/docs/language/settings/backends/etcdv3.html ############### --
 ><!-- ########### Standard Backends : gcs ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="etcdv3">
    <a class="anchor" href="#etcdv3" name="etcdv3">
     »
    </a>
    etcdv3
   </h1>
   <div id="inner-quicknav">
    <span id="inner-quicknav-trigger">
     Jump to Section
     <svg height="5" width="9" xmlns="http://www.w3.org/2000/svg">
      <path d="M8.811 1.067a.612.612 0 0 0 0-.884.655.655 0 0 0-.908 0L4.5 3.491 1.097.183a.655.655 0 0 0-.909 0 .615.615 0 0 0 0 .884l3.857 3.75a.655.655 0 0 0 .91 0l3.856-3.75z" fill-rule="evenodd">
      </path>
     </svg>
    </span>
    <ul class="dropdown">
     <li class="level-h2">
      <a href="#example-configuration">
       »
 Example Configuration
      </a>
     </li>
     <li class="level-h2">
      <a href="#data-source-configuration">
       »
 Data Source Configuration
      </a>
     </li>
     <li class="level-h2">
      <a href="#configuration-variables">
       »
 Configuration variables
      </a>
     </li>
    </ul>
   </div>
  </div>
  <p>
   <strong>
    Kind: Standard (with locking)
   </strong>
  </p>
  <p>
   Stores the state in the
   <a href="https://coreos.com/etcd/">
    etcd
   </a>
   KV store with a given prefix.
  </p>
  <p>
   This backend supports
   <a href="/docs/language/state/locking.html">
    state locking
   </a>
   .
  </p>
  <h2 id="example-configuration">
   <a class="anchor" href="#example-configuration" name="example-configuration">
    »
   </a>
   Example Configuration
  </h2>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">terraform</span> <span class="p">{</span>
   <span class="n">backend</span> <span class="s2">"etcdv3"</span> <span class="p">{</span>
     <span class="n">endpoints</span> <span class="o">=</span> <span class="p">[</span><span class="s2">"etcd-1:2379"</span><span class="p">,</span> <span class="s2">"etcd-2:2379"</span><span class="p">,</span> <span class="s2">"etcd-3:2379"</span><span class="p">]</span>
     <span class="n">lock</span>      <span class="o">=</span> <span class="kp">true</span>
     <span class="n">prefix</span>    <span class="o">=</span> <span class="s2">"terraform-state/"</span>
   <span class="p">}</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <p>
   Note that for the access credentials we recommend using a
   <a href="/docs/language/settings/backends/configuration.html#partial-configuration">
    partial configuration
   </a>
   .
  </p>
  <h2 id="data-source-configuration">
   <a class="anchor" href="#data-source-configuration" name="data-source-configuration">
    »
   </a>
   Data Source Configuration
  </h2>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">data</span> <span class="s2">"terraform_remote_state"</span> <span class="s2">"foo"</span> <span class="p">{</span>
   <span class="n">backend</span> <span class="o">=</span> <span class="s2">"etcdv3"</span>
   <span class="n">config</span> <span class="o">=</span> <span class="p">{</span>
     <span class="n">endpoints</span> <span class="o">=</span> <span class="p">[</span><span class="s2">"etcd-1:2379"</span><span class="p">,</span> <span class="s2">"etcd-2:2379"</span><span class="p">,</span> <span class="s2">"etcd-3:2379"</span><span class="p">]</span>
     <span class="n">lock</span>      <span class="o">=</span> <span class="kp">true</span>
     <span class="n">prefix</span>    <span class="o">=</span> <span class="s2">"terraform-state/"</span>
   <span class="p">}</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <h2 id="configuration-variables">
   <a class="anchor" href="#configuration-variables" name="configuration-variables">
    »
   </a>
   Configuration variables
  </h2>
  <p>
   The following configuration options / environment variables are supported:
  </p>
  <ul>
   <li>
    <a name="endpoints">
    </a>
    <a href="#endpoints">
     <code>
      endpoints
     </code>
    </a>
    - (Required) The list of 'etcd' endpoints which to connect to.
   </li>
   <li>
    <a name="username">
    </a>
    <a href="#username">
     <code>
      username
     </code>
    </a>
    /
    <code>
     ETCDV3_USERNAME
    </code>
    - (Optional) Username used to connect to the etcd cluster.
   </li>
   <li>
    <a name="password">
    </a>
    <a href="#password">
     <code>
      password
     </code>
    </a>
    /
    <code>
     ETCDV3_PASSWORD
    </code>
    - (Optional) Password used to connect to the etcd  cluster.
   </li>
   <li>
    <a name="prefix">
    </a>
    <a href="#prefix">
     <code>
      prefix
     </code>
    </a>
    - (Optional) An optional prefix to be added to keys when to storing state in etcd. Defaults to
    <code>
     ""
    </code>
    .
   </li>
   <li>
    <a name="lock">
    </a>
    <a href="#lock">
     <code>
      lock
     </code>
    </a>
    - (Optional) Whether to lock state access. Defaults to
    <code>
     true
    </code>
    .
   </li>
   <li>
    <a name="cacert_path">
    </a>
    <a href="#cacert_path">
     <code>
      cacert_path
     </code>
    </a>
    - (Optional) The path to a PEM-encoded CA bundle with which to verify certificates of TLS-enabled etcd servers.
   </li>
   <li>
    <a name="cert_path">
    </a>
    <a href="#cert_path">
     <code>
      cert_path
     </code>
    </a>
    - (Optional) The path to a PEM-encoded certificate to provide to etcd for secure client identification.
   </li>
   <li>
    <a name="key_path">
    </a>
    <a href="#key_path">
     <code>
      key_path
     </code>
    </a>
    - (Optional) The path to a PEM-encoded key to provide to etcd for secure client identification.
   </li>
  </ul>
 </div>
 
 <!-- ########### Standard Backends : http ############### -->
 <!-- ########### https://www.terraform.io/docs/language/settings/backends/gcs.html ############### --
 ><!-- ########### Standard Backends : http ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="gcs">
    <a class="anchor" href="#gcs" name="gcs">
     »
    </a>
    gcs
   </h1>
   <div id="inner-quicknav">
    <span id="inner-quicknav-trigger">
     Jump to Section
     <svg height="5" width="9" xmlns="http://www.w3.org/2000/svg">
      <path d="M8.811 1.067a.612.612 0 0 0 0-.884.655.655 0 0 0-.908 0L4.5 3.491 1.097.183a.655.655 0 0 0-.909 0 .615.615 0 0 0 0 .884l3.857 3.75a.655.655 0 0 0 .91 0l3.856-3.75z" fill-rule="evenodd">
      </path>
     </svg>
    </span>
    <ul class="dropdown">
     <li class="level-h2">
      <a href="#example-configuration">
       »
 Example Configuration
      </a>
     </li>
     <li class="level-h2">
      <a href="#data-source-configuration">
       »
 Data Source Configuration
      </a>
     </li>
     <li class="level-h2">
      <a href="#authentication">
       »
 Authentication
      </a>
     </li>
     <li class="level-h3">
      <a href="#running-terraform-on-your-workstation-">
       »
 Running Terraform on your workstation.
      </a>
     </li>
     <li class="level-h3">
      <a href="#running-terraform-on-google-cloud">
       »
 Running Terraform on Google Cloud
      </a>
     </li>
     <li class="level-h3">
      <a href="#running-terraform-outside-of-google-cloud">
       »
 Running Terraform outside of Google Cloud
      </a>
     </li>
     <li class="level-h3">
      <a href="#impersonating-service-accounts">
       »
 Impersonating Service Accounts
      </a>
     </li>
     <li class="level-h2">
      <a href="#configuration-variables">
       »
 Configuration variables
      </a>
     </li>
    </ul>
   </div>
  </div>
  <p>
   <strong>
    Kind: Standard (with locking)
   </strong>
  </p>
  <p>
   Stores the state as an object in a configurable prefix in a pre-existing bucket on
   <a href="https://cloud.google.com/storage/">
    Google Cloud Storage
   </a>
   (GCS).
 This backend also supports
   <a href="/docs/language/state/locking.html">
    state locking
   </a>
   . The bucket must exist prior to configuring the backend.
  </p>
  <div class="alert alert-warning" role="alert">
   <p>
    <strong>
     Warning!
    </strong>
    It is highly recommended that you enable
    <a href="https://cloud.google.com/storage/docs/object-versioning">
     Object Versioning
    </a>
    on the GCS bucket to allow for state recovery in the case of accidental deletions and human error.
   </p>
  </div>
  <h2 id="example-configuration">
   <a class="anchor" href="#example-configuration" name="example-configuration">
    »
   </a>
   Example Configuration
  </h2>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">terraform</span> <span class="p">{</span>
   <span class="n">backend</span> <span class="s2">"gcs"</span> <span class="p">{</span>
     <span class="n">bucket</span>  <span class="o">=</span> <span class="s2">"tf-state-prod"</span>
     <span class="n">prefix</span>  <span class="o">=</span> <span class="s2">"terraform/state"</span>
   <span class="p">}</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <h2 id="data-source-configuration">
   <a class="anchor" href="#data-source-configuration" name="data-source-configuration">
    »
   </a>
   Data Source Configuration
  </h2>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">data</span> <span class="s2">"terraform_remote_state"</span> <span class="s2">"foo"</span> <span class="p">{</span>
   <span class="n">backend</span> <span class="o">=</span> <span class="s2">"gcs"</span>
   <span class="n">config</span> <span class="o">=</span> <span class="p">{</span>
     <span class="n">bucket</span>  <span class="o">=</span> <span class="s2">"terraform-state"</span>
     <span class="n">prefix</span>  <span class="o">=</span> <span class="s2">"prod"</span>
   <span class="p">}</span>
 <span class="p">}</span>
 
 <span class="n">resource</span> <span class="s2">"template_file"</span> <span class="s2">"bar"</span> <span class="p">{</span>
   <span class="n">template</span> <span class="o">=</span> <span class="s2">"${greeting}"</span>
 
   <span class="n">vars</span> <span class="p">{</span>
     <span class="n">greeting</span> <span class="o">=</span> <span class="s2">"${data.terraform_remote_state.foo.greeting}"</span>
   <span class="p">}</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <h2 id="authentication">
   <a class="anchor" href="#authentication" name="authentication">
    »
   </a>
   Authentication
  </h2>
  <p>
   IAM Changes to buckets are
   <a href="https://cloud.google.com/storage/docs/consistency#eventually_consistent_operations">
    eventually consistent
   </a>
   and may take upto a few minutes to take effect. Terraform will return 403 errors till it is eventually consistent.
  </p>
  <h3 id="running-terraform-on-your-workstation-">
   <a class="anchor" href="#running-terraform-on-your-workstation-" name="running-terraform-on-your-workstation-">
    »
   </a>
   Running Terraform on your workstation.
  </h3>
  <p>
   If you are using terraform on your workstation, you will need to install the Google Cloud SDK and authenticate using
   <a href="https://cloud.google.com/sdk/gcloud/reference/auth/application-default">
    User Application Default
 Credentials
   </a>
   .
  </p>
  <p>
   User ADCs do
   <a href="https://developers.google.com/identity/protocols/oauth2#expiration">
    expire
   </a>
   and you can refresh them by running
   <code>
    gcloud auth application-default login
   </code>
   .
  </p>
  <h3 id="running-terraform-on-google-cloud">
   <a class="anchor" href="#running-terraform-on-google-cloud" name="running-terraform-on-google-cloud">
    »
   </a>
   Running Terraform on Google Cloud
  </h3>
  <p>
   If you are running terraform on Google Cloud, you can configure that instance or cluster to use a
   <a href="https://cloud.google.com/compute/docs/authentication">
    Google Service
 Account
   </a>
   . This will allow Terraform to authenticate to Google Cloud without having to bake in a separate
 credential/authentication file. Make sure that the scope of the VM/Cluster is set to cloud-platform.
  </p>
  <h3 id="running-terraform-outside-of-google-cloud">
   <a class="anchor" href="#running-terraform-outside-of-google-cloud" name="running-terraform-outside-of-google-cloud">
    »
   </a>
   Running Terraform outside of Google Cloud
  </h3>
  <p>
   If you are running terraform outside of Google Cloud, generate a service account key and set the
   <code>
    GOOGLE_APPPLICATION_CREDENTIALS
   </code>
   environment variable to
 the path of the service account key. Terraform will use that key for authentication.
  </p>
  <h3 id="impersonating-service-accounts">
   <a class="anchor" href="#impersonating-service-accounts" name="impersonating-service-accounts">
    »
   </a>
   Impersonating Service Accounts
  </h3>
  <p>
   Terraform can impersonate a Google Service Account as described
   <a href="https://cloud.google.com/iam/docs/creating-short-lived-service-account-credentials">
    here
   </a>
   . A valid credential must be provided as mentioned in the earlier section and that identity must have the
   <code>
    roles/iam.serviceAccountTokenCreator
   </code>
   role on the service account you are impersonating.
  </p>
  <h2 id="configuration-variables">
   <a class="anchor" href="#configuration-variables" name="configuration-variables">
    »
   </a>
   Configuration variables
  </h2>
  <p>
   The following configuration options are supported:
  </p>
  <ul>
   <li>
    <code>
     bucket
    </code>
    - (Required) The name of the GCS bucket.  This name must be
 globally unique.  For more information, see
    <a href="https://cloud.google.com/storage/docs/bucketnaming.html#requirements">
     Bucket Naming
 Guidelines
    </a>
    .
   </li>
   <li>
    <code>
     credentials
    </code>
    /
    <code>
     GOOGLE_BACKEND_CREDENTIALS
    </code>
    /
    <code>
     GOOGLE_CREDENTIALS
    </code>
    -
 (Optional) Local path to Google Cloud Platform account credentials in JSON
 format.  If unset,
    <a href="https://developers.google.com/identity/protocols/application-default-credentials">
     Google Application Default
 Credentials
    </a>
    are used.  The provided credentials must have Storage Object Admin role on the bucket.
    <strong>
     Warning
    </strong>
    : if using the Google Cloud Platform provider as well, it will
 also pick up the
    <code>
     GOOGLE_CREDENTIALS
    </code>
    environment variable.
   </li>
   <li>
    <a name="impersonate_service_account">
    </a>
    <a href="#impersonate_service_account">
     <code>
      impersonate_service_account
     </code>
    </a>
    - (Optional) The service account to impersonate for accessing the State Bucket.
 You must have
    <code>
     roles/iam.serviceAccountTokenCreator
    </code>
    role on that account for the impersonation to succeed. 
 If you are using a delegation chain, you can specify that using the
    <code>
     impersonate_service_account_delegates
    </code>
    field.
 Alternatively, this can be specified using the
    <code>
     GOOGLE_IMPERSONATE_SERVICE_ACCOUNT
    </code>
    environment
 variable.
   </li>
   <li>
    <a name="impersonate_service_account_delegates">
    </a>
    <a href="#impersonate_service_account_delegates">
     <code>
      impersonate_service_account_delegates
     </code>
    </a>
    - (Optional) The delegation chain for an impersonating a service account as described
    <a href="https://cloud.google.com/iam/docs/creating-short-lived-service-account-credentials#sa-credentials-delegated">
     here
    </a>
    .
   </li>
   <li>
    <a name="access_token">
    </a>
    <a href="#access_token">
     <code>
      access_token
     </code>
    </a>
    - (Optional) A temporary [OAuth 2.0 access token] obtained
 from the Google Authorization server, i.e. the
    <code>
     Authorization: Bearer
    </code>
    token
 used to authenticate HTTP requests to GCP APIs. This is an alternative to
    <code>
     credentials
    </code>
    . If both are specified,
    <code>
     access_token
    </code>
    will be used over the
    <code>
     credentials
    </code>
    field.
   </li>
   <li>
    <code>
     prefix
    </code>
    - (Optional) GCS prefix inside the bucket. Named states for
 workspaces are stored in an object called
    <code>
     &lt;prefix&gt;/&lt;name&gt;.tfstate
    </code>
    .
   </li>
   <li>
    <code>
     path
    </code>
    - (Deprecated) GCS path to the state file of the default state. For
 backwards compatibility only, use
    <code>
     prefix
    </code>
    instead.
   </li>
   <li>
    <code>
     encryption_key
    </code>
    /
    <code>
     GOOGLE_ENCRYPTION_KEY
    </code>
    - (Optional) A 32 byte base64
 encoded 'customer supplied encryption key' used to encrypt all state. For
 more information see
    <a href="https://cloud.google.com/storage/docs/encryption#customer-supplied">
     Customer Supplied Encryption
 Keys
    </a>
    .
   </li>
  </ul>
 </div>
 
 <!-- ########### Standard Backends : kubernetes ############### -->
 <!-- ########### https://www.terraform.io/docs/language/settings/backends/http.html ############### --
 ><!-- ########### Standard Backends : kubernetes ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="http">
    <a class="anchor" href="#http" name="http">
     »
    </a>
    http
   </h1>
   <div id="inner-quicknav">
    <span id="inner-quicknav-trigger">
     Jump to Section
     <svg height="5" width="9" xmlns="http://www.w3.org/2000/svg">
      <path d="M8.811 1.067a.612.612 0 0 0 0-.884.655.655 0 0 0-.908 0L4.5 3.491 1.097.183a.655.655 0 0 0-.909 0 .615.615 0 0 0 0 .884l3.857 3.75a.655.655 0 0 0 .91 0l3.856-3.75z" fill-rule="evenodd">
      </path>
     </svg>
    </span>
    <ul class="dropdown">
     <li class="level-h2">
      <a href="#example-usage">
       »
 Example Usage
      </a>
     </li>
     <li class="level-h2">
      <a href="#data-source-configuration">
       »
 Data Source Configuration
      </a>
     </li>
     <li class="level-h2">
      <a href="#configuration-variables">
       »
 Configuration variables
      </a>
     </li>
    </ul>
   </div>
  </div>
  <p>
   <strong>
    Kind: Standard (with optional locking)
   </strong>
  </p>
  <p>
   Stores the state using a simple
   <a href="https://en.wikipedia.org/wiki/Representational_state_transfer">
    REST
   </a>
   client.
  </p>
  <p>
   State will be fetched via GET, updated via POST, and purged with DELETE. The method used for updating is configurable.
  </p>
  <p>
   When locking support is enabled it will use LOCK and UNLOCK requests providing the lock info in the body. The endpoint should
 return a 423: Locked or 409: Conflict with the holding lock info when it's already taken, 200: OK for success. Any other status
 will be considered an error. The ID of the holding lock info will be added as a query parameter to state updates requests.
  </p>
  <h2 id="example-usage">
   <a class="anchor" href="#example-usage" name="example-usage">
    »
   </a>
   Example Usage
  </h2>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">terraform</span> <span class="p">{</span>
   <span class="n">backend</span> <span class="s2">"http"</span> <span class="p">{</span>
     <span class="n">address</span> <span class="o">=</span> <span class="s2">"http://myrest.api.com/foo"</span>
     <span class="n">lock_address</span> <span class="o">=</span> <span class="s2">"http://myrest.api.com/foo"</span>
     <span class="n">unlock_address</span> <span class="o">=</span> <span class="s2">"http://myrest.api.com/foo"</span>
   <span class="p">}</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <h2 id="data-source-configuration">
   <a class="anchor" href="#data-source-configuration" name="data-source-configuration">
    »
   </a>
   Data Source Configuration
  </h2>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">data</span> <span class="s2">"terraform_remote_state"</span> <span class="s2">"foo"</span> <span class="p">{</span>
   <span class="n">backend</span> <span class="o">=</span> <span class="s2">"http"</span>
   <span class="n">config</span> <span class="o">=</span> <span class="p">{</span>
     <span class="n">address</span> <span class="o">=</span> <span class="s2">"http://my.rest.api.com"</span>
   <span class="p">}</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <h2 id="configuration-variables">
   <a class="anchor" href="#configuration-variables" name="configuration-variables">
    »
   </a>
   Configuration variables
  </h2>
  <p>
   The following configuration options / environment variables are supported:
  </p>
  <ul>
   <li>
    <a name="address">
    </a>
    <a href="#address">
     <code>
      address
     </code>
    </a>
    /
    <code>
     TF_HTTP_ADDRESS
    </code>
    - (Required) The address of the REST endpoint
   </li>
   <li>
    <a name="update_method">
    </a>
    <a href="#update_method">
     <code>
      update_method
     </code>
    </a>
    /
    <code>
     TF_HTTP_UPDATE_METHOD
    </code>
    - (Optional) HTTP method to use
 when updating state. Defaults to
    <code>
     POST
    </code>
    .
   </li>
   <li>
    <a name="lock_address">
    </a>
    <a href="#lock_address">
     <code>
      lock_address
     </code>
    </a>
    /
    <code>
     TF_HTTP_LOCK_ADDRESS
    </code>
    - (Optional) The address of the lock
 REST endpoint. Defaults to disabled.
   </li>
   <li>
    <a name="lock_method">
    </a>
    <a href="#lock_method">
     <code>
      lock_method
     </code>
    </a>
    /
    <code>
     TF_HTTP_LOCK_METHOD
    </code>
    - (Optional) The HTTP method to use
 when locking. Defaults to
    <code>
     LOCK
    </code>
    .
   </li>
   <li>
    <a name="unlock_address">
    </a>
    <a href="#unlock_address">
     <code>
      unlock_address
     </code>
    </a>
    /
    <code>
     TF_HTTP_UNLOCK_ADDRESS
    </code>
    - (Optional) The address of the
 unlock REST endpoint. Defaults to disabled.
   </li>
   <li>
    <a name="unlock_method">
    </a>
    <a href="#unlock_method">
     <code>
      unlock_method
     </code>
    </a>
    /
    <code>
     TF_HTTP_UNLOCK_METHOD
    </code>
    - (Optional) The HTTP method to use
 when unlocking. Defaults to
    <code>
     UNLOCK
    </code>
    .
   </li>
   <li>
    <a name="username">
    </a>
    <a href="#username">
     <code>
      username
     </code>
    </a>
    /
    <code>
     TF_HTTP_USERNAME
    </code>
    - (Optional) The username for HTTP basic
 authentication
   </li>
   <li>
    <a name="password">
    </a>
    <a href="#password">
     <code>
      password
     </code>
    </a>
    /
    <code>
     TF_HTTP_PASSWORD
    </code>
    - (Optional) The password for HTTP basic
 authentication
   </li>
   <li>
    <a name="skip_cert_verification">
    </a>
    <a href="#skip_cert_verification">
     <code>
      skip_cert_verification
     </code>
    </a>
    - (Optional) Whether to skip TLS verification.
 Defaults to
    <code>
     false
    </code>
    .
   </li>
   <li>
    <a name="retry_max">
    </a>
    <a href="#retry_max">
     <code>
      retry_max
     </code>
    </a>
    /
    <code>
     TF_HTTP_RETRY_MAX
    </code>
    – (Optional) The number of HTTP request
 retries. Defaults to
    <code>
     2
    </code>
    .
   </li>
   <li>
    <a name="retry_wait_min">
    </a>
    <a href="#retry_wait_min">
     <code>
      retry_wait_min
     </code>
    </a>
    /
    <code>
     TF_HTTP_RETRY_WAIT_MIN
    </code>
    – (Optional) The minimum time in
 seconds to wait between HTTP request attempts. Defaults to
    <code>
     1
    </code>
    .
   </li>
   <li>
    <a name="retry_wait_max">
    </a>
    <a href="#retry_wait_max">
     <code>
      retry_wait_max
     </code>
    </a>
    /
    <code>
     TF_HTTP_RETRY_WAIT_MAX
    </code>
    – (Optional) The maximum time in
 seconds to wait between HTTP request attempts. Defaults to
    <code>
     30
    </code>
    .
   </li>
  </ul>
 </div>
 
 <!-- ########### Standard Backends : manta ############### -->
 <!-- ########### https://www.terraform.io/docs/language/settings/backends/kubernetes.html ############### --
 ><!-- ########### Standard Backends : manta ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="kubernetes">
    <a class="anchor" href="#kubernetes" name="kubernetes">
     »
    </a>
    kubernetes
   </h1>
   <div id="inner-quicknav">
    <span id="inner-quicknav-trigger">
     Jump to Section
     <svg height="5" width="9" xmlns="http://www.w3.org/2000/svg">
      <path d="M8.811 1.067a.612.612 0 0 0 0-.884.655.655 0 0 0-.908 0L4.5 3.491 1.097.183a.655.655 0 0 0-.909 0 .615.615 0 0 0 0 .884l3.857 3.75a.655.655 0 0 0 .91 0l3.856-3.75z" fill-rule="evenodd">
      </path>
     </svg>
    </span>
    <ul class="dropdown">
     <li class="level-h2">
      <a href="#example-configuration">
       »
 Example Configuration
      </a>
     </li>
     <li class="level-h2">
      <a href="#example-referencing">
       »
 Example Referencing
      </a>
     </li>
     <li class="level-h2">
      <a href="#configuration-variables">
       »
 Configuration variables
      </a>
     </li>
    </ul>
   </div>
  </div>
  <div class="alert alert-info" role="alert">
   <p>
    <strong>
     Note:
    </strong>
    This backend is limited by Kubernetes' maximum Secret size of 1MB. See
    <a href="https://kubernetes.io/docs/concepts/configuration/secret/#restrictions">
     Secret restrictions
    </a>
    for details.
   </p>
  </div>
  <p>
   <strong>
    Kind: Standard (with locking)
   </strong>
  </p>
  <p>
   Stores the state in a
   <a href="https://kubernetes.io/docs/concepts/configuration/secret/">
    Kubernetes secret
   </a>
   with locking done using a Lease resource.
  </p>
  <h2 id="example-configuration">
   <a class="anchor" href="#example-configuration" name="example-configuration">
    »
   </a>
   Example Configuration
  </h2>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">terraform</span> <span class="p">{</span>
   <span class="n">backend</span> <span class="s2">"kubernetes"</span> <span class="p">{</span>
     <span class="n">secret_suffix</span>    <span class="o">=</span> <span class="s2">"state"</span>
     <span class="n">load_config_file</span> <span class="o">=</span> <span class="kp">true</span>
   <span class="p">}</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <p>
   This assumes the user/service account running terraform has
   <a href="https://kubernetes.io/docs/reference/access-authn-authz/authorization/">
    permissions
   </a>
   to read/write secrets in the
   <a href="https://kubernetes.io/docs/concepts/overview/working-with-objects/namespaces/">
    namespace
   </a>
   used to store the secret.
  </p>
  <p>
   If the
   <code>
    load_config_file
   </code>
   flag is set the backend will attempt to use a
   <a href="https://kubernetes.io/docs/concepts/configuration/organize-cluster-access-kubeconfig/">
    kubeconfig file
   </a>
   to gain access to the cluster.
  </p>
  <p>
   If the
   <code>
    in_cluster_config
   </code>
   flag is set the backend will attempt to use a
   <a href="https://kubernetes.io/docs/tasks/configure-pod-container/configure-service-account/">
    service account
   </a>
   to access the cluster. This can be used if Terraform is being run from within a pod running in the Kubernetes cluster.
  </p>
  <p>
   For most use cases either
   <code>
    in_cluster_config
   </code>
   or
   <code>
    load_config_file
   </code>
   will need to be set to
   <code>
    true
   </code>
   . If both flags are set the configuration from
   <code>
    load_config_file
   </code>
   will be used.
  </p>
  <p>
   Note that for the access credentials we recommend using a
   <a href="/docs/language/settings/backends/configuration.html#partial-configuration">
    partial configuration
   </a>
   .
  </p>
  <h2 id="example-referencing">
   <a class="anchor" href="#example-referencing" name="example-referencing">
    »
   </a>
   Example Referencing
  </h2>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">data</span> <span class="s2">"terraform_remote_state"</span> <span class="s2">"foo"</span> <span class="p">{</span>
   <span class="n">backend</span> <span class="o">=</span> <span class="s2">"kubernetes"</span>
   <span class="n">config</span> <span class="o">=</span> <span class="p">{</span>
     <span class="n">secret_suffix</span>    <span class="o">=</span> <span class="s2">"state"</span>
     <span class="n">load_config_file</span> <span class="o">=</span> <span class="kp">true</span>
   <span class="p">}</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <h2 id="configuration-variables">
   <a class="anchor" href="#configuration-variables" name="configuration-variables">
    »
   </a>
   Configuration variables
  </h2>
  <p>
   The following configuration options are supported:
  </p>
  <ul>
   <li>
    <a name="secret_suffix">
    </a>
    <a href="#secret_suffix">
     <code>
      secret_suffix
     </code>
    </a>
    - (Required) Suffix used when creating secrets. Secrets will be named in the format:
    <code>
     tfstate-{workspace}-{secret_suffix}
    </code>
    .
   </li>
   <li>
    <a name="labels">
    </a>
    <a href="#labels">
     <code>
      labels
     </code>
    </a>
    - (Optional) Map of additional labels to be applied to the secret and lease.
   </li>
   <li>
    <a name="namespace">
    </a>
    <a href="#namespace">
     <code>
      namespace
     </code>
    </a>
    - (Optional) Namespace to store the secret and lease in. Can be sourced from
    <code>
     KUBE_NAMESPACE
    </code>
    .
   </li>
   <li>
    <a name="in_cluster_config">
    </a>
    <a href="#in_cluster_config">
     <code>
      in_cluster_config
     </code>
    </a>
    - (Optional) Used to authenticate to the cluster from inside a pod. Can be sourced from
    <code>
     KUBE_IN_CLUSTER_CONFIG
    </code>
    .
   </li>
   <li>
    <a name="load_config_file">
    </a>
    <a href="#load_config_file">
     <code>
      load_config_file
     </code>
    </a>
    - (Optional) Use a kubeconfig file to access the cluster. Can be sourced from
    <code>
     KUBE_LOAD_CONFIG_FILE
    </code>
    .
   </li>
   <li>
    <a name="host">
    </a>
    <a href="#host">
     <code>
      host
     </code>
    </a>
    - (Optional) The hostname (in form of URI) of Kubernetes master. Can be sourced from
    <code>
     KUBE_HOST
    </code>
    . Defaults to
    <code>
     https://localhost
    </code>
    .
   </li>
   <li>
    <a name="username">
    </a>
    <a href="#username">
     <code>
      username
     </code>
    </a>
    - (Optional) The username to use for HTTP basic authentication when accessing the Kubernetes master endpoint. Can be sourced from
    <code>
     KUBE_USER
    </code>
    .
   </li>
   <li>
    <a name="password">
    </a>
    <a href="#password">
     <code>
      password
     </code>
    </a>
    - (Optional) The password to use for HTTP basic authentication when accessing the Kubernetes master endpoint. Can be sourced from
    <code>
     KUBE_PASSWORD
    </code>
    .
   </li>
   <li>
    <a name="insecure">
    </a>
    <a href="#insecure">
     <code>
      insecure
     </code>
    </a>
    - (Optional) Whether server should be accessed without verifying the TLS certificate. Can be sourced from
    <code>
     KUBE_INSECURE
    </code>
    . Defaults to
    <code>
     false
    </code>
    .
   </li>
   <li>
    <a name="client_certificate">
    </a>
    <a href="#client_certificate">
     <code>
      client_certificate
     </code>
    </a>
    - (Optional) PEM-encoded client certificate for TLS authentication. Can be sourced from
    <code>
     KUBE_CLIENT_CERT_DATA
    </code>
    .
   </li>
   <li>
    <a name="client_key">
    </a>
    <a href="#client_key">
     <code>
      client_key
     </code>
    </a>
    - (Optional) PEM-encoded client certificate key for TLS authentication. Can be sourced from
    <code>
     KUBE_CLIENT_KEY_DATA
    </code>
    .
   </li>
   <li>
    <a name="cluster_ca_certificate">
    </a>
    <a href="#cluster_ca_certificate">
     <code>
      cluster_ca_certificate
     </code>
    </a>
    - (Optional) PEM-encoded root certificates bundle for TLS authentication. Can be sourced from
    <code>
     KUBE_CLUSTER_CA_CERT_DATA
    </code>
    .
   </li>
   <li>
    <a name="config_path">
    </a>
    <a href="#config_path">
     <code>
      config_path
     </code>
    </a>
    - (Optional) Path to the kube config file. Can be sourced from
    <code>
     KUBE_CONFIG
    </code>
    or
    <code>
     KUBECONFIG
    </code>
    . Defaults to
    <code>
     ~/.kube/config
    </code>
    .
   </li>
   <li>
    <a name="config_context">
    </a>
    <a href="#config_context">
     <code>
      config_context
     </code>
    </a>
    - (Optional) Context to choose from the config file. Can be sourced from
    <code>
     KUBE_CTX
    </code>
    .
   </li>
   <li>
    <a name="config_context_auth_info">
    </a>
    <a href="#config_context_auth_info">
     <code>
      config_context_auth_info
     </code>
    </a>
    - (Optional) Authentication info context of the kube config (name of the kubeconfig user,
    <code>
     --user
    </code>
    flag in
    <code>
     kubectl
    </code>
    ). Can be sourced from
    <code>
     KUBE_CTX_AUTH_INFO
    </code>
    .
   </li>
   <li>
    <a name="config_context_cluster">
    </a>
    <a href="#config_context_cluster">
     <code>
      config_context_cluster
     </code>
    </a>
    - (Optional) Cluster context of the kube config (name of the kubeconfig cluster,
    <code>
     --cluster
    </code>
    flag in
    <code>
     kubectl
    </code>
    ). Can be sourced from
    <code>
     KUBE_CTX_CLUSTER
    </code>
    .
   </li>
   <li>
    <a name="token">
    </a>
    <a href="#token">
     <code>
      token
     </code>
    </a>
    - (Optional) Token of your service account.  Can be sourced from
    <code>
     KUBE_TOKEN
    </code>
    .
   </li>
   <li>
    <a name="exec">
    </a>
    <a href="#exec">
     <code>
      exec
     </code>
    </a>
    - (Optional) Configuration block to use an
    <a href="https://kubernetes.io/docs/reference/access-authn-authz/authentication/#client-go-credential-plugins">
     exec-based credential plugin
    </a>
    , e.g. call an external command to receive user credentials.
    <ul>
     <li>
      <a name="api_version">
      </a>
      <a href="#api_version">
       <code>
        api_version
       </code>
      </a>
      - (Required) API version to use when decoding the ExecCredentials resource, e.g.
      <code>
       client.authentication.k8s.io/v1beta1
      </code>
      .
     </li>
     <li>
      <a name="command">
      </a>
      <a href="#command">
       <code>
        command
       </code>
      </a>
      - (Required) Command to execute.
     </li>
     <li>
      <a name="args">
      </a>
      <a href="#args">
       <code>
        args
       </code>
      </a>
      - (Optional) List of arguments to pass when executing the plugin.
     </li>
     <li>
      <a name="env">
      </a>
      <a href="#env">
       <code>
        env
       </code>
      </a>
      - (Optional) Map of environment variables to set when executing the plugin.
     </li>
    </ul>
   </li>
  </ul>
 </div>
 
 <!-- ########### Standard Backends : oss ############### -->
 <!-- ########### https://www.terraform.io/docs/language/settings/backends/manta.html ############### --
 ><!-- ########### Standard Backends : oss ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="manta">
    <a class="anchor" href="#manta" name="manta">
     »
    </a>
    manta
   </h1>
   <div id="inner-quicknav">
    <span id="inner-quicknav-trigger">
     Jump to Section
     <svg height="5" width="9" xmlns="http://www.w3.org/2000/svg">
      <path d="M8.811 1.067a.612.612 0 0 0 0-.884.655.655 0 0 0-.908 0L4.5 3.491 1.097.183a.655.655 0 0 0-.909 0 .615.615 0 0 0 0 .884l3.857 3.75a.655.655 0 0 0 .91 0l3.856-3.75z" fill-rule="evenodd">
      </path>
     </svg>
    </span>
    <ul class="dropdown">
     <li class="level-h2">
      <a href="#example-configuration">
       »
 Example Configuration
      </a>
     </li>
     <li class="level-h2">
      <a href="#data-source-configuration">
       »
 Data Source Configuration
      </a>
     </li>
     <li class="level-h2">
      <a href="#configuration-variables">
       »
 Configuration variables
      </a>
     </li>
    </ul>
   </div>
  </div>
  <p>
   <strong>
    Kind: Standard (with locking within Manta)
   </strong>
  </p>
  <p>
   Stores the state as an artifact in
   <a href="https://www.joyent.com/manta">
    Manta
   </a>
   .
  </p>
  <h2 id="example-configuration">
   <a class="anchor" href="#example-configuration" name="example-configuration">
    »
   </a>
   Example Configuration
  </h2>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">terraform</span> <span class="p">{</span>
   <span class="n">backend</span> <span class="s2">"manta"</span> <span class="p">{</span>
     <span class="n">path</span>        <span class="o">=</span> <span class="s2">"random/path"</span>
     <span class="n">object_name</span> <span class="o">=</span> <span class="s2">"terraform.tfstate"</span>
   <span class="p">}</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <p>
   Note that for the access credentials we recommend using a
   <a href="/docs/language/settings/backends/configuration.html#partial-configuration">
    partial configuration
   </a>
   .
  </p>
  <h2 id="data-source-configuration">
   <a class="anchor" href="#data-source-configuration" name="data-source-configuration">
    »
   </a>
   Data Source Configuration
  </h2>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">data</span> <span class="s2">"terraform_remote_state"</span> <span class="s2">"foo"</span> <span class="p">{</span>
   <span class="n">backend</span> <span class="o">=</span> <span class="s2">"manta"</span>
   <span class="n">config</span> <span class="o">=</span> <span class="p">{</span>
     <span class="n">path</span>        <span class="o">=</span> <span class="s2">"random/path"</span>
     <span class="n">object_name</span> <span class="o">=</span> <span class="s2">"terraform.tfstate"</span>
   <span class="p">}</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <h2 id="configuration-variables">
   <a class="anchor" href="#configuration-variables" name="configuration-variables">
    »
   </a>
   Configuration variables
  </h2>
  <p>
   The following configuration options are supported:
  </p>
  <ul>
   <li>
    <a name="account">
    </a>
    <a href="#account">
     <code>
      account
     </code>
    </a>
    - (Required) This is the name of the Manta account. It can also be provided via the
    <code>
     SDC_ACCOUNT
    </code>
    or
    <code>
     TRITON_ACCOUNT
    </code>
    environment variables.
   </li>
   <li>
    <a name="user">
    </a>
    <a href="#user">
     <code>
      user
     </code>
    </a>
    - (Optional) The username of the Triton account used to authenticate with the Triton API. It can also be provided via the
    <code>
     SDC_USER
    </code>
    or
    <code>
     TRITON_USER
    </code>
    environment variables.
   </li>
   <li>
    <a name="url">
    </a>
    <a href="#url">
     <code>
      url
     </code>
    </a>
    - (Optional) The Manta API Endpoint. It can also be provided via the
    <code>
     MANTA_URL
    </code>
    environment variable. Defaults to
    <code>
     https://us-east.manta.joyent.com
    </code>
    .
   </li>
   <li>
    <a name="key_material">
    </a>
    <a href="#key_material">
     <code>
      key_material
     </code>
    </a>
    - (Optional) This is the private key of an SSH key associated with the Triton account to be used. If this is not set, the private key corresponding to the fingerprint in key_id must be available via an SSH Agent. Can be set via the
    <code>
     SDC_KEY_MATERIAL
    </code>
    or
    <code>
     TRITON_KEY_MATERIAL
    </code>
    environment variables.
   </li>
   <li>
    <a name="key_id">
    </a>
    <a href="#key_id">
     <code>
      key_id
     </code>
    </a>
    - (Required) This is the fingerprint of the public key matching the key specified in key_path. It can be obtained via the command ssh-keygen -l -E md5 -f /path/to/key. Can be set via the
    <code>
     SDC_KEY_ID
    </code>
    or
    <code>
     TRITON_KEY_ID
    </code>
    environment variables.
   </li>
   <li>
    <a name="insecure_skip_tls_verify">
    </a>
    <a href="#insecure_skip_tls_verify">
     <code>
      insecure_skip_tls_verify
     </code>
    </a>
    - (Optional) This allows skipping TLS verification of the Triton endpoint. It is useful when connecting to a temporary Triton installation such as Cloud-On-A-Laptop which does not generally use a certificate signed by a trusted root CA. Defaults to
    <code>
     false
    </code>
    .
   </li>
   <li>
    <a name="path">
    </a>
    <a href="#path">
     <code>
      path
     </code>
    </a>
    - (Required) The path relative to your private storage directory (
    <code>
     /$MANTA_USER/stor
    </code>
    ) where the state file will be stored.
    <strong>
     Please Note:
    </strong>
    If this path does not exist, then the backend will create this folder location as part of backend creation.
   </li>
   <li>
    <a name="object_name">
    </a>
    <a href="#object_name">
     <code>
      object_name
     </code>
    </a>
    - (Optional) The name of the state file (defaults to
    <code>
     terraform.tfstate
    </code>
    )
   </li>
  </ul>
 </div>
 
 <!-- ########### Standard Backends : pg ############### -->
 <!-- ########### https://www.terraform.io/docs/language/settings/backends/oss.html ############### --
 ><!-- ########### Standard Backends : pg ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="oss">
    <a class="anchor" href="#oss" name="oss">
     »
    </a>
    OSS
   </h1>
   <div id="inner-quicknav">
    <span id="inner-quicknav-trigger">
     Jump to Section
     <svg height="5" width="9" xmlns="http://www.w3.org/2000/svg">
      <path d="M8.811 1.067a.612.612 0 0 0 0-.884.655.655 0 0 0-.908 0L4.5 3.491 1.097.183a.655.655 0 0 0-.909 0 .615.615 0 0 0 0 .884l3.857 3.75a.655.655 0 0 0 .91 0l3.856-3.75z" fill-rule="evenodd">
      </path>
     </svg>
    </span>
    <ul class="dropdown">
     <li class="level-h2">
      <a href="#example-configuration">
       »
 Example Configuration
      </a>
     </li>
     <li class="level-h2">
      <a href="#data-source-configuration">
       »
 Data Source Configuration
      </a>
     </li>
     <li class="level-h2">
      <a href="#configuration-variables">
       »
 Configuration variables
      </a>
     </li>
    </ul>
   </div>
  </div>
  <p>
   <strong>
    Kind: Standard (with locking via TableStore)
   </strong>
  </p>
  <p>
   Stores the state as a given key in a given bucket on Stores
   <a href="https://www.alibabacloud.com/help/product/31815.htm">
    Alibaba Cloud OSS
   </a>
   .
 This backend also supports state locking and consistency checking via
   <a href="https://www.alibabacloud.com/help/doc-detail/27280.htm">
    Alibaba Cloud Table Store
   </a>
   , which can be enabled by setting
 the
   <code>
    tablestore_table
   </code>
   field to an existing TableStore table name.
  </p>
  <div class="alert alert-info" role="alert">
   <p>
    <strong>
     Note:
    </strong>
    The OSS backend is available from terraform version 0.12.2.
   </p>
  </div>
  <h2 id="example-configuration">
   <a class="anchor" href="#example-configuration" name="example-configuration">
    »
   </a>
   Example Configuration
  </h2>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">terraform</span> <span class="p">{</span>
   <span class="n">backend</span> <span class="s2">"oss"</span> <span class="p">{</span>
     <span class="n">bucket</span> <span class="o">=</span> <span class="s2">"bucket-for-terraform-state"</span>
     <span class="n">prefix</span>   <span class="o">=</span> <span class="s2">"path/mystate"</span>
     <span class="n">key</span>   <span class="o">=</span> <span class="s2">"version-1.tfstate"</span>
     <span class="n">region</span> <span class="o">=</span> <span class="s2">"cn-beijing"</span>
     <span class="n">tablestore_endpoint</span> <span class="o">=</span> <span class="s2">"https://terraform-remote.cn-hangzhou.ots.aliyuncs.com"</span>
     <span class="n">tablestore_table</span> <span class="o">=</span> <span class="s2">"statelock"</span>
   <span class="p">}</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <p>
   This assumes we have a
   <a href="https://registry.terraform.io/providers/aliyun/alicloud/latest/docs/resources/oss_bucket">
    OSS Bucket
   </a>
   created called
   <code>
    bucket-for-terraform-state
   </code>
   ,
 a
   <a href="https://registry.terraform.io/providers/aliyun/alicloud/latest/docs/resources/ots_instance">
    OTS Instance
   </a>
   called
   <code>
    terraform-remote
   </code>
   and
 a
   <a href="https://registry.terraform.io/providers/aliyun/alicloud/latest/docs/resources/ots_table">
    OTS TableStore
   </a>
   called
   <code>
    statelock
   </code>
   . The
 Terraform state will be written into the file
   <code>
    path/mystate/version-1.tfstate
   </code>
   . The
   <code>
    TableStore
   </code>
   must have a primary key named
   <code>
    LockID
   </code>
   of type
   <code>
    String
   </code>
   .
  </p>
  <h2 id="data-source-configuration">
   <a class="anchor" href="#data-source-configuration" name="data-source-configuration">
    »
   </a>
   Data Source Configuration
  </h2>
  <p>
   To make use of the OSS remote state in another configuration, use the
   <a href="/docs/language/state/remote-state-data.html">
    <code>
     terraform_remote_state
    </code>
    data
 source
   </a>
   .
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">terraform</span> <span class="p">{</span>
   <span class="n">backend</span> <span class="s2">"oss"</span> <span class="p">{</span>
     <span class="n">bucket</span> <span class="o">=</span> <span class="s2">"remote-state-dns"</span>
     <span class="n">prefix</span> <span class="o">=</span> <span class="s2">"mystate/state"</span>
     <span class="n">key</span>    <span class="o">=</span> <span class="s2">"terraform.tfstate"</span>
     <span class="n">region</span> <span class="o">=</span> <span class="s2">"cn-beijing"</span>
   <span class="p">}</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <p>
   The
   <code>
    terraform_remote_state
   </code>
   data source will return all of the root outputs
 defined in the referenced remote state, an example output might look like:
  </p>
  <div class="highlight">
   <pre class="highlight plaintext"><code>data "terraform_remote_state" "network" {
     backend   = "oss"
     config    = {
         bucket = "remote-state-dns"
         key    = "terraform.tfstate"
         prefix = "mystate/state"
         region = "cn-beijing"
     }
     outputs   = {}
     workspace = "default"
 }
 </code></pre>
  </div>
  <h2 id="configuration-variables">
   <a class="anchor" href="#configuration-variables" name="configuration-variables">
    »
   </a>
   Configuration variables
  </h2>
  <p>
   The following configuration options or environment variables are supported:
  </p>
  <ul>
   <li>
    <a name="access_key">
    </a>
    <a href="#access_key">
     <code>
      access_key
     </code>
    </a>
    - (Optional) Alibaba Cloud access key. It supports environment variables
    <code>
     ALICLOUD_ACCESS_KEY
    </code>
    and
    <code>
     ALICLOUD_ACCESS_KEY_ID
    </code>
    .
   </li>
   <li>
    <a name="secret_key">
    </a>
    <a href="#secret_key">
     <code>
      secret_key
     </code>
    </a>
    - (Optional) Alibaba Cloud secret access key. It supports environment variables
    <code>
     ALICLOUD_SECRET_KEY
    </code>
    and
    <code>
     ALICLOUD_ACCESS_KEY_SECRET
    </code>
    .
   </li>
   <li>
    <a name="security_token">
    </a>
    <a href="#security_token">
     <code>
      security_token
     </code>
    </a>
    - (Optional) STS access token. It supports environment variable
    <code>
     ALICLOUD_SECURITY_TOKEN
    </code>
    .
   </li>
   <li>
    <a name="ecs_role_name">
    </a>
    <a href="#ecs_role_name">
     <code>
      ecs_role_name
     </code>
    </a>
    - (Optional, Available in 0.12.14+) The RAM Role Name attached on a ECS instance for API operations. You can retrieve this from the 'Access Control' section of the Alibaba Cloud console.
   </li>
   <li>
    <a name="region">
    </a>
    <a href="#region">
     <code>
      region
     </code>
    </a>
    - (Optional) The region of the OSS bucket. It supports environment variables
    <code>
     ALICLOUD_REGION
    </code>
    and
    <code>
     ALICLOUD_DEFAULT_REGION
    </code>
    .
   </li>
   <li>
    <a name="endpoint">
    </a>
    <a href="#endpoint">
     <code>
      endpoint
     </code>
    </a>
    - (Optional) A custom endpoint for the OSS API. It supports environment variables
    <code>
     ALICLOUD_OSS_ENDPOINT
    </code>
    and
    <code>
     OSS_ENDPOINT
    </code>
    .
   </li>
   <li>
    <a name="bucket">
    </a>
    <a href="#bucket">
     <code>
      bucket
     </code>
    </a>
    - (Required) The name of the OSS bucket.
   </li>
   <li>
    <a name="prefix">
    </a>
    <a href="#prefix">
     <code>
      prefix
     </code>
    </a>
    - (Opeional) The path directory of the state file will be stored. Default to "env:".
   </li>
   <li>
    <a name="key">
    </a>
    <a href="#key">
     <code>
      key
     </code>
    </a>
    - (Optional) The name of the state file. Defaults to
    <code>
     terraform.tfstate
    </code>
    .
   </li>
   <li>
    <a name="tablestore_endpoint">
    </a>
    <a href="#tablestore_endpoint">
     <code>
      tablestore_endpoint
     </code>
    </a>
    /
    <code>
     ALICLOUD_TABLESTORE_ENDPOINT
    </code>
    - (Optional) A custom endpoint for the TableStore API.
   </li>
   <li>
    <a name="tablestore_table">
    </a>
    <a href="#tablestore_table">
     <code>
      tablestore_table
     </code>
    </a>
    - (Optional) A TableStore table for state locking and consistency. The table must have a primary key named
    <code>
     LockID
    </code>
    of type
    <code>
     String
    </code>
    .
   </li>
   <li>
    <a name="encrypt">
    </a>
    <a href="#encrypt">
     <code>
      encrypt
     </code>
    </a>
    - (Optional) Whether to enable server side
 encryption of the state file. If it is true, OSS will use 'AES256' encryption algorithm to encrypt state file.
   </li>
   <li>
    <a name="acl">
    </a>
    <a href="#acl">
     <code>
      acl
     </code>
    </a>
    - (Optional)
    <a href="https://www.alibabacloud.com/help/doc-detail/52284.htm">
     Object
 ACL
    </a>
    to be applied to the state file.
   </li>
   <li>
    <a name="shared_credentials_file">
    </a>
    <a href="#shared_credentials_file">
     <code>
      shared_credentials_file
     </code>
    </a>
    - (Optional, Available in 0.12.8+) This is the path to the shared credentials file. It can also be sourced from the
    <code>
     ALICLOUD_SHARED_CREDENTIALS_FILE
    </code>
    environment variable. If this is not set and a profile is specified,
    <code>
     ~/.aliyun/config.json
    </code>
    will be used.
   </li>
   <li>
    <a name="profile">
    </a>
    <a href="#profile">
     <code>
      profile
     </code>
    </a>
    - (Optional, Available in 0.12.8+)  This is the Alibaba Cloud profile name as set in the shared credentials file. It can also be sourced from the
    <code>
     ALICLOUD_PROFILE
    </code>
    environment variable.
   </li>
   <li>
    <a name="assume_role">
    </a>
    <a href="#assume_role">
     <code>
      assume_role
     </code>
    </a>
    - (Optional, Available in 0.12.6+) If provided with a role ARN, will attempt to assume this role using the supplied credentials.
   </li>
  </ul>
  <p>
   The nested
   <code>
    assume_role
   </code>
   block supports the following:
  </p>
  <ul>
   <li>
    <p>
     <a name="role_arn">
     </a>
     <a href="#role_arn">
      <code>
       role_arn
      </code>
     </a>
     - (Required) The ARN of the role to assume. If ARN is set to an empty string, it does not perform role switching. It supports environment variable
     <code>
      ALICLOUD_ASSUME_ROLE_ARN
     </code>
     .
 Terraform executes configuration on account with provided credentials.
    </p>
   </li>
   <li>
    <p>
     <a name="policy">
     </a>
     <a href="#policy">
      <code>
       policy
      </code>
     </a>
     - (Optional) A more restrictive policy to apply to the temporary credentials. This gives you a way to further restrict the permissions for the resulting temporary
 security credentials. You cannot use this policy to grant permissions which exceed those of the role that is being assumed.
    </p>
   </li>
   <li>
    <p>
     <a name="session_name">
     </a>
     <a href="#session_name">
      <code>
       session_name
      </code>
     </a>
     - (Optional) The session name to use when assuming the role. If omitted, 'terraform' is passed to the AssumeRole call as session name. It supports environment variable
     <code>
      ALICLOUD_ASSUME_ROLE_SESSION_NAME
     </code>
     .
    </p>
   </li>
   <li>
    <p>
     <a name="session_expiration">
     </a>
     <a href="#session_expiration">
      <code>
       session_expiration
      </code>
     </a>
     - (Optional) The time after which the established session for assuming role expires. Valid value range: [900-3600] seconds. Default to 3600 (in this case Alibaba Cloud use own default value). It supports environment variable
     <code>
      ALICLOUD_ASSUME_ROLE_SESSION_EXPIRATION
     </code>
     .
    </p>
   </li>
  </ul>
  <div class="alert alert-info" role="alert">
   <p>
    <strong>
     Note:
    </strong>
    If you want to store state in the custom OSS endpoint, you can specify a environment variable
    <code>
     OSS_ENDPOINT
    </code>
    , like "oss-cn-beijing-internal.aliyuncs.com"
   </p>
  </div>
 </div>
 
 <!-- ########### Standard Backends : s3 ############### -->
 <!-- ########### https://www.terraform.io/docs/language/settings/backends/pg.html ############### --
 ><!-- ########### Standard Backends : s3 ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="pg">
    <a class="anchor" href="#pg" name="pg">
     »
    </a>
    pg
   </h1>
   <div id="inner-quicknav">
    <span id="inner-quicknav-trigger">
     Jump to Section
     <svg height="5" width="9" xmlns="http://www.w3.org/2000/svg">
      <path d="M8.811 1.067a.612.612 0 0 0 0-.884.655.655 0 0 0-.908 0L4.5 3.491 1.097.183a.655.655 0 0 0-.909 0 .615.615 0 0 0 0 .884l3.857 3.75a.655.655 0 0 0 .91 0l3.856-3.75z" fill-rule="evenodd">
      </path>
     </svg>
    </span>
    <ul class="dropdown">
     <li class="level-h2">
      <a href="#example-configuration">
       »
 Example Configuration
      </a>
     </li>
     <li class="level-h2">
      <a href="#data-source-configuration">
       »
 Data Source Configuration
      </a>
     </li>
     <li class="level-h2">
      <a href="#configuration-variables">
       »
 Configuration Variables
      </a>
     </li>
     <li class="level-h2">
      <a href="#technical-design">
       »
 Technical Design
      </a>
     </li>
    </ul>
   </div>
  </div>
  <p>
   <strong>
    Kind: Standard (with locking)
   </strong>
  </p>
  <p>
   Stores the state in a
   <a href="https://www.postgresql.org">
    Postgres database
   </a>
   version 9.5 or newer.
  </p>
  <p>
   This backend supports
   <a href="/docs/language/state/locking.html">
    state locking
   </a>
   .
  </p>
  <h2 id="example-configuration">
   <a class="anchor" href="#example-configuration" name="example-configuration">
    »
   </a>
   Example Configuration
  </h2>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">terraform</span> <span class="p">{</span>
   <span class="n">backend</span> <span class="s2">"pg"</span> <span class="p">{</span>
     <span class="n">conn_str</span> <span class="o">=</span> <span class="s2">"postgres://user:pass@db.example.com/terraform_backend"</span>
   <span class="p">}</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <p>
   Before initializing the backend with
   <code>
    terraform init
   </code>
   , the database must already exist:
  </p>
  <div class="highlight">
   <pre class="highlight plaintext"><code>createdb terraform_backend
 </code></pre>
  </div>
  <p>
   This
   <code>
    createdb
   </code>
   command is found in
   <a href="https://www.postgresql.org/docs/9.5/reference-client.html">
    Postgres client applications
   </a>
   which are installed along with the database server.
  </p>
  <p>
   We recommend using a
   <a href="/docs/language/settings/backends/configuration.html#partial-configuration">
    partial configuration
   </a>
   for the
   <code>
    conn_str
   </code>
   variable, because it typically contains access credentials that should not be committed to source control:
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">terraform</span> <span class="p">{</span>
   <span class="n">backend</span> <span class="s2">"pg"</span> <span class="p">{}</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <p>
   Then, set the credentials when initializing the configuration:
  </p>
  <div class="highlight">
   <pre class="highlight plaintext"><code>terraform init -backend-config="conn_str=postgres://user:pass@db.example.com/terraform_backend"
 </code></pre>
  </div>
  <p>
   To use a Postgres server running on the same machine as Terraform, configure localhost with SSL disabled:
  </p>
  <div class="highlight">
   <pre class="highlight plaintext"><code>terraform init -backend-config="conn_str=postgres://localhost/terraform_backend?sslmode=disable"
 </code></pre>
  </div>
  <h2 id="data-source-configuration">
   <a class="anchor" href="#data-source-configuration" name="data-source-configuration">
    »
   </a>
   Data Source Configuration
  </h2>
  <p>
   To make use of the pg remote state in another configuration, use the
   <a href="/docs/language/state/remote-state-data.html">
    <code>
     terraform_remote_state
    </code>
    data source
   </a>
   .
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">data</span> <span class="s2">"terraform_remote_state"</span> <span class="s2">"network"</span> <span class="p">{</span>
   <span class="n">backend</span> <span class="o">=</span> <span class="s2">"pg"</span>
   <span class="n">config</span> <span class="p">{</span>
     <span class="n">conn_str</span> <span class="o">=</span> <span class="s2">"postgres://localhost/terraform_backend"</span>
   <span class="p">}</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <h2 id="configuration-variables">
   <a class="anchor" href="#configuration-variables" name="configuration-variables">
    »
   </a>
   Configuration Variables
  </h2>
  <p>
   The following configuration options or environment variables are supported:
  </p>
  <ul>
   <li>
    <a name="conn_str">
    </a>
    <a href="#conn_str">
     <code>
      conn_str
     </code>
    </a>
    - (Required) Postgres connection string; a
    <code>
     postgres://
    </code>
    URL
   </li>
   <li>
    <a name="schema_name">
    </a>
    <a href="#schema_name">
     <code>
      schema_name
     </code>
    </a>
    - Name of the automatically-managed Postgres schema, default
    <code>
     terraform_remote_state
    </code>
    .
   </li>
   <li>
    <a name="skip_schema_creation">
    </a>
    <a href="#skip_schema_creation">
     <code>
      skip_schema_creation
     </code>
    </a>
    - If set to
    <code>
     true
    </code>
    , the Postgres schema must already exist. Terraform won't try to create the schema. Useful when the Postgres user does not have "create schema" permission on the database.
   </li>
   <li>
    <a name="skip_table_creation">
    </a>
    <a href="#skip_table_creation">
     <code>
      skip_table_creation
     </code>
    </a>
    - If set to
    <code>
     true
    </code>
    , the Postgres table must already exist. Terraform won't try to create the table. Useful when the Postgres user does not have "create table" permission on the database.
   </li>
   <li>
    <a name="skip_index_creation">
    </a>
    <a href="#skip_index_creation">
     <code>
      skip_index_creation
     </code>
    </a>
    - If set to
    <code>
     true
    </code>
    , the Postgres index must already exist. Terraform won't try to create the index. Useful when the Postgres user does not have "create index" permission on the database.
   </li>
  </ul>
  <h2 id="technical-design">
   <a class="anchor" href="#technical-design" name="technical-design">
    »
   </a>
   Technical Design
  </h2>
  <p>
   Postgres version 9.5 or newer is required to support advisory locks and the "ON CONFLICT" upsert syntax.
  </p>
  <p>
   This backend creates one table
   <strong>
    states
   </strong>
   in the automatically-managed Postgres schema configured by the
   <code>
    schema_name
   </code>
   variable.
  </p>
  <p>
   The table is keyed by the
   <a href="/docs/language/state/workspaces.html">
    workspace
   </a>
   name. If workspaces are not in use, the name
   <code>
    default
   </code>
   is used.
  </p>
  <p>
   Locking is supported using
   <a href="https://www.postgresql.org/docs/9.5/explicit-locking.html#ADVISORY-LOCKS">
    Postgres advisory locks
   </a>
   .
   <a href="https://www.terraform.io/docs/cli/commands/force-unlock.html">
    <code>
     force-unlock
    </code>
   </a>
   is not supported, because these database-native locks will automatically unlock when the session is aborted or the connection fails. To see outstanding locks in a Postgres server, use the
   <a href="https://www.postgresql.org/docs/9.5/view-pg-locks.html">
    <code>
     pg_locks
    </code>
    system view
   </a>
   .
  </p>
  <p>
   The
   <strong>
    states
   </strong>
   table contains:
  </p>
  <ul>
   <li>
    a serial integer
    <code>
     id
    </code>
    , used as the key for advisory locks
   </li>
   <li>
    the workspace
    <code>
     name
    </code>
    key as
    <em>
     text
    </em>
    with a unique index
   </li>
   <li>
    the Terraform state
    <code>
     data
    </code>
    as
    <em>
     text
    </em>
   </li>
  </ul>
 </div>
 
 <!-- ########### Standard Backends : swift ############### -->
 <!-- ########### https://www.terraform.io/docs/language/settings/backends/s3.html ############### --
 ><!-- ########### Standard Backends : swift ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="s3">
    <a class="anchor" href="#s3" name="s3">
     »
    </a>
    S3
   </h1>
   <div id="inner-quicknav">
    <span id="inner-quicknav-trigger">
     Jump to Section
     <svg height="5" width="9" xmlns="http://www.w3.org/2000/svg">
      <path d="M8.811 1.067a.612.612 0 0 0 0-.884.655.655 0 0 0-.908 0L4.5 3.491 1.097.183a.655.655 0 0 0-.909 0 .615.615 0 0 0 0 .884l3.857 3.75a.655.655 0 0 0 .91 0l3.856-3.75z" fill-rule="evenodd">
      </path>
     </svg>
    </span>
    <ul class="dropdown">
     <li class="level-h2">
      <a href="#example-configuration">
       »
 Example Configuration
      </a>
     </li>
     <li class="level-h3">
      <a href="#s3-bucket-permissions">
       »
 S3 Bucket Permissions
      </a>
     </li>
     <li class="level-h3">
      <a href="#dynamodb-table-permissions">
       »
 DynamoDB Table Permissions
      </a>
     </li>
     <li class="level-h2">
      <a href="#data-source-configuration">
       »
 Data Source Configuration
      </a>
     </li>
     <li class="level-h2">
      <a href="#configuration">
       »
 Configuration
      </a>
     </li>
     <li class="level-h3">
      <a href="#credentials-and-shared-configuration">
       »
 Credentials and Shared Configuration
      </a>
     </li>
     <li class="level-h4">
      <a href="#assume-role-configuration">
       »
 Assume Role Configuration
      </a>
     </li>
     <li class="level-h3">
      <a href="#s3-state-storage">
       »
 S3 State Storage
      </a>
     </li>
     <li class="level-h3">
      <a href="#dynamodb-state-locking">
       »
 DynamoDB State Locking
      </a>
     </li>
     <li class="level-h2">
      <a href="#multi-account-aws-architecture">
       »
 Multi-account AWS Architecture
      </a>
     </li>
     <li class="level-h3">
      <a href="#administrative-account-setup">
       »
 Administrative Account Setup
      </a>
     </li>
     <li class="level-h3">
      <a href="#environment-account-setup">
       »
 Environment Account Setup
      </a>
     </li>
     <li class="level-h3">
      <a href="#delegating-access">
       »
 Delegating Access
      </a>
     </li>
     <li class="level-h3">
      <a href="#creating-and-selecting-workspaces">
       »
 Creating and Selecting Workspaces
      </a>
     </li>
     <li class="level-h3">
      <a href="#running-terraform-in-amazon-ec2">
       »
 Running Terraform in Amazon EC2
      </a>
     </li>
     <li class="level-h3">
      <a href="#protecting-access-to-workspace-state">
       »
 Protecting Access to Workspace State
      </a>
     </li>
     <li class="level-h3">
      <a href="#configuring-custom-user-agent-information">
       »
 Configuring Custom User-Agent Information
      </a>
     </li>
    </ul>
   </div>
  </div>
  <p>
   <strong>
    Kind: Standard (with locking via DynamoDB)
   </strong>
  </p>
  <p>
   Stores the state as a given key in a given bucket on
   <a href="https://aws.amazon.com/s3/">
    Amazon S3
   </a>
   .
 This backend also supports state locking and consistency checking via
   <a href="https://aws.amazon.com/dynamodb/">
    Dynamo DB
   </a>
   , which can be enabled by setting
 the
   <code>
    dynamodb_table
   </code>
   field to an existing DynamoDB table name.
 A single DynamoDB table can be used to lock multiple remote state files. Terraform generates key names that include the values of the
   <code>
    bucket
   </code>
   and
   <code>
    key
   </code>
   variables.
  </p>
  <div class="alert alert-warning" role="alert">
   <p>
    <strong>
     Warning!
    </strong>
    It is highly recommended that you enable
    <a href="http://docs.aws.amazon.com/AmazonS3/latest/UG/enable-bucket-versioning.html">
     Bucket Versioning
    </a>
    on the S3 bucket to allow for state recovery in the case of accidental deletions and human error.
   </p>
  </div>
  <h2 id="example-configuration">
   <a class="anchor" href="#example-configuration" name="example-configuration">
    »
   </a>
   Example Configuration
  </h2>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">terraform</span> <span class="p">{</span>
   <span class="n">backend</span> <span class="s2">"s3"</span> <span class="p">{</span>
     <span class="n">bucket</span> <span class="o">=</span> <span class="s2">"mybucket"</span>
     <span class="n">key</span>    <span class="o">=</span> <span class="s2">"path/to/my/key"</span>
     <span class="n">region</span> <span class="o">=</span> <span class="s2">"us-east-1"</span>
   <span class="p">}</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <p>
   This assumes we have a bucket created called
   <code>
    mybucket
   </code>
   . The
 Terraform state is written to the key
   <code>
    path/to/my/key
   </code>
   .
  </p>
  <p>
   Note that for the access credentials we recommend using a
   <a href="/docs/language/settings/backends/configuration.html#partial-configuration">
    partial configuration
   </a>
   .
  </p>
  <h3 id="s3-bucket-permissions">
   <a class="anchor" href="#s3-bucket-permissions" name="s3-bucket-permissions">
    »
   </a>
   S3 Bucket Permissions
  </h3>
  <p>
   Terraform will need the following AWS IAM permissions on
 the target backend bucket:
  </p>
  <ul>
   <li>
    <a name="s3-listbucket">
    </a>
    <a href="#s3-listbucket">
     <code>
      s3:ListBucket
     </code>
    </a>
    on
    <code>
     arn:aws:s3:::mybucket
    </code>
   </li>
   <li>
    <a name="s3-getobject">
    </a>
    <a href="#s3-getobject">
     <code>
      s3:GetObject
     </code>
    </a>
    on
    <code>
     arn:aws:s3:::mybucket/path/to/my/key
    </code>
   </li>
   <li>
    <a name="s3-putobject">
    </a>
    <a href="#s3-putobject">
     <code>
      s3:PutObject
     </code>
    </a>
    on
    <code>
     arn:aws:s3:::mybucket/path/to/my/key
    </code>
   </li>
  </ul>
  <p>
   This is seen in the following AWS IAM Statement:
  </p>
  <div class="highlight">
   <pre class="highlight json"><code><span class="p">{</span><span class="w">
   </span><span class="nl">"Version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2012-10-17"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"Statement"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
     </span><span class="p">{</span><span class="w">
       </span><span class="nl">"Effect"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Allow"</span><span class="p">,</span><span class="w">
       </span><span class="nl">"Action"</span><span class="p">:</span><span class="w"> </span><span class="s2">"s3:ListBucket"</span><span class="p">,</span><span class="w">
       </span><span class="nl">"Resource"</span><span class="p">:</span><span class="w"> </span><span class="s2">"arn:aws:s3:::mybucket"</span><span class="w">
     </span><span class="p">},</span><span class="w">
     </span><span class="p">{</span><span class="w">
       </span><span class="nl">"Effect"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Allow"</span><span class="p">,</span><span class="w">
       </span><span class="nl">"Action"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"s3:GetObject"</span><span class="p">,</span><span class="w"> </span><span class="s2">"s3:PutObject"</span><span class="p">],</span><span class="w">
       </span><span class="nl">"Resource"</span><span class="p">:</span><span class="w"> </span><span class="s2">"arn:aws:s3:::mybucket/path/to/my/key"</span><span class="w">
     </span><span class="p">}</span><span class="w">
   </span><span class="p">]</span><span class="w">
 </span><span class="p">}</span><span class="w">
 </span></code></pre>
  </div>
  <div class="alert alert-info" role="alert">
   <p>
    <strong>
     Note:
    </strong>
    AWS can control access to S3 buckets with either IAM policies
 attached to users/groups/roles (like the example above) or resource policies
 attached to bucket objects (which look similar but also require a
    <code>
     Principal
    </code>
    to
 indicate which entity has those permissions). For more details, see Amazon's
 documentation about
    <a href="https://docs.aws.amazon.com/AmazonS3/latest/dev/s3-access-control.html">
     S3 access control
    </a>
    .
   </p>
  </div>
  <h3 id="dynamodb-table-permissions">
   <a class="anchor" href="#dynamodb-table-permissions" name="dynamodb-table-permissions">
    »
   </a>
   DynamoDB Table Permissions
  </h3>
  <p>
   If you are using state locking, Terraform will need the following AWS IAM
 permissions on the DynamoDB table (
   <code>
    arn:aws:dynamodb:::table/mytable
   </code>
   ):
  </p>
  <ul>
   <li>
    <a name="dynamodb-getitem">
    </a>
    <a href="#dynamodb-getitem">
     <code>
      dynamodb:GetItem
     </code>
    </a>
   </li>
   <li>
    <a name="dynamodb-putitem">
    </a>
    <a href="#dynamodb-putitem">
     <code>
      dynamodb:PutItem
     </code>
    </a>
   </li>
   <li>
    <a name="dynamodb-deleteitem">
    </a>
    <a href="#dynamodb-deleteitem">
     <code>
      dynamodb:DeleteItem
     </code>
    </a>
   </li>
  </ul>
  <p>
   This is seen in the following AWS IAM Statement:
  </p>
  <div class="highlight">
   <pre class="highlight json"><code><span class="p">{</span><span class="w">
   </span><span class="nl">"Version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2012-10-17"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"Statement"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
     </span><span class="p">{</span><span class="w">
       </span><span class="nl">"Effect"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Allow"</span><span class="p">,</span><span class="w">
       </span><span class="nl">"Action"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
         </span><span class="s2">"dynamodb:GetItem"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"dynamodb:PutItem"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"dynamodb:DeleteItem"</span><span class="w">
       </span><span class="p">],</span><span class="w">
       </span><span class="nl">"Resource"</span><span class="p">:</span><span class="w"> </span><span class="s2">"arn:aws:dynamodb:*:*:table/mytable"</span><span class="w">
     </span><span class="p">}</span><span class="w">
   </span><span class="p">]</span><span class="w">
 </span><span class="p">}</span><span class="w">
 </span></code></pre>
  </div>
  <h2 id="data-source-configuration">
   <a class="anchor" href="#data-source-configuration" name="data-source-configuration">
    »
   </a>
   Data Source Configuration
  </h2>
  <p>
   To make use of the S3 remote state in another configuration, use the
   <a href="/docs/language/state/remote-state-data.html">
    <code>
     terraform_remote_state
    </code>
    data
 source
   </a>
   .
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">data</span> <span class="s2">"terraform_remote_state"</span> <span class="s2">"network"</span> <span class="p">{</span>
   <span class="n">backend</span> <span class="o">=</span> <span class="s2">"s3"</span>
   <span class="n">config</span> <span class="o">=</span> <span class="p">{</span>
     <span class="n">bucket</span> <span class="o">=</span> <span class="s2">"terraform-state-prod"</span>
     <span class="n">key</span>    <span class="o">=</span> <span class="s2">"network/terraform.tfstate"</span>
     <span class="n">region</span> <span class="o">=</span> <span class="s2">"us-east-1"</span>
   <span class="p">}</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <p>
   The
   <code>
    terraform_remote_state
   </code>
   data source will return all of the root module
 outputs defined in the referenced remote state (but not any outputs from
 nested modules unless they are explicitly output again in the root). An
 example output might look like:
  </p>
  <div class="highlight">
   <pre class="highlight plaintext"><code>data.terraform_remote_state.network:
   id = 2016-10-29 01:57:59.780010914 +0000 UTC
   addresses.# = 2
   addresses.0 = 52.207.220.222
   addresses.1 = 54.196.78.166
   backend = s3
   config.% = 3
   config.bucket = terraform-state-prod
   config.key = network/terraform.tfstate
   config.region = us-east-1
   elb_address = web-elb-790251200.us-east-1.elb.amazonaws.com
   public_subnet_id = subnet-1e05dd33
 </code></pre>
  </div>
  <h2 id="configuration">
   <a class="anchor" href="#configuration" name="configuration">
    »
   </a>
   Configuration
  </h2>
  <p>
   This backend requires the configuration of the AWS Region and S3 state storage. Other configuration, such as enabling DynamoDB state locking, is optional.
  </p>
  <h3 id="credentials-and-shared-configuration">
   <a class="anchor" href="#credentials-and-shared-configuration" name="credentials-and-shared-configuration">
    »
   </a>
   Credentials and Shared Configuration
  </h3>
  <p>
   The following configuration is required:
  </p>
  <ul>
   <li>
    <a name="region">
    </a>
    <a href="#region">
     <code>
      region
     </code>
    </a>
    - (Required) AWS Region of the S3 Bucket and DynamoDB Table (if used). This can also be sourced from the
    <code>
     AWS_DEFAULT_REGION
    </code>
    and
    <code>
     AWS_REGION
    </code>
    environment variables.
   </li>
  </ul>
  <p>
   The following configuration is optional:
  </p>
  <ul>
   <li>
    <a name="access_key">
    </a>
    <a href="#access_key">
     <code>
      access_key
     </code>
    </a>
    - (Optional) AWS access key. If configured, must also configure
    <code>
     secret_key
    </code>
    . This can also be sourced from the
    <code>
     AWS_ACCESS_KEY_ID
    </code>
    environment variable, AWS shared credentials file (e.g.
    <code>
     ~/.aws/credentials
    </code>
    ), or AWS shared configuration file (e.g.
    <code>
     ~/.aws/config
    </code>
    ).
   </li>
   <li>
    <a name="secret_key">
    </a>
    <a href="#secret_key">
     <code>
      secret_key
     </code>
    </a>
    - (Optional) AWS access key. If configured, must also configure
    <code>
     access_key
    </code>
    . This can also be sourced from the
    <code>
     AWS_SECRET_ACCESS_KEY
    </code>
    environment variable, AWS shared credentials file (e.g.
    <code>
     ~/.aws/credentials
    </code>
    ), or AWS shared configuration file (e.g.
    <code>
     ~/.aws/config
    </code>
    ).
   </li>
   <li>
    <a name="iam_endpoint">
    </a>
    <a href="#iam_endpoint">
     <code>
      iam_endpoint
     </code>
    </a>
    - (Optional) Custom endpoint for the AWS Identity and Access Management (IAM) API. This can also be sourced from the
    <code>
     AWS_IAM_ENDPOINT
    </code>
    environment variable.
   </li>
   <li>
    <a name="max_retries">
    </a>
    <a href="#max_retries">
     <code>
      max_retries
     </code>
    </a>
    - (Optional) The maximum number of times an AWS API request is retried on retryable failure. Defaults to 5.
   </li>
   <li>
    <a name="profile">
    </a>
    <a href="#profile">
     <code>
      profile
     </code>
    </a>
    - (Optional) Name of AWS profile in AWS shared credentials file (e.g.
    <code>
     ~/.aws/credentials
    </code>
    ) or AWS shared configuration file (e.g.
    <code>
     ~/.aws/config
    </code>
    ) to use for credentials and/or configuration. This can also be sourced from the
    <code>
     AWS_PROFILE
    </code>
    environment variable.
   </li>
   <li>
    <a name="shared_credentials_file">
    </a>
    <a href="#shared_credentials_file">
     <code>
      shared_credentials_file
     </code>
    </a>
    - (Optional) Path to the AWS shared credentials file. Defaults to
    <code>
     ~/.aws/credentials
    </code>
    .
   </li>
   <li>
    <a name="skip_credentials_validation">
    </a>
    <a href="#skip_credentials_validation">
     <code>
      skip_credentials_validation
     </code>
    </a>
    - (Optional) Skip credentials validation via the STS API.
   </li>
   <li>
    <a name="skip_region_validation">
    </a>
    <a href="#skip_region_validation">
     <code>
      skip_region_validation
     </code>
    </a>
    - (Optional) Skip validation of provided region name.
   </li>
   <li>
    <a name="skip_metadata_api_check">
    </a>
    <a href="#skip_metadata_api_check">
     <code>
      skip_metadata_api_check
     </code>
    </a>
    - (Optional) Skip usage of EC2 Metadata API.
   </li>
   <li>
    <a name="sts_endpoint">
    </a>
    <a href="#sts_endpoint">
     <code>
      sts_endpoint
     </code>
    </a>
    - (Optional) Custom endpoint for the AWS Security Token Service (STS) API. This can also be sourced from the
    <code>
     AWS_STS_ENDPOINT
    </code>
    environment variable.
   </li>
   <li>
    <a name="token">
    </a>
    <a href="#token">
     <code>
      token
     </code>
    </a>
    - (Optional) Multi-Factor Authentication (MFA) token. This can also be sourced from the
    <code>
     AWS_SESSION_TOKEN
    </code>
    environment variable.
   </li>
  </ul>
  <h4 id="assume-role-configuration">
   <a class="anchor" href="#assume-role-configuration" name="assume-role-configuration">
    »
   </a>
   Assume Role Configuration
  </h4>
  <p>
   The following configuration is optional:
  </p>
  <ul>
   <li>
    <a name="assume_role_duration_seconds">
    </a>
    <a href="#assume_role_duration_seconds">
     <code>
      assume_role_duration_seconds
     </code>
    </a>
    - (Optional) Number of seconds to restrict the assume role session duration.
   </li>
   <li>
    <a name="assume_role_policy">
    </a>
    <a href="#assume_role_policy">
     <code>
      assume_role_policy
     </code>
    </a>
    - (Optional) IAM Policy JSON describing further restricting permissions for the IAM Role being assumed.
   </li>
   <li>
    <a name="assume_role_policy_arns">
    </a>
    <a href="#assume_role_policy_arns">
     <code>
      assume_role_policy_arns
     </code>
    </a>
    - (Optional) Set of Amazon Resource Names (ARNs) of IAM Policies describing further restricting permissions for the IAM Role being assumed.
   </li>
   <li>
    <a name="assume_role_tags">
    </a>
    <a href="#assume_role_tags">
     <code>
      assume_role_tags
     </code>
    </a>
    - (Optional) Map of assume role session tags.
   </li>
   <li>
    <a name="assume_role_transitive_tag_keys">
    </a>
    <a href="#assume_role_transitive_tag_keys">
     <code>
      assume_role_transitive_tag_keys
     </code>
    </a>
    - (Optional) Set of assume role session tag keys to pass to any subsequent sessions.
   </li>
   <li>
    <a name="external_id">
    </a>
    <a href="#external_id">
     <code>
      external_id
     </code>
    </a>
    - (Optional) External identifier to use when assuming the role.
   </li>
   <li>
    <a name="role_arn">
    </a>
    <a href="#role_arn">
     <code>
      role_arn
     </code>
    </a>
    - (Optional) Amazon Resource Name (ARN) of the IAM Role to assume.
   </li>
   <li>
    <a name="session_name">
    </a>
    <a href="#session_name">
     <code>
      session_name
     </code>
    </a>
    - (Optional) Session name to use when assuming the role.
   </li>
  </ul>
  <h3 id="s3-state-storage">
   <a class="anchor" href="#s3-state-storage" name="s3-state-storage">
    »
   </a>
   S3 State Storage
  </h3>
  <p>
   The following configuration is required:
  </p>
  <ul>
   <li>
    <a name="bucket">
    </a>
    <a href="#bucket">
     <code>
      bucket
     </code>
    </a>
    - (Required) Name of the S3 Bucket.
   </li>
   <li>
    <a name="key">
    </a>
    <a href="#key">
     <code>
      key
     </code>
    </a>
    - (Required) Path to the state file inside the S3 Bucket. When using a non-default
    <a href="/docs/language/state/workspaces.html">
     workspace
    </a>
    , the state path will be
    <code>
     /workspace_key_prefix/workspace_name/key
    </code>
    (see also the
    <code>
     workspace_key_prefix
    </code>
    configuration).
   </li>
  </ul>
  <p>
   The following configuration is optional:
  </p>
  <ul>
   <li>
    <a name="acl">
    </a>
    <a href="#acl">
     <code>
      acl
     </code>
    </a>
    - (Optional)
    <a href="https://docs.aws.amazon.com/AmazonS3/latest/dev/acl-overview.html#canned-acl">
     Canned ACL
    </a>
    to be applied to the state file.
   </li>
   <li>
    <a name="encrypt">
    </a>
    <a href="#encrypt">
     <code>
      encrypt
     </code>
    </a>
    - (Optional) Enable
    <a href="https://docs.aws.amazon.com/AmazonS3/latest/dev/UsingServerSideEncryption.html">
     server side encryption
    </a>
    of the state file.
   </li>
   <li>
    <a name="endpoint">
    </a>
    <a href="#endpoint">
     <code>
      endpoint
     </code>
    </a>
    - (Optional) Custom endpoint for the AWS S3 API. This can also be sourced from the
    <code>
     AWS_S3_ENDPOINT
    </code>
    environment variable.
   </li>
   <li>
    <a name="force_path_style">
    </a>
    <a href="#force_path_style">
     <code>
      force_path_style
     </code>
    </a>
    - (Optional) Enable path-style S3 URLs (
    <code>
     https://&lt;HOST&gt;/&lt;BUCKET&gt;
    </code>
    instead of
    <code>
     https://&lt;BUCKET&gt;.&lt;HOST&gt;
    </code>
    ).
   </li>
   <li>
    <a name="kms_key_id">
    </a>
    <a href="#kms_key_id">
     <code>
      kms_key_id
     </code>
    </a>
    - (Optional) Amazon Resource Name (ARN) of a Key Management Service (KMS) Key to use for encrypting the state.
   </li>
   <li>
    <a name="sse_customer_key">
    </a>
    <a href="#sse_customer_key">
     <code>
      sse_customer_key
     </code>
    </a>
    - (Optional) The key to use for encrypting state with
    <a href="https://docs.aws.amazon.com/AmazonS3/latest/dev/ServerSideEncryptionCustomerKeys.html">
     Server-Side Encryption with Customer-Provided Keys (SSE-C)
    </a>
    . This is the base64-encoded value of the key, which must decode to 256 bits. This can also be sourced from the
    <code>
     AWS_SSE_CUSTOMER_KEY
    </code>
    environment variable, which is recommended due to the sensitivity of the value. Setting it inside a terraform file will cause it to be persisted to disk in
    <code>
     terraform.tfstate
    </code>
    .
   </li>
   <li>
    <a name="workspace_key_prefix">
    </a>
    <a href="#workspace_key_prefix">
     <code>
      workspace_key_prefix
     </code>
    </a>
    - (Optional) Prefix applied to the state path inside the bucket. This is only relevant when using a non-default workspace. Defaults to
    <code>
     env:
    </code>
    .
   </li>
  </ul>
  <h3 id="dynamodb-state-locking">
   <a class="anchor" href="#dynamodb-state-locking" name="dynamodb-state-locking">
    »
   </a>
   DynamoDB State Locking
  </h3>
  <p>
   The following configuration is optional:
  </p>
  <ul>
   <li>
    <a name="dynamodb_endpoint">
    </a>
    <a href="#dynamodb_endpoint">
     <code>
      dynamodb_endpoint
     </code>
    </a>
    - (Optional) Custom endpoint for the AWS DynamoDB API. This can also be sourced from the
    <code>
     AWS_DYNAMODB_ENDPOINT
    </code>
    environment variable.
   </li>
   <li>
    <a name="dynamodb_table">
    </a>
    <a href="#dynamodb_table">
     <code>
      dynamodb_table
     </code>
    </a>
    - (Optional) Name of DynamoDB Table to use for state locking and consistency. The table must have a primary key named
    <code>
     LockID
    </code>
    with type of
    <code>
     string
    </code>
    . If not configured, state locking will be disabled.
   </li>
  </ul>
  <h2 id="multi-account-aws-architecture">
   <a class="anchor" href="#multi-account-aws-architecture" name="multi-account-aws-architecture">
    »
   </a>
   Multi-account AWS Architecture
  </h2>
  <p>
   A common architectural pattern is for an organization to use a number of
 separate AWS accounts to isolate different teams and environments. For example,
 a "staging" system will often be deployed into a separate AWS account than
 its corresponding "production" system, to minimize the risk of the staging
 environment affecting production infrastructure, whether via rate limiting,
 misconfigured access controls, or other unintended interactions.
  </p>
  <p>
   The S3 backend can be used in a number of different ways that make different
 tradeoffs between convenience, security, and isolation in such an organization.
 This section describes one such approach that aims to find a good compromise
 between these tradeoffs, allowing use of
   <a href="/docs/language/state/workspaces.html">
    Terraform's workspaces feature
   </a>
   to switch
 conveniently between multiple isolated deployments of the same configuration.
  </p>
  <p>
   Use this section as a starting-point for your approach, but note that
 you will probably need to make adjustments for the unique standards and
 regulations that apply to your organization. You will also need to make some
 adjustments to this approach to account for
   <em>
    existing
   </em>
   practices within your
 organization, if for example other tools have previously been used to manage
 infrastructure.
  </p>
  <p>
   Terraform is an administrative tool that manages your infrastructure, and so
 ideally the infrastructure that is used by Terraform should exist outside of
 the infrastructure that Terraform manages. This can be achieved by creating a
 separate
   <em>
    administrative
   </em>
   AWS account which contains the user accounts used by
 human operators and any infrastructure and tools used to manage the other
 accounts. Isolating shared administrative tools from your main environments
 has a number of advantages, such as avoiding accidentally damaging the
 administrative infrastructure while changing the target infrastructure, and
 reducing the risk that an attacker might abuse production infrastructure to
 gain access to the (usually more privileged) administrative infrastructure.
  </p>
  <h3 id="administrative-account-setup">
   <a class="anchor" href="#administrative-account-setup" name="administrative-account-setup">
    »
   </a>
   Administrative Account Setup
  </h3>
  <p>
   Your administrative AWS account will contain at least the following items:
  </p>
  <ul>
   <li>
    One or more
    <a href="http://docs.aws.amazon.com/IAM/latest/UserGuide/id_users.html">
     IAM user
    </a>
    for system administrators that will log in to maintain infrastructure in
 the other accounts.
   </li>
   <li>
    Optionally, one or more
    <a href="http://docs.aws.amazon.com/IAM/latest/UserGuide/id_groups.html">
     IAM groups
    </a>
    to differentiate between different groups of users that have different
 levels of access to the other AWS accounts.
   </li>
   <li>
    An
    <a href="http://docs.aws.amazon.com/AmazonS3/latest/dev/UsingBucket.html">
     S3 bucket
    </a>
    that will contain the Terraform state files for each workspace.
   </li>
   <li>
    A
    <a href="http://docs.aws.amazon.com/amazondynamodb/latest/developerguide/HowItWorks.CoreComponents.html#HowItWorks.CoreComponents.TablesItemsAttributes">
     DynamoDB table
    </a>
    that will be used for locking to prevent concurrent operations on a single
 workspace.
   </li>
  </ul>
  <p>
   Provide the S3 bucket name and DynamoDB table name to Terraform within the
 S3 backend configuration using the
   <code>
    bucket
   </code>
   and
   <code>
    dynamodb_table
   </code>
   arguments
 respectively, and configure a suitable
   <code>
    workspace_key_prefix
   </code>
   to contain
 the states of the various workspaces that will subsequently be created for
 this configuration.
  </p>
  <h3 id="environment-account-setup">
   <a class="anchor" href="#environment-account-setup" name="environment-account-setup">
    »
   </a>
   Environment Account Setup
  </h3>
  <p>
   For the sake of this section, the term "environment account" refers to one
 of the accounts whose contents are managed by Terraform, separate from the
 administrative account described above.
  </p>
  <p>
   Your environment accounts will eventually contain your own product-specific
 infrastructure. Along with this it must contain one or more
   <a href="http://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles.html">
    IAM roles
   </a>
   that grant sufficient access for Terraform to perform the desired management
 tasks.
  </p>
  <h3 id="delegating-access">
   <a class="anchor" href="#delegating-access" name="delegating-access">
    »
   </a>
   Delegating Access
  </h3>
  <p>
   Each Administrator will run Terraform using credentials for their IAM user
 in the administrative account.
   <a href="http://docs.aws.amazon.com/IAM/latest/UserGuide/tutorial_cross-account-with-roles.html">
    IAM Role Delegation
   </a>
   is used to grant these users access to the roles created in each environment
 account.
  </p>
  <p>
   Full details on role delegation are covered in the AWS documentation linked
 above. The most important details are:
  </p>
  <ul>
   <li>
    Each role's
    <em>
     Assume Role Policy
    </em>
    must grant access to the administrative AWS
 account, which creates a trust relationship with the administrative AWS
 account so that its users may assume the role.
   </li>
   <li>
    The users or groups within the administrative account must also have a
 policy that creates the converse relationship, allowing these users or groups
 to assume that role.
   </li>
  </ul>
  <p>
   Since the purpose of the administrative account is only to host tools for
 managing other accounts, it is useful to give the administrative accounts
 restricted access only to the specific operations needed to assume the
 environment account role and access the Terraform state. By blocking all
 other access, you remove the risk that user error will lead to staging or
 production resources being created in the administrative account by mistake.
  </p>
  <p>
   When configuring Terraform, use either environment variables or the standard
 credentials file
   <code>
    ~/.aws/credentials
   </code>
   to provide the administrator user's
 IAM credentials within the administrative account to both the S3 backend
   <em>
    and
   </em>
   to Terraform's AWS provider.
  </p>
  <p>
   Use conditional configuration to pass a different
   <code>
    assume_role
   </code>
   value to
 the AWS provider depending on the selected workspace. For example:
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">variable</span> <span class="s2">"workspace_iam_roles"</span> <span class="p">{</span>
   <span class="n">default</span> <span class="o">=</span> <span class="p">{</span>
     <span class="n">staging</span>    <span class="o">=</span> <span class="s2">"arn:aws:iam::STAGING-ACCOUNT-ID:role/Terraform"</span>
     <span class="n">production</span> <span class="o">=</span> <span class="s2">"arn:aws:iam::PRODUCTION-ACCOUNT-ID:role/Terraform"</span>
   <span class="p">}</span>
 <span class="p">}</span>
 
 <span class="n">provider</span> <span class="s2">"aws"</span> <span class="p">{</span>
   <span class="c1"># No credentials explicitly set here because they come from either the</span>
   <span class="c1"># environment or the global credentials file.</span>
 
   <span class="n">assume_role</span> <span class="o">=</span> <span class="s2">"${var.workspace_iam_roles[terraform.workspace]}"</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <p>
   If workspace IAM roles are centrally managed and shared across many separate
 Terraform configurations, the role ARNs could also be obtained via a data
 source such as
   <a href="/docs/language/state/remote-state-data.html">
    <code>
     terraform_remote_state
    </code>
   </a>
   to avoid repeating these values.
  </p>
  <h3 id="creating-and-selecting-workspaces">
   <a class="anchor" href="#creating-and-selecting-workspaces" name="creating-and-selecting-workspaces">
    »
   </a>
   Creating and Selecting Workspaces
  </h3>
  <p>
   With the necessary objects created and the backend configured, run
   <code>
    terraform init
   </code>
   to initialize the backend and establish an initial workspace
 called "default". This workspace will not be used, but is created automatically
 by Terraform as a convenience for users who are not using the workspaces
 feature.
  </p>
  <p>
   Create a workspace corresponding to each key given in the
   <code>
    workspace_iam_roles
   </code>
   variable value above:
  </p>
  <div class="highlight">
   <pre class="highlight plaintext"><code>$ terraform workspace new staging
 Created and switched to workspace "staging"!
 
 ...
 
 $ terraform workspace new production
 Created and switched to workspace "production"!
 
 ...
 </code></pre>
  </div>
  <p>
   Due to the
   <code>
    assume_role
   </code>
   setting in the AWS provider configuration, any
 management operations for AWS resources will be performed via the configured
 role in the appropriate environment AWS account. The backend operations, such
 as reading and writing the state from S3, will be performed directly as the
 administrator's own user within the administrative account.
  </p>
  <div class="highlight">
   <pre class="highlight plaintext"><code>$ terraform workspace select staging
 $ terraform apply
 ...
 </code></pre>
  </div>
  <h3 id="running-terraform-in-amazon-ec2">
   <a class="anchor" href="#running-terraform-in-amazon-ec2" name="running-terraform-in-amazon-ec2">
    »
   </a>
   Running Terraform in Amazon EC2
  </h3>
  <p>
   Teams that make extensive use of Terraform for infrastructure management
 often
   <a href="https://learn.hashicorp.com/tutorials/terraform/automate-terraform?in=terraform/automation&amp;utm_source=WEBSITE&amp;utm_medium=WEB_IO&amp;utm_offer=ARTICLE_PAGE&amp;utm_content=DOCS">
    run Terraform in automation
   </a>
   to ensure a consistent operating environment and to limit access to the
 various secrets and other sensitive information that Terraform configurations
 tend to require.
  </p>
  <p>
   When running Terraform in an automation tool running on an Amazon EC2 instance,
 consider running this instance in the administrative account and using an
   <a href="http://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_use_switch-role-ec2_instance-profiles.html">
    instance profile
   </a>
   in place of the various administrator IAM users suggested above. An IAM
 instance profile can also be granted cross-account delegation access via
 an IAM policy, giving this instance the access it needs to run Terraform.
  </p>
  <p>
   To isolate access to different environment accounts, use a separate EC2
 instance for each target account so that its access can be limited only to
 the single account.
  </p>
  <p>
   Similar approaches can be taken with equivalent features in other AWS compute
 services, such as ECS.
  </p>
  <h3 id="protecting-access-to-workspace-state">
   <a class="anchor" href="#protecting-access-to-workspace-state" name="protecting-access-to-workspace-state">
    »
   </a>
   Protecting Access to Workspace State
  </h3>
  <p>
   In a simple implementation of the pattern described in the prior sections,
 all users have access to read and write states for all workspaces. In many
 cases it is desirable to apply more precise access constraints to the
 Terraform state objects in S3, so that for example only trusted administrators
 are allowed to modify the production state, or to control
   <em>
    reading
   </em>
   of a state
 that contains sensitive information.
  </p>
  <p>
   Amazon S3 supports fine-grained access control on a per-object-path basis
 using IAM policy. A full description of S3's access control mechanism is
 beyond the scope of this guide, but an example IAM policy granting access
 to only a single state object within an S3 bucket is shown below:
  </p>
  <div class="highlight">
   <pre class="highlight json"><code><span class="p">{</span><span class="w">
   </span><span class="nl">"Version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2012-10-17"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"Statement"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
     </span><span class="p">{</span><span class="w">
       </span><span class="nl">"Effect"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Allow"</span><span class="p">,</span><span class="w">
       </span><span class="nl">"Action"</span><span class="p">:</span><span class="w"> </span><span class="s2">"s3:ListBucket"</span><span class="p">,</span><span class="w">
       </span><span class="nl">"Resource"</span><span class="p">:</span><span class="w"> </span><span class="s2">"arn:aws:s3:::myorg-terraform-states"</span><span class="w">
     </span><span class="p">},</span><span class="w">
     </span><span class="p">{</span><span class="w">
       </span><span class="nl">"Effect"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Allow"</span><span class="p">,</span><span class="w">
       </span><span class="nl">"Action"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"s3:GetObject"</span><span class="p">,</span><span class="w"> </span><span class="s2">"s3:PutObject"</span><span class="p">],</span><span class="w">
       </span><span class="nl">"Resource"</span><span class="p">:</span><span class="w"> </span><span class="s2">"arn:aws:s3:::myorg-terraform-states/myapp/production/tfstate"</span><span class="w">
     </span><span class="p">}</span><span class="w">
   </span><span class="p">]</span><span class="w">
 </span><span class="p">}</span><span class="w">
 </span></code></pre>
  </div>
  <p>
   It is not possible to apply such fine-grained access control to the DynamoDB
 table used for locking, so it is possible for any user with Terraform access
 to lock any workspace state, even if they do not have access to read or write
 that state. If a malicious user has such access they could block attempts to
 use Terraform against some or all of your workspaces as long as locking is
 enabled in the backend configuration.
  </p>
  <h3 id="configuring-custom-user-agent-information">
   <a class="anchor" href="#configuring-custom-user-agent-information" name="configuring-custom-user-agent-information">
    »
   </a>
   Configuring Custom User-Agent Information
  </h3>
  <p>
   Note this feature is optional and only available in Terraform v0.13.1+.
  </p>
  <p>
   By default, the underlying AWS client used by the Terraform AWS Provider creates requests with User-Agent headers including information about Terraform and AWS Go SDK versions. To provide additional information in the User-Agent headers, the
   <code>
    TF_APPEND_USER_AGENT
   </code>
   environment variable can be set and its value will be directly added to HTTP requests. e.g.
  </p>
  <div class="highlight">
   <pre class="highlight shell"><code><span class="nv">$ </span><span class="nb">export </span><span class="nv">TF_APPEND_USER_AGENT</span><span class="o">=</span><span class="s2">"JenkinsAgent/i-12345678 BuildID/1234 (Optional Extra Information)"</span>
 </code></pre>
  </div>
 </div>
 
 <!-- ########### State : Overview ############### -->
 <!-- ########### https://www.terraform.io/docs/language/settings/backends/swift.html ############### --
 ><!-- ########### State : Overview ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="swift">
    <a class="anchor" href="#swift" name="swift">
     »
    </a>
    swift
   </h1>
   <div id="inner-quicknav">
    <span id="inner-quicknav-trigger">
     Jump to Section
     <svg height="5" width="9" xmlns="http://www.w3.org/2000/svg">
      <path d="M8.811 1.067a.612.612 0 0 0 0-.884.655.655 0 0 0-.908 0L4.5 3.491 1.097.183a.655.655 0 0 0-.909 0 .615.615 0 0 0 0 .884l3.857 3.75a.655.655 0 0 0 .91 0l3.856-3.75z" fill-rule="evenodd">
      </path>
     </svg>
    </span>
    <ul class="dropdown">
     <li class="level-h2">
      <a href="#example-configuration">
       »
 Example Configuration
      </a>
     </li>
     <li class="level-h2">
      <a href="#data-source-configuration">
       »
 Data Source Configuration
      </a>
     </li>
     <li class="level-h2">
      <a href="#configuration-variables">
       »
 Configuration variables
      </a>
     </li>
    </ul>
   </div>
  </div>
  <p>
   <strong>
    Kind: Standard (with locking)
   </strong>
  </p>
  <p>
   Stores the state as an artifact in
   <a href="http://docs.openstack.org/developer/swift/latest/">
    Swift
   </a>
   .
  </p>
  <div class="alert alert-warning" role="alert">
   <p>
    Warning! It is highly recommended that you enable
    <a href="https://docs.openstack.org/developer/swift/latest/overview_object_versioning.html">
     Object Versioning
    </a>
    by setting the
    <a href="https://www.terraform.io/docs/language/settings/backends/swift.html#archive_container">
     <code>
      archive_container
     </code>
    </a>
    configuration. This allows for state recovery in the case of accidental deletions and human error.
   </p>
  </div>
  <h2 id="example-configuration">
   <a class="anchor" href="#example-configuration" name="example-configuration">
    »
   </a>
   Example Configuration
  </h2>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">terraform</span> <span class="p">{</span>
   <span class="n">backend</span> <span class="s2">"swift"</span> <span class="p">{</span>
     <span class="n">container</span>         <span class="o">=</span> <span class="s2">"terraform-state"</span>
     <span class="n">archive_container</span> <span class="o">=</span> <span class="s2">"terraform-state-archive"</span>
   <span class="p">}</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <p>
   This will create a container called
   <code>
    terraform-state
   </code>
   and an object within that container called
   <code>
    tfstate.tf
   </code>
   . It will enable versioning using the
   <code>
    terraform-state-archive
   </code>
   container to contain the older version.
  </p>
  <p>
   For the access credentials we recommend using a
   <a href="/docs/language/settings/backends/configuration.html#partial-configuration">
    partial configuration
   </a>
   .
  </p>
  <h2 id="data-source-configuration">
   <a class="anchor" href="#data-source-configuration" name="data-source-configuration">
    »
   </a>
   Data Source Configuration
  </h2>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">data</span> <span class="s2">"terraform_remote_state"</span> <span class="s2">"foo"</span> <span class="p">{</span>
   <span class="n">backend</span> <span class="o">=</span> <span class="s2">"swift"</span>
   <span class="n">config</span> <span class="o">=</span> <span class="p">{</span>
     <span class="n">container</span>         <span class="o">=</span> <span class="s2">"terraform_state"</span>
     <span class="n">archive_container</span> <span class="o">=</span> <span class="s2">"terraform_state-archive"</span>
   <span class="p">}</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <h2 id="configuration-variables">
   <a class="anchor" href="#configuration-variables" name="configuration-variables">
    »
   </a>
   Configuration variables
  </h2>
  <p>
   The following configuration options are supported:
  </p>
  <ul>
   <li>
    <p>
     <a name="auth_url">
     </a>
     <a href="#auth_url">
      <code>
       auth_url
      </code>
     </a>
     - (Optional) The Identity authentication URL. If omitted, the
     <code>
      OS_AUTH_URL
     </code>
     environment variable is used.
    </p>
   </li>
   <li>
    <p>
     <a name="cloud">
     </a>
     <a href="#cloud">
      <code>
       cloud
      </code>
     </a>
     - (Optional; required if
     <code>
      auth_url
     </code>
     is not specified) An entry in a
     <code>
      clouds.yaml
     </code>
     file. See the OpenStack
     <code>
      os-client-config
     </code>
     <a href="https://docs.openstack.org/os-client-config/latest/user/configuration.html">
      documentation
     </a>
     for more information about
     <code>
      clouds.yaml
     </code>
     files. If omitted, the
     <code>
      OS_CLOUD
     </code>
     environment variable is used.
    </p>
   </li>
   <li>
    <p>
     <a name="region_name">
     </a>
     <a href="#region_name">
      <code>
       region_name
      </code>
     </a>
     - (Optional) - The region in which to store
     <code>
      terraform.tfstate
     </code>
     . If
 omitted, the
     <code>
      OS_REGION_NAME
     </code>
     environment variable is used.
    </p>
   </li>
   <li>
    <p>
     <a name="container">
     </a>
     <a href="#container">
      <code>
       container
      </code>
     </a>
     - (Required) The name of the container to create for storing
 the Terraform state file.
    </p>
   </li>
   <li>
    <p>
     <a name="state_name">
     </a>
     <a href="#state_name">
      <code>
       state_name
      </code>
     </a>
     - (Optional) The name of the state file in the container.
 Defaults to
     <code>
      tfstate.tf
     </code>
     .
    </p>
   </li>
   <li>
    <p>
     <a name="path">
     </a>
     <a href="#path">
      <code>
       path
      </code>
     </a>
     - (Optional) DEPRECATED: Use
     <code>
      container
     </code>
     instead.
 The name of the container to create in order to store the state file.
    </p>
   </li>
   <li>
    <p>
     <a name="user_name">
     </a>
     <a href="#user_name">
      <code>
       user_name
      </code>
     </a>
     - (Optional) The Username to login with. If omitted, the
     <code>
      OS_USERNAME
     </code>
     environment variable is used.
    </p>
   </li>
   <li>
    <p>
     <a name="user_id">
     </a>
     <a href="#user_id">
      <code>
       user_id
      </code>
     </a>
     - (Optional) The User ID to login with. If omitted, the
     <code>
      OS_USER_ID
     </code>
     environment variable is used.
    </p>
   </li>
   <li>
    <p>
     <a name="application_credential_id">
     </a>
     <a href="#application_credential_id">
      <code>
       application_credential_id
      </code>
     </a>
     - (Optional) (Identity v3 only) The ID of an
 application credential to authenticate with. An
     <code>
      application_credential_secret
     </code>
     has to bet set along with this parameter.
    </p>
   </li>
   <li>
    <p>
     <a name="application_credential_name">
     </a>
     <a href="#application_credential_name">
      <code>
       application_credential_name
      </code>
     </a>
     - (Optional) (Identity v3 only) The name of an
 application credential to authenticate with. Requires
     <code>
      user_id
     </code>
     , or
     <code>
      user_name
     </code>
     and
     <code>
      user_domain_name
     </code>
     (or
     <code>
      user_domain_id
     </code>
     ) to be set.
    </p>
   </li>
   <li>
    <p>
     <a name="application_credential_secret">
     </a>
     <a href="#application_credential_secret">
      <code>
       application_credential_secret
      </code>
     </a>
     - (Optional) (Identity v3 only) The secret of an
 application credential to authenticate with. Required by
     <code>
      application_credential_id
     </code>
     or
     <code>
      application_credential_name
     </code>
     .
    </p>
   </li>
   <li>
    <p>
     <a name="tenant_id">
     </a>
     <a href="#tenant_id">
      <code>
       tenant_id
      </code>
     </a>
     - (Optional) The ID of the Tenant (Identity v2) or Project
 (Identity v3) to login with. If omitted, the
     <code>
      OS_TENANT_ID
     </code>
     or
     <code>
      OS_PROJECT_ID
     </code>
     environment variables are used.
    </p>
   </li>
   <li>
    <p>
     <a name="tenant_name">
     </a>
     <a href="#tenant_name">
      <code>
       tenant_name
      </code>
     </a>
     - (Optional) The Name of the Tenant (Identity v2) or Project
 (Identity v3) to login with. If omitted, the
     <code>
      OS_TENANT_NAME
     </code>
     or
     <code>
      OS_PROJECT_NAME
     </code>
     environment variable are used.
    </p>
   </li>
   <li>
    <p>
     <a name="password">
     </a>
     <a href="#password">
      <code>
       password
      </code>
     </a>
     - (Optional) The Password to login with. If omitted, the
     <code>
      OS_PASSWORD
     </code>
     environment variable is used.
    </p>
   </li>
   <li>
    <p>
     <a name="token">
     </a>
     <a href="#token">
      <code>
       token
      </code>
     </a>
     - (Optional; Required if not using
     <code>
      user_name
     </code>
     and
     <code>
      password
     </code>
     )
 A token is an expiring, temporary means of access issued via the Keystone
 service. By specifying a token, you do not have to specify a username/password
 combination, since the token was already created by a username/password out of
 band of Terraform. If omitted, the
     <code>
      OS_TOKEN
     </code>
     or
     <code>
      OS_AUTH_TOKEN
     </code>
     environment
 variables are used.
    </p>
   </li>
   <li>
    <p>
     <a name="user_domain_name">
     </a>
     <a href="#user_domain_name">
      <code>
       user_domain_name
      </code>
     </a>
     - (Optional) The domain name where the user is located. If
 omitted, the
     <code>
      OS_USER_DOMAIN_NAME
     </code>
     environment variable is checked.
    </p>
   </li>
   <li>
    <p>
     <a name="user_domain_id">
     </a>
     <a href="#user_domain_id">
      <code>
       user_domain_id
      </code>
     </a>
     - (Optional) The domain ID where the user is located. If
 omitted, the
     <code>
      OS_USER_DOMAIN_ID
     </code>
     environment variable is checked.
    </p>
   </li>
   <li>
    <p>
     <a name="project_domain_name">
     </a>
     <a href="#project_domain_name">
      <code>
       project_domain_name
      </code>
     </a>
     - (Optional) The domain name where the project is
 located. If omitted, the
     <code>
      OS_PROJECT_DOMAIN_NAME
     </code>
     environment variable is
 checked.
    </p>
   </li>
   <li>
    <p>
     <a name="project_domain_id">
     </a>
     <a href="#project_domain_id">
      <code>
       project_domain_id
      </code>
     </a>
     - (Optional) The domain ID where the project is located
 If omitted, the
     <code>
      OS_PROJECT_DOMAIN_ID
     </code>
     environment variable is checked.
    </p>
   </li>
   <li>
    <p>
     <a name="domain_id">
     </a>
     <a href="#domain_id">
      <code>
       domain_id
      </code>
     </a>
     - (Optional) The ID of the Domain to scope to (Identity v3). If
 omitted, the following environment variables are checked (in this order):
     <code>
      OS_USER_DOMAIN_ID
     </code>
     ,
     <code>
      OS_PROJECT_DOMAIN_ID
     </code>
     ,
     <code>
      OS_DOMAIN_ID
     </code>
     .
    </p>
   </li>
   <li>
    <p>
     <a name="domain_name">
     </a>
     <a href="#domain_name">
      <code>
       domain_name
      </code>
     </a>
     - (Optional) The Name of the Domain to scope to (Identity v3).
 If omitted, the following environment variables are checked (in this order):
     <code>
      OS_USER_DOMAIN_NAME
     </code>
     ,
     <code>
      OS_PROJECT_DOMAIN_NAME
     </code>
     ,
     <code>
      OS_DOMAIN_NAME
     </code>
     ,
     <code>
      DEFAULT_DOMAIN
     </code>
     .
    </p>
   </li>
   <li>
    <p>
     <a name="default_domain">
     </a>
     <a href="#default_domain">
      <code>
       default_domain
      </code>
     </a>
     - (Optional) The ID of the Domain to scope to if no other
 domain is specified (Identity v3). If omitted, the environment variable
     <code>
      OS_DEFAULT_DOMAIN
     </code>
     is checked or a default value of "default" will be
 used.
    </p>
   </li>
   <li>
    <p>
     <a name="insecure">
     </a>
     <a href="#insecure">
      <code>
       insecure
      </code>
     </a>
     - (Optional) Trust self-signed SSL certificates. If omitted, the
     <code>
      OS_INSECURE
     </code>
     environment variable is used.
    </p>
   </li>
   <li>
    <p>
     <a name="cacert_file">
     </a>
     <a href="#cacert_file">
      <code>
       cacert_file
      </code>
     </a>
     - (Optional) Specify a custom CA certificate when communicating
 over SSL. You can specify either a path to the file or the contents of the
 certificate. If omitted, the
     <code>
      OS_CACERT
     </code>
     environment variable is used.
    </p>
   </li>
   <li>
    <p>
     <a name="cert">
     </a>
     <a href="#cert">
      <code>
       cert
      </code>
     </a>
     - (Optional) Specify client certificate file for SSL client authentication.
 If omitted the
     <code>
      OS_CERT
     </code>
     environment variable is used.
    </p>
   </li>
   <li>
    <p>
     <a name="key">
     </a>
     <a href="#key">
      <code>
       key
      </code>
     </a>
     - (Optional) Specify client private key file for SSL client authentication.
 If omitted the
     <code>
      OS_KEY
     </code>
     environment variable is used.
    </p>
   </li>
   <li>
    <p>
     <a name="endpoint_type">
     </a>
     <a href="#endpoint_type">
      <code>
       endpoint_type
      </code>
     </a>
     - (Optional) Specify which type of endpoint to use from the
 service catalog. It can be set using the OS_ENDPOINT_TYPE environment
 variable. If not set, public endpoints is used.
    </p>
   </li>
   <li>
    <p>
     <a name="swauth">
     </a>
     <a href="#swauth">
      <code>
       swauth
      </code>
     </a>
     - (Optional) Set to
     <code>
      true
     </code>
     to authenticate against Swauth, a
 Swift-native authentication system. If omitted, the
     <code>
      OS_SWAUTH
     </code>
     environment
 variable is used. You must also set
     <code>
      username
     </code>
     to the Swauth/Swift username
 such as
     <code>
      username:project
     </code>
     . Set the
     <code>
      password
     </code>
     to the Swauth/Swift key.
 Finally, set
     <code>
      auth_url
     </code>
     as the location of the Swift service.
    </p>
   </li>
   <li>
    <p>
     <a name="disable_no_cache_header">
     </a>
     <a href="#disable_no_cache_header">
      <code>
       disable_no_cache_header
      </code>
     </a>
     - (Optional) If set to
     <code>
      true
     </code>
     , the HTTP
     <code>
      Cache-Control: no-cache
     </code>
     header will not be added by default to all API requests.
 If omitted this header is added to all API requests to force HTTP caches (if any)
 to go upstream instead of serving cached responses.
    </p>
   </li>
   <li>
    <p>
     <a name="allow_reauth">
     </a>
     <a href="#allow_reauth">
      <code>
       allow_reauth
      </code>
     </a>
     - (Optional) If set to
     <code>
      true
     </code>
     , OpenStack authorization will be
 perfomed automatically, if the initial auth token get expired. This is useful,
 when the token TTL is low or the overall Terraform provider execution time
 expected to be greater than the initial token TTL.
    </p>
   </li>
   <li>
    <p>
     <a name="archive_container">
     </a>
     <a href="#archive_container">
      <code>
       archive_container
      </code>
     </a>
     - (Optional) The container to create to store archived copies
 of the Terraform state file. If specified, Swift
     <a href="https://docs.openstack.org/developer/swift/latest/overview_object_versioning.html">
      object versioning
     </a>
     is enabled on the container created at
     <code>
      container
     </code>
     .
    </p>
   </li>
   <li>
    <p>
     <a name="archive_path">
     </a>
     <a href="#archive_path">
      <code>
       archive_path
      </code>
     </a>
     - (Optional) DEPRECATED: Use
     <code>
      archive_container
     </code>
     instead.
 The path to store archived copied of
     <code>
      terraform.tfstate
     </code>
     . If specified,
 Swift
     <a href="https://docs.openstack.org/developer/swift/latest/overview_object_versioning.html">
      object versioning
     </a>
     is enabled on the container created at
     <code>
      path
     </code>
     .
    </p>
   </li>
   <li>
    <p>
     <a name="expire_after">
     </a>
     <a href="#expire_after">
      <code>
       expire_after
      </code>
     </a>
     - (Optional) How long should the
     <code>
      terraform.tfstate
     </code>
     created at
     <code>
      container
     </code>
     be retained for? If specified, Swift
     <a href="https://docs.openstack.org/developer/swift/latest/overview_expiring_objects.html">
      expiring object support
     </a>
     is enabled on the state. Supported durations:
     <code>
      m
     </code>
     - Minutes,
     <code>
      h
     </code>
     - Hours,
     <code>
      d
     </code>
     - Days.
 ~&gt;
     <strong>
      NOTE:
     </strong>
     Since Terraform is inherently stateful - we'd strongly recommend against auto-expiring Statefiles.
    </p>
   </li>
  </ul>
 </div>
 
 <!-- ########### State : Purpose ############### -->
 <!-- ########### https://www.terraform.io/docs/language/state/index.html ############### --
 ><!-- ########### State : Purpose ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="state">
    <a class="anchor" href="#state" name="state">
     »
    </a>
    State
   </h1>
  </div>
  <p>
   Terraform must store state about your managed infrastructure and
 configuration. This state is used by Terraform to map real world
 resources to your configuration, keep track of metadata, and to improve
 performance for large infrastructures.
  </p>
  <p>
   This state is stored by default in a local file named "terraform.tfstate",
 but it can also be stored remotely, which works better in a team environment.
  </p>
  <p>
   Terraform uses this local state to create plans and make changes to your
 infrastructure. Prior to any operation, Terraform does a
   <a href="/docs/cli/commands/refresh.html">
    refresh
   </a>
   to update the state with the
 real infrastructure.
  </p>
  <p>
   The primary purpose of Terraform state is to store bindings between objects in
 a remote system and resource instances declared in your configuration.
 When Terraform creates a remote object in response to a change of configuration,
 it will record the identity of that remote object against a particular
 resource instance, and then potentially update or delete that object in
 response to future configuration changes.
  </p>
  <p>
   For more information on why Terraform requires state and why Terraform cannot
 function without state, please see the page
   <a href="/docs/language/state/purpose.html">
    state purpose
   </a>
   .
  </p>
  <h2 id="inspection-and-modification">
   <a class="anchor" href="#inspection-and-modification" name="inspection-and-modification">
    »
   </a>
   Inspection and Modification
  </h2>
  <p>
   While the format of the state files are just JSON, direct file editing
 of the state is discouraged. Terraform provides the
   <a href="/docs/cli/commands/state/index.html">
    terraform state
   </a>
   command to perform
 basic modifications of the state using the CLI.
  </p>
  <p>
   The CLI usage and output of the state commands is structured to be
 friendly for Unix tools such as grep, awk, etc. Additionally, the CLI
 insulates users from any format changes within the state itself. The Terraform
 project will keep the CLI working while the state format underneath it may
 shift.
  </p>
  <p>
   Terraform expects a one-to-one mapping between configured resource instances
 and remote objects. Normally that is guaranteed by Terraform being the one
 to create each object and record its identity in the state, or to destroy
 an object and then remove the binding for it.
  </p>
  <p>
   If you add or remove bindings in the state by other means, such as by importing
 externally-created objects with
   <code>
    terraform import
   </code>
   , or by asking Terraform to
 "forget" an existing object with
   <code>
    terraform state rm
   </code>
   , you'll then need to
 ensure for yourself that this one-to-one rule is followed, such as by manually
 deleting an object that you asked Terraform to "forget", or by re-importing it
 to bind it to some other resource instance.
  </p>
  <h2 id="format">
   <a class="anchor" href="#format" name="format">
    »
   </a>
   Format
  </h2>
  <p>
   State snapshots are stored in JSON format and new Terraform versions are
 generally backward compatible with state snapshots produced by earlier versions.
 However, the state format is subject to change in new Terraform versions, so
 if you build software that parses or modifies it directly you should expect
 to perform ongoing maintenence of that software as the state format evolves
 in new versions.
  </p>
  <p>
   Alternatively, there are several integration points which produce JSON output
 that is specifically intended for consumption by external software:
  </p>
  <ul>
   <li>
    <a href="/docs/cli/commands/output.html">
     The
     <code>
      terraform output
     </code>
     command
    </a>
    has a
    <code>
     -json
    </code>
    option, for obtaining either the full set of root module output
 values or a specific named output value from the latest state snapshot.
   </li>
   <li>
    <a href="/docs/cli/commands/show.html">
     The
     <code>
      terraform show
     </code>
     command
    </a>
    has a
    <code>
     -json
    </code>
    option for inspecting the latest state snapshot in full, and also for
 inspecting saved plan files which include a copy of the prior state at the
 time the plan was made.
   </li>
  </ul>
  <p>
   A typical way to use these in situations where Terraform is running in
 automation is to run them immediately after a successful
   <code>
    terraform apply
   </code>
   to obtain a representation of the latest state snapshot, and then store that
 result as an artifact associated with the automated run so that other software
 can potentially consume it without needing to run Terraform itself.
  </p>
 </div>
 
 <!-- ########### State : None ############### -->
 <!-- ########### https://www.terraform.io/docs/language/state/purpose.html ############### --
 ><!-- ########### State : None ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="purpose-of-terraform-state">
    <a class="anchor" href="#purpose-of-terraform-state" name="purpose-of-terraform-state">
     »
    </a>
    Purpose of Terraform State
   </h1>
   <div id="inner-quicknav">
    <span id="inner-quicknav-trigger">
     Jump to Section
     <svg height="5" width="9" xmlns="http://www.w3.org/2000/svg">
      <path d="M8.811 1.067a.612.612 0 0 0 0-.884.655.655 0 0 0-.908 0L4.5 3.491 1.097.183a.655.655 0 0 0-.909 0 .615.615 0 0 0 0 .884l3.857 3.75a.655.655 0 0 0 .91 0l3.856-3.75z" fill-rule="evenodd">
      </path>
     </svg>
    </span>
    <ul class="dropdown">
     <li class="level-h2">
      <a href="#mapping-to-the-real-world">
       »
 Mapping to the Real World
      </a>
     </li>
     <li class="level-h2">
      <a href="#metadata">
       »
 Metadata
      </a>
     </li>
     <li class="level-h2">
      <a href="#performance">
       »
 Performance
      </a>
     </li>
     <li class="level-h2">
      <a href="#syncing">
       »
 Syncing
      </a>
     </li>
    </ul>
   </div>
  </div>
  <p>
   State is a necessary requirement for Terraform to function. It is often
 asked if it is possible for Terraform to work without state, or for Terraform
 to not use state and just inspect cloud resources on every run. This page
 will help explain why Terraform state is required.
  </p>
  <p>
   As you'll see from the reasons below, state is required. And in the scenarios
 where Terraform may be able to get away without state, doing so would require
 shifting massive amounts of complexity from one place (state) to another place
 (the replacement concept).
  </p>
  <h2 id="mapping-to-the-real-world">
   <a class="anchor" href="#mapping-to-the-real-world" name="mapping-to-the-real-world">
    »
   </a>
   Mapping to the Real World
  </h2>
  <p>
   Terraform requires some sort of database to map Terraform config to the real
 world. When you have a resource
   <code>
    resource "aws_instance" "foo"
   </code>
   in your
 configuration, Terraform uses this map to know that instance
   <code>
    i-abcd1234
   </code>
   is represented by that resource.
  </p>
  <p>
   For some providers like AWS, Terraform could theoretically use something like
 AWS tags. Early prototypes of Terraform actually had no state files and used
 this method. However, we quickly ran into problems. The first major issue was
 a simple one: not all resources support tags, and not all cloud providers
 support tags.
  </p>
  <p>
   Therefore, for mapping configuration to resources in the real world,
 Terraform uses its own state structure.
  </p>
  <p>
   Terraform expects that each remote object is bound to only one resource
 instance, which is normally guaranteed by Terraform being responsible for
 creating the objects and recording their identities in the state. If you
 instead import objects that were created outside of Terraform, you'll need
 to check yourself that each distinct object is imported to only one resource
 instance.
  </p>
  <p>
   If one remote object is bound to two or more resource instances then Terraform
 may take unexpected actions against those objects, because the mapping from
 configuration to the remote object state has become ambiguous.
  </p>
  <h2 id="metadata">
   <a class="anchor" href="#metadata" name="metadata">
    »
   </a>
   Metadata
  </h2>
  <p>
   Alongside the mappings between resources and remote objects, Terraform must
 also track metadata such as resource dependencies.
  </p>
  <p>
   Terraform typically uses the configuration to determine dependency order.
 However, when you delete a resource from a Terraform configuration, Terraform
 must know how to delete that resource. Terraform can see that a mapping exists
 for a resource not in your configuration and plan to destroy. However, since
 the configuration no longer exists, the order cannot be determined from the
 configuration alone.
  </p>
  <p>
   To ensure correct operation, Terraform retains a copy of the most recent set
 of dependencies within the state. Now Terraform can still determine the correct
 order for destruction from the state when you delete one or more items from
 the configuration.
  </p>
  <p>
   One way to avoid this would be for Terraform to know a required ordering
 between resource types. For example, Terraform could know that servers must be
 deleted before the subnets they are a part of. The complexity for this approach
 quickly explodes, however: in addition to Terraform having to understand the
 ordering semantics of every resource for every cloud, Terraform must also
 understand the ordering
   <em>
    across providers
   </em>
   .
  </p>
  <p>
   Terraform also stores other metadata for similar reasons, such as a pointer
 to the provider configuration that was most recently used with the resource
 in situations where multiple aliased providers are present.
  </p>
  <h2 id="performance">
   <a class="anchor" href="#performance" name="performance">
    »
   </a>
   Performance
  </h2>
  <p>
   In addition to basic mapping, Terraform stores a cache of the attribute
 values for all resources in the state. This is the most optional feature of
 Terraform state and is done only as a performance improvement.
  </p>
  <p>
   When running a
   <code>
    terraform plan
   </code>
   , Terraform must know the current state of
 resources in order to effectively determine the changes that it needs to make
 to reach your desired configuration.
  </p>
  <p>
   For small infrastructures, Terraform can query your providers and sync the
 latest attributes from all your resources. This is the default behavior
 of Terraform: for every plan and apply, Terraform will sync all resources in
 your state.
  </p>
  <p>
   For larger infrastructures, querying every resource is too slow. Many cloud
 providers do not provide APIs to query multiple resources at once, and the
 round trip time for each resource is hundreds of milliseconds. On top of this,
 cloud providers almost always have API rate limiting so Terraform can only
 request a certain number of resources in a period of time. Larger users
 of Terraform make heavy use of the
   <code>
    -refresh=false
   </code>
   flag as well as the
   <code>
    -target
   </code>
   flag in order to work around this. In these scenarios, the cached
 state is treated as the record of truth.
  </p>
  <h2 id="syncing">
   <a class="anchor" href="#syncing" name="syncing">
    »
   </a>
   Syncing
  </h2>
  <p>
   In the default configuration, Terraform stores the state in a file in the
 current working directory where Terraform was run. This is okay for getting
 started, but when using Terraform in a team it is important for everyone
 to be working with the same state so that operations will be applied to the
 same remote objects.
  </p>
  <p>
   <a href="/docs/language/state/remote.html">
    Remote state
   </a>
   is the recommended solution
 to this problem. With a fully-featured state backend, Terraform can use
 remote locking as a measure to avoid two or more different users accidentally
 running Terraform at the same time, and thus ensure that each Terraform run
 begins with the most recent updated state.
  </p>
 </div>
 
 <!-- ########### State : Backends: State Storage & Locking ############### -->
 <!-- ########### https://www.terraform.io/docs/language/state/remote-state-data.html ############### --
 ><!-- ########### State : Backends: State Storage & Locking ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="the-terraform_remote_state-data-source">
    <a class="anchor" href="#the-terraform_remote_state-data-source" name="the-terraform_remote_state-data-source">
     »
    </a>
    The
    <code>
     terraform_remote_state
    </code>
    Data Source
   </h1>
   <div id="inner-quicknav">
    <span id="inner-quicknav-trigger">
     Jump to Section
     <svg height="5" width="9" xmlns="http://www.w3.org/2000/svg">
      <path d="M8.811 1.067a.612.612 0 0 0 0-.884.655.655 0 0 0-.908 0L4.5 3.491 1.097.183a.655.655 0 0 0-.909 0 .615.615 0 0 0 0 .884l3.857 3.75a.655.655 0 0 0 .91 0l3.856-3.75z" fill-rule="evenodd">
      </path>
     </svg>
    </span>
    <ul class="dropdown">
     <li class="level-h2">
      <a href="#alternative-ways-to-share-data-between-configurations">
       »
 Alternative Ways to Share Data Between Configurations
      </a>
     </li>
     <li class="level-h2">
      <a href="#example-usage-remote-backend-">
       »
 Example Usage (remote Backend)
      </a>
     </li>
     <li class="level-h2">
      <a href="#example-usage-local-backend-">
       »
 Example Usage (local Backend)
      </a>
     </li>
     <li class="level-h2">
      <a href="#argument-reference">
       »
 Argument Reference
      </a>
     </li>
     <li class="level-h2">
      <a href="#attributes-reference">
       »
 Attributes Reference
      </a>
     </li>
     <li class="level-h2">
      <a href="#root-outputs-only">
       »
 Root Outputs Only
      </a>
     </li>
    </ul>
   </div>
  </div>
  <p>
   The
   <code>
    terraform_remote_state
   </code>
   data source retrieves the root module output values
 from some other Terraform configuration, using the latest state snapshot from
 the remote backend.
  </p>
  <p>
   This data source is built into Terraform, and is always available; you do not
 need to require or configure a provider in order to use it.
  </p>
  <div class="alert alert-info" role="alert">
   <p>
    <strong>
     Note:
    </strong>
    This data source is implemented by a built-in provider, whose
    <a href="/docs/language/providers/requirements.html#source-addresses">
     source address
    </a>
    is
    <code>
     terraform.io/builtin/terraform
    </code>
    . That provider does not include any other
 resources or data sources.
   </p>
  </div>
  <h2 id="alternative-ways-to-share-data-between-configurations">
   <a class="anchor" href="#alternative-ways-to-share-data-between-configurations" name="alternative-ways-to-share-data-between-configurations">
    »
   </a>
   Alternative Ways to Share Data Between Configurations
  </h2>
  <p>
   Sharing data with root module outputs is convenient, but it has drawbacks.
 Although
   <code>
    terraform_remote_state
   </code>
   only exposes output values, its user must have
 access to the entire state snapshot, which often includes some sensitive
 information.
  </p>
  <p>
   When possible, we recommend explicitly publishing data for external consumption
 to a separate location instead of accessing it via remote state. This lets you
 apply different access controls for shared information and state snapshots.
  </p>
  <p>
   To share data explicitly between configurations, you can use pairs of managed
 resource types and data sources in various providers, including (but not
 limited to) the following:
  </p>
  <table>
   <thead>
    <tr>
     <th>
      System
     </th>
     <th>
      Publish with...
     </th>
     <th>
      Read with...
     </th>
    </tr>
   </thead>
   <tbody>
    <tr>
     <td>
      Alibaba Cloud DNS
      <br/>
      <small>
       (for IP addresses and hostnames)
      </small>
     </td>
     <td>
      <a href="https://registry.terraform.io/providers/aliyun/alicloud/latest/docs/resources/alidns_record">
       <code>
        alicloud_alidns_record
       </code>
       resource type
      </a>
     </td>
     <td>
      Normal DNS lookups, or
      <a href="https://registry.terraform.io/providers/hashicorp/dns/latest/docs">
       the
       <code>
        dns
       </code>
       provider
      </a>
     </td>
    </tr>
    <tr>
     <td>
      Amazon Route53
      <br/>
      <small>
       (for IP addresses and hostnames)
      </small>
     </td>
     <td>
      <a href="https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/route53_record">
       <code>
        aws_route53_record
       </code>
       resource type
      </a>
     </td>
     <td>
      Normal DNS lookups, or
      <a href="https://registry.terraform.io/providers/hashicorp/dns/latest/docs">
       the
       <code>
        dns
       </code>
       provider
      </a>
     </td>
    </tr>
    <tr>
     <td>
      Amazon S3
     </td>
     <td>
      <a href="https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/s3_bucket_object">
       <code>
        aws_s3_bucket_object
       </code>
       resource type
      </a>
     </td>
     <td>
      <a href="https://registry.terraform.io/providers/hashicorp/aws/latest/docs/data-sources/s3_bucket_object">
       <code>
        aws_s3_bucket_object
       </code>
       data source
      </a>
     </td>
    </tr>
    <tr>
     <td>
      Amazon SSM Parameter Store
     </td>
     <td>
      <a href="https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/ssm_parameter">
       <code>
        aws_ssm_parameter
       </code>
       resource type
      </a>
     </td>
     <td>
      <a href="https://registry.terraform.io/providers/hashicorp/aws/latest/docs/data-sources/ssm_parameter">
       <code>
        aws_ssm_parameter
       </code>
       data source
      </a>
     </td>
    </tr>
    <tr>
     <td>
      Azure Automation
     </td>
     <td>
      <a href="https://registry.terraform.io/providers/hashicorp/azurerm/latest/docs/resources/automation_variable_string">
       <code>
        azurerm_automation_variable_string
       </code>
       resource type
      </a>
     </td>
     <td>
      <a href="https://registry.terraform.io/providers/hashicorp/azurerm/latest/docs/data-sources/automation_variable_string">
       <code>
        azurerm_automation_variable_string
       </code>
       data source
      </a>
     </td>
    </tr>
    <tr>
     <td>
      Azure DNS
      <br/>
      <small>
       (for IP addresses and hostnames)
      </small>
     </td>
     <td>
      <a href="https://registry.terraform.io/providers/hashicorp/azurerm/latest/docs/resources/dns_a_record">
       <code>
        azurerm_dns_a_record
       </code>
       resource type
      </a>
      , etc
     </td>
     <td>
      Normal DNS lookups, or
      <a href="https://registry.terraform.io/providers/hashicorp/dns/latest/docs">
       the
       <code>
        dns
       </code>
       provider
      </a>
     </td>
    </tr>
    <tr>
     <td>
      Google Cloud DNS
      <br/>
      <small>
       (for IP addresses and hostnames)
      </small>
     </td>
     <td>
      <a href="https://registry.terraform.io/providers/hashicorp/google/latest/docs/resources/dns_record_set">
       <code>
        google_dns_record_set
       </code>
       resource type
      </a>
     </td>
     <td>
      Normal DNS lookups, or
      <a href="https://registry.terraform.io/providers/hashicorp/dns/latest/docs">
       the
       <code>
        dns
       </code>
       provider
      </a>
     </td>
    </tr>
    <tr>
     <td>
      Google Cloud Storage
     </td>
     <td>
      <a href="https://registry.terraform.io/providers/hashicorp/google/latest/docs/resources/storage_bucket_object">
       <code>
        google_storage_bucket_object
       </code>
       resource type
      </a>
     </td>
     <td>
      <a href="https://registry.terraform.io/providers/hashicorp/google/latest/docs/data-sources/storage_bucket_object">
       <code>
        google_storage_bucket_object
       </code>
       data source
      </a>
      and
      <a href="https://registry.terraform.io/providers/hashicorp/http/latest/docs/data-sources/http">
       <code>
        http
       </code>
       data source
      </a>
     </td>
    </tr>
    <tr>
     <td>
      HashiCorp Consul
     </td>
     <td>
      <a href="https://registry.terraform.io/providers/hashicorp/consul/latest/docs/resources/key_prefix">
       <code>
        consul_key_prefix
       </code>
       resource type
      </a>
     </td>
     <td>
      <a href="https://registry.terraform.io/providers/hashicorp/consul/latest/docs/data-sources/key_prefix">
       <code>
        consul_key_prefix
       </code>
       data source
      </a>
     </td>
    </tr>
    <tr>
     <td>
      Kubernetes
     </td>
     <td>
      <a href="https://registry.terraform.io/providers/hashicorp/kubernetes/latest/docs/resources/config_map">
       <code>
        kubernetes_config_map
       </code>
       resource type
      </a>
     </td>
     <td>
      <a href="https://registry.terraform.io/providers/hashicorp/kubernetes/latest/docs/data-sources/config_map">
       <code>
        kubernetes_config_map
       </code>
       data source
      </a>
     </td>
    </tr>
    <tr>
     <td>
      OCI Object Storage
     </td>
     <td>
      <a href="https://registry.terraform.io/providers/hashicorp/oci/latest/docs/resources/objectstorage_object">
       <code>
        oci_objectstorage_bucket
       </code>
       resource type
      </a>
     </td>
     <td>
      <a href="https://registry.terraform.io/providers/hashicorp/oci/latest/docs/data-sources/objectstorage_object">
       <code>
        oci_objectstorage_bucket
       </code>
       data source
      </a>
     </td>
    </tr>
   </tbody>
  </table>
  <div class="alert alert-info" role="alert">
   <p>
    These are some common options from the Official Terraform providers, but
 there are too many configuration storage options for us to list them all
 here, including some in partner and community providers.
 Any pair of managed resource type and corresponding data source can potentially
 be used to share data between Terraform configurations. See individual provider
 documentation to find other possibilities.
   </p>
  </div>
  <p>
   A key advantage of using a separate explicit configuration store instead of
   <code>
    terraform_remote_state
   </code>
   is that the data can potentially also be read by
 systems other than Terraform, such as configuration management or scheduler
 systems within your compute instances. For that reason, we recommend selecting
 a configuration store that your other infrastructure could potentially make
 use of. For example:
  </p>
  <ul>
   <li>
    If you wish to share IP addresses and hostnames, you could publish them as
 normal DNS
    <code>
     A
    </code>
    ,
    <code>
     AAAA
    </code>
    ,
    <code>
     CNAME
    </code>
    , and
    <code>
     SRV
    </code>
    records in a private DNS zone and
 then configure your other infrastructure to refer to that zone so you can
 find infrastructure objects via your system's built-in DNS resolver.
   </li>
   <li>
    If you use HashiCorp Consul then publishing data to the Consul key/value
 store or Consul service catalog can make that data also accessible via
    <a href="https://github.com/hashicorp/consul-template">
     Consul Template
    </a>
    or the
    <a href="https://www.nomadproject.io/docs/job-specification/template">
     HashiCorp Nomad
    </a>
    <code>
     template
    </code>
    stanza.
   </li>
   <li>
    If you use Kubernetes then you can
    <a href="https://kubernetes.io/docs/tasks/configure-pod-container/configure-pod-configmap/">
     make Config Maps available to your Pods
    </a>
    .
   </li>
  </ul>
  <p>
   Some of the data stores listed above are specifically designed for storing
 small configuration values, while others are generic blob storage systems. For
 those generic systems, you can use
   <a href="https://www.terraform.io/docs/language/functions/jsonencode.html">
    the
    <code>
     jsonencode
    </code>
    function
   </a>
   and
   <a href="https://www.terraform.io/docs/language/functions/jsondecode.html">
    the
    <code>
     jsondecode
    </code>
    function
   </a>
   respectively
 to store and retrieve structured data.
  </p>
  <p>
   You can encapsulate the implementation details of retrieving your published
 configuration data by writing a
   <a href="/docs/language/modules/develop/composition.html#data-only-modules">
    data-only module
   </a>
   containing the necessary data source configuration and any necessary
 post-processing such as JSON decoding. You can then change that module later
 if you switch to a different strategy for sharing data between multiple
 Terraform configurations.
  </p>
  <h2 id="example-usage-remote-backend-">
   <a class="anchor" href="#example-usage-remote-backend-" name="example-usage-remote-backend-">
    »
   </a>
   Example Usage (
   <code>
    remote
   </code>
   Backend)
  </h2>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">data</span> <span class="s2">"terraform_remote_state"</span> <span class="s2">"vpc"</span> <span class="p">{</span>
   <span class="n">backend</span> <span class="o">=</span> <span class="s2">"remote"</span>
 
   <span class="n">config</span> <span class="o">=</span> <span class="p">{</span>
     <span class="n">organization</span> <span class="o">=</span> <span class="s2">"hashicorp"</span>
     <span class="n">workspaces</span> <span class="o">=</span> <span class="p">{</span>
       <span class="nb">name</span> <span class="o">=</span> <span class="s2">"vpc-prod"</span>
     <span class="p">}</span>
   <span class="p">}</span>
 <span class="p">}</span>
 
 <span class="c1"># Terraform &gt;= 0.12</span>
 <span class="n">resource</span> <span class="s2">"aws_instance"</span> <span class="s2">"foo"</span> <span class="p">{</span>
   <span class="c1"># ...</span>
   <span class="n">subnet_id</span> <span class="o">=</span> <span class="n">data</span><span class="p">.</span><span class="nf">terraform_remote_state</span><span class="p">.</span><span class="nf">vpc</span><span class="p">.</span><span class="nf">outputs</span><span class="p">.</span><span class="nf">subnet_id</span>
 <span class="p">}</span>
 
 <span class="c1"># Terraform &lt;= 0.11</span>
 <span class="n">resource</span> <span class="s2">"aws_instance"</span> <span class="s2">"foo"</span> <span class="p">{</span>
   <span class="c1"># ...</span>
   <span class="n">subnet_id</span> <span class="o">=</span> <span class="s2">"${data.terraform_remote_state.vpc.subnet_id}"</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <h2 id="example-usage-local-backend-">
   <a class="anchor" href="#example-usage-local-backend-" name="example-usage-local-backend-">
    »
   </a>
   Example Usage (
   <code>
    local
   </code>
   Backend)
  </h2>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">data</span> <span class="s2">"terraform_remote_state"</span> <span class="s2">"vpc"</span> <span class="p">{</span>
   <span class="n">backend</span> <span class="o">=</span> <span class="s2">"local"</span>
 
   <span class="n">config</span> <span class="o">=</span> <span class="p">{</span>
     <span class="n">path</span> <span class="o">=</span> <span class="s2">"..."</span>
   <span class="p">}</span>
 <span class="p">}</span>
 
 <span class="c1"># Terraform &gt;= 0.12</span>
 <span class="n">resource</span> <span class="s2">"aws_instance"</span> <span class="s2">"foo"</span> <span class="p">{</span>
   <span class="c1"># ...</span>
   <span class="n">subnet_id</span> <span class="o">=</span> <span class="n">data</span><span class="p">.</span><span class="nf">terraform_remote_state</span><span class="p">.</span><span class="nf">vpc</span><span class="p">.</span><span class="nf">outputs</span><span class="p">.</span><span class="nf">subnet_id</span>
 <span class="p">}</span>
 
 <span class="c1"># Terraform &lt;= 0.11</span>
 <span class="n">resource</span> <span class="s2">"aws_instance"</span> <span class="s2">"foo"</span> <span class="p">{</span>
   <span class="c1"># ...</span>
   <span class="n">subnet_id</span> <span class="o">=</span> <span class="s2">"${data.terraform_remote_state.vpc.subnet_id}"</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <h2 id="argument-reference">
   <a class="anchor" href="#argument-reference" name="argument-reference">
    »
   </a>
   Argument Reference
  </h2>
  <p>
   The following arguments are supported:
  </p>
  <ul>
   <li>
    <a name="backend">
    </a>
    <a href="#backend">
     <code>
      backend
     </code>
    </a>
    - (Required) The remote backend to use.
   </li>
   <li>
    <a name="workspace">
    </a>
    <a href="#workspace">
     <code>
      workspace
     </code>
    </a>
    - (Optional) The Terraform workspace to use, if the backend
 supports workspaces.
   </li>
   <li>
    <p>
     <a name="config">
     </a>
     <a href="#config">
      <code>
       config
      </code>
     </a>
     - (Optional; object) The configuration of the remote backend.
 Although this argument is listed as optional, most backends require
 some configuration.
    </p>
    <p>
     The
     <code>
      config
     </code>
     object can use any arguments that would be valid in the
 equivalent
     <code>
      terraform { backend "&lt;TYPE&gt;" { ... } }
     </code>
     block. See
     <a href="/docs/language/settings/backends/index.html">
      the documentation of your chosen backend
     </a>
     for details.
    </p>
    <div class="alert alert-info" role="alert">
     <p>
      <strong>
       Note:
      </strong>
      If the backend configuration requires a nested block, specify
 it here as a normal attribute with an object value. (For example,
      <code>
       workspaces = { ... }
      </code>
      instead of
      <code>
       workspaces { ... }
      </code>
      .)
     </p>
    </div>
   </li>
   <li>
    <p>
     <a name="defaults">
     </a>
     <a href="#defaults">
      <code>
       defaults
      </code>
     </a>
     - (Optional; object) Default values for outputs, in case the state
 file is empty or lacks a required output.
    </p>
   </li>
  </ul>
  <h2 id="attributes-reference">
   <a class="anchor" href="#attributes-reference" name="attributes-reference">
    »
   </a>
   Attributes Reference
  </h2>
  <p>
   In addition to the above, the following attributes are exported:
  </p>
  <ul>
   <li>
    (v0.12+)
    <code>
     outputs
    </code>
    - An object containing every root-level
    <a href="/docs/language/values/outputs.html">
     output
    </a>
    in the remote state.
   </li>
   <li>
    (&lt;= v0.11)
    <code>
     &lt;OUTPUT NAME&gt;
    </code>
    - Each root-level
    <a href="/docs/language/values/outputs.html">
     output
    </a>
    in the remote state appears as a top level attribute on the data source.
   </li>
  </ul>
  <h2 id="root-outputs-only">
   <a class="anchor" href="#root-outputs-only" name="root-outputs-only">
    »
   </a>
   Root Outputs Only
  </h2>
  <p>
   Only the root-level output values from the remote state snapshot are exposed
 for use elsewhere in your module. Resource data and output values from nested
 modules are not accessible.
  </p>
  <p>
   If you wish to make a nested module output value accessible as a root module
 output value, you must explicitly configure a passthrough in the root module.
 For example:
  </p>
  <p>
   For example:
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">module</span> <span class="s2">"app"</span> <span class="p">{</span>
   <span class="n">source</span> <span class="o">=</span> <span class="s2">"..."</span>
 <span class="p">}</span>
 
 <span class="n">output</span> <span class="s2">"app_value"</span> <span class="p">{</span>
   <span class="c1"># This syntax is for Terraform 0.12 or later.</span>
   <span class="n">value</span> <span class="o">=</span> <span class="n">module</span><span class="p">.</span><span class="nf">app</span><span class="p">.</span><span class="nf">example</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <p>
   In this example, the output value named
   <code>
    example
   </code>
   from the "app" module is
 available as the
   <code>
    app_value
   </code>
   root module output value. If this configuration
 didn't include the
   <code>
    output "app_value"
   </code>
   block then the data would not be
 accessible via
   <code>
    terraform_remote_state
   </code>
   .
  </p>
  <div class="alert alert-warning" role="alert">
   <p>
    <strong>
     Warning:
    </strong>
    Although
    <code>
     terraform_remote_state
    </code>
    doesn't expose any other
 state snapshot information for use in configuration, the state snapshot data
 is a single object and so any user or server which has enough access to read
 the root module output values will also always have access to the full state
 snapshot data by direct network requests. Don't use
    <code>
     terraform_remote_state
    </code>
    if any of the resources in your configuration work with data that you consider
 sensitive.
   </p>
  </div>
 </div>
 
 <!-- ########### State : Import Existing Resources ############### -->
 <!-- ########### https://www.terraform.io/docs/language/state/backends.html ############### --
 ><!-- ########### State : Import Existing Resources ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="state-storage-and-locking">
    <a class="anchor" href="#state-storage-and-locking" name="state-storage-and-locking">
     »
    </a>
    State Storage and Locking
   </h1>
   <div id="inner-quicknav">
    <span id="inner-quicknav-trigger">
     Jump to Section
     <svg height="5" width="9" xmlns="http://www.w3.org/2000/svg">
      <path d="M8.811 1.067a.612.612 0 0 0 0-.884.655.655 0 0 0-.908 0L4.5 3.491 1.097.183a.655.655 0 0 0-.909 0 .615.615 0 0 0 0 .884l3.857 3.75a.655.655 0 0 0 .91 0l3.856-3.75z" fill-rule="evenodd">
      </path>
     </svg>
    </span>
    <ul class="dropdown">
     <li class="level-h2">
      <a href="#state-storage">
       »
 State Storage
      </a>
     </li>
     <li class="level-h2">
      <a href="#manual-state-pull-push">
       »
 Manual State Pull/Push
      </a>
     </li>
     <li class="level-h2">
      <a href="#state-locking">
       »
 State Locking
      </a>
     </li>
    </ul>
   </div>
  </div>
  <p>
   Backends are responsible for storing state and providing an API for
   <a href="/docs/language/state/locking.html">
    state locking
   </a>
   . State locking is optional.
  </p>
  <p>
   Despite the state being stored remotely, all Terraform commands such
 as
   <code>
    terraform console
   </code>
   , the
   <code>
    terraform state
   </code>
   operations,
   <code>
    terraform taint
   </code>
   ,
 and more will continue to work as if the state was local.
  </p>
  <h2 id="state-storage">
   <a class="anchor" href="#state-storage" name="state-storage">
    »
   </a>
   State Storage
  </h2>
  <p>
   Backends determine where state is stored. For example, the local (default)
 backend stores state in a local JSON file on disk. The Consul backend stores
 the state within Consul. Both of these backends happen to provide locking:
 local via system APIs and Consul via locking APIs.
  </p>
  <p>
   When using a non-local backend, Terraform will not persist the state anywhere
 on disk except in the case of a non-recoverable error where writing the state
 to the backend failed. This behavior is a major benefit for backends: if
 sensitive values are in your state, using a remote backend allows you to use
 Terraform without that state ever being persisted to disk.
  </p>
  <p>
   In the case of an error persisting the state to the backend, Terraform will
 write the state locally. This is to prevent data loss. If this happens the
 end user must manually push the state to the remote backend once the error
 is resolved.
  </p>
  <h2 id="manual-state-pull-push">
   <a class="anchor" href="#manual-state-pull-push" name="manual-state-pull-push">
    »
   </a>
   Manual State Pull/Push
  </h2>
  <p>
   You can still manually retrieve the state from the remote state using
 the
   <code>
    terraform state pull
   </code>
   command. This will load your remote state and
 output it to stdout. You can choose to save that to a file or perform any
 other operations.
  </p>
  <p>
   You can also manually write state with
   <code>
    terraform state push
   </code>
   .
   <strong>
    This
 is extremely dangerous and should be avoided if possible.
   </strong>
   This will
 overwrite the remote state. This can be used to do manual fixups if necessary.
  </p>
  <p>
   When manually pushing state, Terraform will attempt to protect you from
 some potentially dangerous situations:
  </p>
  <ul>
   <li>
    <p>
     <strong>
      Differing lineage
     </strong>
     : The "lineage" is a unique ID assigned to a state
 when it is created. If a lineage is different, then it means the states
 were created at different times and its very likely you're modifying a
 different state. Terraform will not allow this.
    </p>
   </li>
   <li>
    <p>
     <strong>
      Higher serial
     </strong>
     : Every state has a monotonically increasing "serial"
 number. If the destination state has a higher serial, Terraform will
 not allow you to write it since it means that changes have occurred since
 the state you're attempting to write.
    </p>
   </li>
  </ul>
  <p>
   Both of these protections can be bypassed with the
   <code>
    -force
   </code>
   flag if you're
 confident you're making the right decision. Even if using the
   <code>
    -force
   </code>
   flag,
 we recommend making a backup of the state with
   <code>
    terraform state pull
   </code>
   prior to forcing the overwrite.
  </p>
  <h2 id="state-locking">
   <a class="anchor" href="#state-locking" name="state-locking">
    »
   </a>
   State Locking
  </h2>
  <p>
   Backends are responsible for supporting
   <a href="/docs/language/state/locking.html">
    state locking
   </a>
   if possible.
  </p>
  <p>
   Not all backends support locking. The
   <a href="/docs/language/settings/backends/index.html">
    documentation for each backend
   </a>
   includes details on whether it supports locking or not.
  </p>
  <p>
   For more information on state locking, view the
   <a href="/docs/language/state/locking.html">
    page dedicated to state locking
   </a>
   .
  </p>
 </div>
 
 <!-- ########### State : Locking ############### -->
 <!-- ########### https://www.terraform.io/docs/language/state/import.html ############### --
 ><!-- ########### State : Locking ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="import-existing-resources">
    <a class="anchor" href="#import-existing-resources" name="import-existing-resources">
     »
    </a>
    Import Existing Resources
   </h1>
  </div>
  <p>
   Terraform is able to import existing infrastructure. This allows you take
 resources you've created by some other means and bring it under Terraform management.
  </p>
  <p>
   To learn more about this, please visit the
   <a href="/docs/cli/import/index.html">
    pages dedicated to import
   </a>
   .
  </p>
 </div>
 
 <!-- ########### State : Workspaces ############### -->
 <!-- ########### https://www.terraform.io/docs/language/state/locking.html ############### --
 ><!-- ########### State : Workspaces ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="state-locking">
    <a class="anchor" href="#state-locking" name="state-locking">
     »
    </a>
    State Locking
   </h1>
  </div>
  <p>
   If supported by your
   <a href="/docs/language/settings/backends/index.html">
    backend
   </a>
   , Terraform will lock your
 state for all operations that could write state. This prevents
 others from acquiring the lock and potentially corrupting your state.
  </p>
  <p>
   State locking happens automatically on all operations that could write
 state. You won't see any message that it is happening. If state locking fails,
 Terraform will not continue. You can disable state locking for most commands
 with the
   <code>
    -lock
   </code>
   flag but it is not recommended.
  </p>
  <p>
   If acquiring the lock is taking longer than expected, Terraform will output
 a status message. If Terraform doesn't output a message, state locking is
 still occurring if your backend supports it.
  </p>
  <p>
   Not all backends support locking. The
   <a href="/docs/language/settings/backends/index.html">
    documentation for each backend
   </a>
   includes details on whether it supports locking or not.
  </p>
  <h2 id="force-unlock">
   <a class="anchor" href="#force-unlock" name="force-unlock">
    »
   </a>
   Force Unlock
  </h2>
  <p>
   Terraform has a
   <a href="/docs/cli/commands/force-unlock.html">
    force-unlock command
   </a>
   to manually unlock the state if unlocking failed.
  </p>
  <p>
   <strong>
    Be very careful with this command.
   </strong>
   If you unlock the state when someone
 else is holding the lock it could cause multiple writers. Force unlock should
 only be used to unlock your own lock in the situation where automatic
 unlocking failed.
  </p>
  <p>
   To protect you, the
   <code>
    force-unlock
   </code>
   command requires a unique lock ID. Terraform
 will output this lock ID if unlocking fails. This lock ID acts as a
   <a href="https://en.wikipedia.org/wiki/Cryptographic_nonce">
    nonce
   </a>
   , ensuring
 that locks and unlocks target the correct lock.
  </p>
 </div>
 
 <!-- ########### State : Remote State ############### -->
 <!-- ########### https://www.terraform.io/docs/language/state/workspaces.html ############### --
 ><!-- ########### State : Remote State ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="workspaces">
    <a class="anchor" href="#workspaces" name="workspaces">
     »
    </a>
    Workspaces
   </h1>
   <div id="inner-quicknav">
    <span id="inner-quicknav-trigger">
     Jump to Section
     <svg height="5" width="9" xmlns="http://www.w3.org/2000/svg">
      <path d="M8.811 1.067a.612.612 0 0 0 0-.884.655.655 0 0 0-.908 0L4.5 3.491 1.097.183a.655.655 0 0 0-.909 0 .615.615 0 0 0 0 .884l3.857 3.75a.655.655 0 0 0 .91 0l3.856-3.75z" fill-rule="evenodd">
      </path>
     </svg>
    </span>
    <ul class="dropdown">
     <li class="level-h2">
      <a href="#using-workspaces">
       »
 Using Workspaces
      </a>
     </li>
     <li class="level-h2">
      <a href="#current-workspace-interpolation">
       »
 Current Workspace Interpolation
      </a>
     </li>
     <li class="level-h2">
      <a href="#when-to-use-multiple-workspaces">
       »
 When to use Multiple Workspaces
      </a>
     </li>
     <li class="level-h2">
      <a href="#workspace-internals">
       »
 Workspace Internals
      </a>
     </li>
    </ul>
   </div>
  </div>
  <p>
   Each Terraform configuration has an associated
   <a href="/docs/language/settings/backends/index.html">
    backend
   </a>
   that defines how operations are executed and where persistent data such as
   <a href="https://www.terraform.io/docs/language/state/purpose.html">
    the Terraform state
   </a>
   are
 stored.
  </p>
  <p>
   The persistent data stored in the backend belongs to a
   <em>
    workspace
   </em>
   . Initially
 the backend has only one workspace, called "default", and thus there is only
 one Terraform state associated with that configuration.
  </p>
  <p>
   Certain backends support
   <em>
    multiple
   </em>
   named workspaces, allowing multiple states
 to be associated with a single configuration. The configuration still
 has only one backend, but multiple distinct instances of that configuration
 to be deployed without configuring a new backend or changing authentication
 credentials.
  </p>
  <p>
   Multiple workspaces are currently supported by the following backends:
  </p>
  <ul>
   <li>
    <a href="/docs/language/settings/backends/azurerm.html">
     AzureRM
    </a>
   </li>
   <li>
    <a href="/docs/language/settings/backends/consul.html">
     Consul
    </a>
   </li>
   <li>
    <a href="/docs/language/settings/backends/cos.html">
     COS
    </a>
   </li>
   <li>
    <a href="/docs/language/settings/backends/gcs.html">
     GCS
    </a>
   </li>
   <li>
    <a href="/docs/language/settings/backends/kubernetes.html">
     Kubernetes
    </a>
   </li>
   <li>
    <a href="/docs/language/settings/backends/local.html">
     Local
    </a>
   </li>
   <li>
    <a href="/docs/language/settings/backends/manta.html">
     Manta
    </a>
   </li>
   <li>
    <a href="/docs/language/settings/backends/pg.html">
     Postgres
    </a>
   </li>
   <li>
    <a href="/docs/language/settings/backends/remote.html">
     Remote
    </a>
   </li>
   <li>
    <a href="/docs/language/settings/backends/s3.html">
     S3
    </a>
   </li>
  </ul>
  <p>
   In the 0.9 line of Terraform releases, this concept was known as "environment".
 It was renamed in 0.10 based on feedback about confusion caused by the
 overloading of the word "environment" both within Terraform itself and within
 organizations that use Terraform.
  </p>
  <div class="alert alert-info" role="alert">
   <p>
    <strong>
     Note
    </strong>
    : The Terraform CLI workspace concept described in this document is
 different from but related to the Terraform Cloud
    <a href="/docs/cloud/workspaces/index.html">
     workspace
    </a>
    concept.
 If you use multiple Terraform CLI workspaces in a single Terraform configuration
 and are migrating that configuration to Terraform Cloud, see this
    <a href="/docs/cloud/migrate/workspaces.html">
     migration
 document
    </a>
    .
   </p>
  </div>
  <h2 id="using-workspaces">
   <a class="anchor" href="#using-workspaces" name="using-workspaces">
    »
   </a>
   Using Workspaces
  </h2>
  <p>
   Terraform starts with a single workspace named "default". This
 workspace is special both because it is the default and also because
 it cannot ever be deleted. If you've never explicitly used workspaces, then
 you've only ever worked on the "default" workspace.
  </p>
  <p>
   Workspaces are managed with the
   <code>
    terraform workspace
   </code>
   set of commands. To
 create a new workspace and switch to it, you can use
   <code>
    terraform workspace new
   </code>
   ;
 to switch workspaces you can use
   <code>
    terraform workspace select
   </code>
   ; etc.
  </p>
  <p>
   For example, creating a new workspace:
  </p>
  <div class="highlight">
   <pre class="highlight plaintext"><code>$ terraform workspace new bar
 Created and switched to workspace "bar"!
 
 You're now on a new, empty workspace. Workspaces isolate their state,
 so if you run "terraform plan" Terraform will not see any existing state
 for this configuration.
 </code></pre>
  </div>
  <p>
   As the command says, if you run
   <code>
    terraform plan
   </code>
   , Terraform will not see
 any existing resources that existed on the default (or any other) workspace.
   <strong>
    These resources still physically exist,
   </strong>
   but are managed in another
 Terraform workspace.
  </p>
  <h2 id="current-workspace-interpolation">
   <a class="anchor" href="#current-workspace-interpolation" name="current-workspace-interpolation">
    »
   </a>
   Current Workspace Interpolation
  </h2>
  <p>
   Within your Terraform configuration, you may include the name of the current
 workspace using the
   <code>
    ${terraform.workspace}
   </code>
   interpolation sequence. This can
 be used anywhere interpolations are allowed. However, it should
   <strong>
    not
   </strong>
   be
 used in remote operations against Terraform Cloud workspaces. For an
 explanation, see the
   <a href="/docs/language/settings/backends/remote.html#workspaces">
    remote backend
   </a>
   document.
  </p>
  <p>
   Referencing the current workspace is useful for changing behavior based
 on the workspace. For example, for non-default workspaces, it may be useful
 to spin up smaller cluster sizes. For example:
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">resource</span> <span class="s2">"aws_instance"</span> <span class="s2">"example"</span> <span class="p">{</span>
   <span class="n">count</span> <span class="o">=</span> <span class="s2">"${terraform.workspace == "</span><span class="n">default</span><span class="s2">" ? 5 : 1}"</span>
 
   <span class="c1"># ... other arguments</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <p>
   Another popular use case is using the workspace name as part of naming or
 tagging behavior:
  </p>
  <div class="highlight">
   <pre class="highlight hcl"><code><span class="n">resource</span> <span class="s2">"aws_instance"</span> <span class="s2">"example"</span> <span class="p">{</span>
   <span class="n">tags</span> <span class="o">=</span> <span class="p">{</span>
     <span class="no">Name</span> <span class="o">=</span> <span class="s2">"web - ${terraform.workspace}"</span>
   <span class="p">}</span>
 
   <span class="c1"># ... other arguments</span>
 <span class="p">}</span>
 </code></pre>
  </div>
  <h2 id="when-to-use-multiple-workspaces">
   <a class="anchor" href="#when-to-use-multiple-workspaces" name="when-to-use-multiple-workspaces">
    »
   </a>
   When to use Multiple Workspaces
  </h2>
  <p>
   Named workspaces allow conveniently switching between multiple instances of
 a
   <em>
    single
   </em>
   configuration within its
   <em>
    single
   </em>
   backend. They are convenient in
 a number of situations, but cannot solve all problems.
  </p>
  <p>
   A common use for multiple workspaces is to create a parallel, distinct copy of
 a set of infrastructure in order to test a set of changes before modifying the
 main production infrastructure. For example, a developer working on a complex
 set of infrastructure changes might create a new temporary workspace in order
 to freely experiment with changes without affecting the default workspace.
  </p>
  <p>
   Non-default workspaces are often related to feature branches in version control.
 The default workspace might correspond to the "master" or "trunk" branch,
 which describes the intended state of production infrastructure. When a
 feature branch is created to develop a change, the developer of that feature
 might create a corresponding workspace and deploy into it a temporary "copy"
 of the main infrastructure so that changes can be tested without affecting
 the production infrastructure. Once the change is merged and deployed to the
 default workspace, the test infrastructure can be destroyed and the temporary
 workspace deleted.
  </p>
  <p>
   When Terraform is used to manage larger systems, teams should use multiple
 separate Terraform configurations that correspond with suitable architectural
 boundaries within the system so that different components can be managed
 separately and, if appropriate, by distinct teams. Workspaces
   <em>
    alone
   </em>
   are not a suitable tool for system decomposition, because each subsystem should
 have its own separate configuration and backend, and will thus have its own
 distinct set of workspaces.
  </p>
  <p>
   In particular, organizations commonly want to create a strong separation
 between multiple deployments of the same infrastructure serving different
 development stages (e.g. staging vs. production) or different internal teams.
 In this case, the backend used for each deployment often belongs to that
 deployment, with different credentials and access controls. Named workspaces
 are
   <em>
    not
   </em>
   a suitable isolation mechanism for this scenario.
  </p>
  <p>
   Instead, use one or more
   <a href="/docs/language/modules/develop/index.html">
    re-usable modules
   </a>
   to
 represent the common elements, and then represent each instance as a separate
 configuration that instantiates those common elements in the context of a
 different backend. In that case, the root module of each configuration will
 consist only of a backend configuration and a small number of
   <code>
    module
   </code>
   blocks
 whose arguments describe any small differences between the deployments.
  </p>
  <p>
   Where multiple configurations are representing distinct system components
 rather than multiple deployments, data can be passed from one component to
 another using paired resources types and data sources. For example:
  </p>
  <ul>
   <li>
    <p>
     Where a shared
     <a href="https://consul.io/">
      Consul
     </a>
     cluster is available, use
     <a href="https://registry.terraform.io/providers/hashicorp/consul/latest/docs/resources/key_prefix">
      <code>
       consul_key_prefix
      </code>
     </a>
     to
 publish to the key/value store and
     <a href="https://registry.terraform.io/providers/hashicorp/consul/latest/docs/data-sources/keys">
      <code>
       consul_keys
      </code>
     </a>
     to retrieve those values in other configurations.
    </p>
   </li>
   <li>
    <p>
     In systems that support user-defined labels or tags, use a tagging convention
 to make resources automatically discoverable. For example, use
     <a href="https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/vpc">
      the
      <code>
       aws_vpc
      </code>
      resource type
     </a>
     to assign suitable tags and then
     <a href="https://registry.terraform.io/providers/hashicorp/aws/latest/docs/data-sources/vpc">
      the
      <code>
       aws_vpc
      </code>
      data source
     </a>
     to query by those tags in other configurations.
    </p>
   </li>
   <li>
    <p>
     For server addresses, use a provider-specific resource to create a DNS
 record with a predictable name and then either use that name directly or
 use
     <a href="https://registry.terraform.io/providers/hashicorp/dns/latest/docs">
      the
      <code>
       dns
      </code>
      provider
     </a>
     to retrieve
 the published addresses in other configurations.
    </p>
   </li>
   <li>
    <p>
     If a Terraform state for one configuration is stored in a remote backend
 that is accessible to other configurations then
     <a href="/docs/language/state/remote-state-data.html">
      <code>
       terraform_remote_state
      </code>
     </a>
     can be used to directly consume its root module outputs from those other
 configurations. This creates a tighter coupling between configurations,
 but avoids the need for the "producer" configuration to explicitly
 publish its results in a separate system.
    </p>
   </li>
  </ul>
  <h2 id="workspace-internals">
   <a class="anchor" href="#workspace-internals" name="workspace-internals">
    »
   </a>
   Workspace Internals
  </h2>
  <p>
   Workspaces are technically equivalent to renaming your state file. They
 aren't any more complex than that. Terraform wraps this simple notion with
 a set of protections and support for remote state.
  </p>
  <p>
   For local state, Terraform stores the workspace states in a directory called
   <code>
    terraform.tfstate.d
   </code>
   . This directory should be treated similarly to
 local-only
   <code>
    terraform.tfstate
   </code>
   ; some teams commit these files to version
 control, although using a remote backend instead is recommended when there are
 multiple collaborators.
  </p>
  <p>
   For
   <a href="/docs/language/state/remote.html">
    remote state
   </a>
   , the workspaces are stored
 directly in the configured
   <a href="/docs/language/settings/backends/index.html">
    backend
   </a>
   . For example, if you
 use
   <a href="/docs/language/settings/backends/consul.html">
    Consul
   </a>
   , the workspaces are stored
 by appending the workspace name to the state path. To ensure that
 workspace names are stored correctly and safely in all backends, the name
 must be valid to use in a URL path segment without escaping.
  </p>
  <p>
   The important thing about workspace internals is that workspaces are
 meant to be a shared resource. They aren't a private, local-only notion
 (unless you're using purely local state and not committing it).
  </p>
  <p>
   The "current workspace" name is stored only locally in the ignored
   <code>
    .terraform
   </code>
   directory. This allows multiple team members to work on
 different workspaces concurrently. The "current workspace" name is
   <strong>
    not
   </strong>
   currently meaningful in Terraform Cloud workspaces since it will always
 have the value
   <code>
    default
   </code>
   .
  </p>
 </div>
 
 <!-- ########### State : Sensitive Data ############### -->
 <!-- ########### https://www.terraform.io/docs/language/state/remote.html ############### --
 ><!-- ########### State : Sensitive Data ############### -->
 
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="remote-state">
    <a class="anchor" href="#remote-state" name="remote-state">
     »
    </a>
    Remote State
   </h1>
  </div>
  <p>
   By default, Terraform stores state locally in a file named
   <code>
    terraform.tfstate
   </code>
   .
 When working with Terraform in a team, use of a local file makes Terraform
 usage complicated because each user must make sure they always have the latest
 state data before running Terraform and make sure that nobody else runs
 Terraform at the same time.
  </p>
  <p>
   With
   <em>
    remote
   </em>
   state, Terraform writes the state data to a remote data store,
 which can then be shared between all members of a team. Terraform supports
 storing state in
   <a href="https://www.hashicorp.com/products/terraform/">
    Terraform Cloud
   </a>
   ,
   <a href="https://www.consul.io/">
    HashiCorp Consul
   </a>
   , Amazon S3, Azure Blob Storage, Google Cloud Storage, Alibaba Cloud OSS, and more.
  </p>
  <p>
   Remote state is implemented by a
   <a href="/docs/language/settings/backends/index.html">
    backend
   </a>
   ,
 which you can configure in your configuration's root module.
  </p>
  <h2 id="delegation-and-teamwork">
   <a class="anchor" href="#delegation-and-teamwork" name="delegation-and-teamwork">
    »
   </a>
   Delegation and Teamwork
  </h2>
  <p>
   Remote state allows you to share
   <a href="/docs/language/values/outputs.html">
    output values
   </a>
   with other configurations.
 This allows your infrastructure to be decomposed into smaller components.
  </p>
  <p>
   Put another way, remote state also allows teams to share infrastructure
 resources in a read-only way without relying on any additional configuration
 store.
  </p>
  <p>
   For example, a core infrastructure team can handle building the core
 machines, networking, etc. and can expose some information to other
 teams to run their own infrastructure. As a more specific example with AWS:
 you can expose things such as VPC IDs, subnets, NAT instance IDs, etc. through
 remote state and have other Terraform states consume that.
  </p>
  <p>
   For example usage, see
   <a href="/docs/language/state/remote-state-data.html">
    the
    <code>
     terraform_remote_state
    </code>
    data source
   </a>
   .
  </p>
  <p>
   While remote state can be a convenient, built-in mechanism for sharing data
 between configurations, you may prefer to use more general stores to
 pass settings both to other configurations and to other consumers. For example,
 if your environment has
   <a href="https://www.consul.io/">
    HashiCorp Consul
   </a>
   then you
 can have one Terraform configuration that writes to Consul using
   <a href="https://registry.terraform.io/providers/hashicorp/consul/latest/docs/resources/key_prefix">
    <code>
     consul_key_prefix
    </code>
   </a>
   and then
 another that consumes those values using
   <a href="https://registry.terraform.io/providers/hashicorp/consul/latest/docs/data-sources/keys">
    the
    <code>
     consul_keys
    </code>
    data source
   </a>
   .
  </p>
  <h2 id="locking-and-teamwork">
   <a class="anchor" href="#locking-and-teamwork" name="locking-and-teamwork">
    »
   </a>
   Locking and Teamwork
  </h2>
  <p>
   For fully-featured remote backends, Terraform can also use
   <a href="/docs/language/state/locking.html">
    state locking
   </a>
   to prevent concurrent runs of
 Terraform against the same state.
  </p>
  <p>
   <a href="https://www.hashicorp.com/products/terraform/">
    Terraform Cloud by HashiCorp
   </a>
   is a commercial offering that supports an even stronger locking concept that
 can also detect attempts to create a new plan when an existing plan is already
 awaiting approval, by queuing Terraform operations in a central location.
 This allows teams to more easily coordinate and communicate about changes to
 infrastructure.
  </p>
 </div>
 <div class="col-sm-8 col-md-9 col-xs-12" id="inner" role="main">
  <div id="inner-header-grid">
   <div id="external-docs-link">
   </div>
   <h1 id="sensitive-data-in-state">
    <a class="anchor" href="#sensitive-data-in-state" name="sensitive-data-in-state">
     »
    </a>
    Sensitive Data in State
   </h1>
  </div>
  <p>
   Terraform state can contain sensitive data, depending on the resources in use
 and your definition of "sensitive." The state contains resource IDs and all
 resource attributes. For resources such as databases, this may contain initial
 passwords.
  </p>
  <p>
   When using local state, state is stored in plain-text JSON files.
  </p>
  <p>
   When using
   <a href="/docs/language/state/remote.html">
    remote state
   </a>
   , state is only ever held in
 memory when used by Terraform. It may be encrypted at rest, but this depends on
 the specific remote state backend.
  </p>
  <h2 id="recommendations">
   <a class="anchor" href="#recommendations" name="recommendations">
    »
   </a>
   Recommendations
  </h2>
  <p>
   If you manage any sensitive data with Terraform (like database passwords, user
 passwords, or private keys), treat the state itself as sensitive data.
  </p>
  <p>
   Storing state remotely can provide better security. As of Terraform 0.9,
 Terraform does not persist state to the local disk when remote state is in use,
 and some backends can be configured to encrypt the state data at rest.
  </p>
  <p>
   For example:
  </p>
  <ul>
   <li>
    <a href="/docs/cloud/index.html">
     Terraform Cloud
    </a>
    always encrypts state at rest and
 protects it with TLS in transit. Terraform Cloud also knows the identity of
 the user requesting state and maintains a history of state changes. This can
 be used to control access and track activity.
    <a href="/docs/enterprise/index.html">
     Terraform Enterprise
    </a>
    also supports detailed audit logging.
   </li>
   <li>
    The S3 backend supports encryption at rest when the
    <code>
     encrypt
    </code>
    option is
 enabled. IAM policies and logging can be used to identify any invalid access.
 Requests for the state go over a TLS connection.
   </li>
  </ul>
 </div>
 












   
  </div>
  <script type="application/ld+json">
   {
        "@context": "http://schema.org",
        "@type": "Product",
        "name": "Terraform",
        "alternateName": "Terraform by HashiCorp",
        "manufacturer": "HashiCorp",
        "url": "https://www.terraform.io",
        "logo": "https://www.terraform.io/assets/images/logo-hashicorp-3f10732f.svg",
        "sameAs": [
          "https://github.com/hashicorp/terraform"
        ]
      }
  </script>
  <div id="om-vgyzgoyxfu6llgxk7jnv-holder">
  </div>
  <div id="om-ptttj6c4neq8mwziegtq-holder">
  </div>
  <script id="" src="//cdn.bizible.com/scripts/bizible.js" type="text/javascript">
  </script>
  <img alt="" src="https://cdn.bizible.com/m/ipv?_biz_r=&amp;_biz_h=-417244810&amp;_biz_u=207ef29f64184b63f724671248569bf9&amp;_biz_s=12f699&amp;_biz_l=https%3A%2F%2Fwww.terraform.io%2Fdocs%2Flanguage%2Findex.html&amp;_biz_t=1617407924733&amp;_biz_i=Overview%20-%20Configuration%20Language%20-%20Terraform%20by%20HashiCorp&amp;_biz_n=0&amp;rnd=567444&amp;cdn_o=a&amp;_biz_z=1617407924735" style="display: none;"/>
  <img alt="" src="https://cdn.bizibly.com/u?_biz_u=207ef29f64184b63f724671248569bf9&amp;_biz_s=12f699&amp;_biz_l=https%3A%2F%2Fwww.terraform.io%2Fdocs%2Flanguage%2Findex.html&amp;_biz_t=1617407924738&amp;_biz_i=Overview%20-%20Configuration%20Language%20-%20Terraform%20by%20HashiCorp&amp;rnd=559404&amp;cdn_o=a&amp;_biz_z=1617407924738" style="display: none;"/>
 </body>
</html>